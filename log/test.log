  [1m[35m (119.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "demo_authy_app_test"[0m
  [1m[35m (318.4ms)[0m  [1m[35mCREATE DATABASE "demo_authy_app_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "confirm_token" character varying, "confirmed_at" timestamp(6), "otp_secret_key" character varying, "authy_enabled" boolean DEFAULT TRUE, "qr_secret" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231201120434)[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-01-24 09:48:06.550218', '2024-01-24 09:48:06.550231') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '11496097f5930b1c12a2627263c580e1135dc223', '2024-01-24 09:48:06.560364', '2024-01-24 09:48:06.560373') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"gerardo@maggio.test", "name"=>"Evan Stehr DDS", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "gerardo@maggio.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Evan Stehr DDS"], ["email", "gerardo@maggio.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:48:07.902466"], ["updated_at", "2024-01-24 09:48:07.902466"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 3.3ms | Allocations: 1530)
  Rendered layout layouts/mailer.html.erb (Duration: 3.6ms | Allocations: 1618)
ApplicationMailer#send_confirmation_email: processed outbound mail in 21.4ms
Completed 500 Internal Server Error in 93ms (ActiveRecord: 6.2ms | Allocations: 41230)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"brent.waelchi@denesik.test", "name"=>"Howard Collier", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "brent.waelchi@denesik.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Howard Collier"], ["email", "brent.waelchi@denesik.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:48:07.966290"], ["updated_at", "2024-01-24 09:48:07.966290"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 176)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 233)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.2ms
Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.4ms | Allocations: 1710)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"lincoln@flatley.test", "name"=>"Sen. Brain Cole", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "lincoln@flatley.test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 4ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 862)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"jenine@murphy-dibbert.test", "name"=>"Sofia Dach", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "jenine@murphy-dibbert.test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 695)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "matthew_murray@nienow-shields.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Willy Koepp"], ["email", "matthew_murray@nienow-shields.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:48:07.992687"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:48:07.994282"], ["updated_at", "2024-01-24 09:48:07.994282"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2024-01-24 09:48:07.998388"], ["id", 3]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 887)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 235)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (107.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "demo_authy_app_test"[0m
  [1m[35m (258.6ms)[0m  [1m[35mCREATE DATABASE "demo_authy_app_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "confirm_token" character varying, "confirmed_at" timestamp(6), "otp_secret_key" character varying, "authy_enabled" boolean DEFAULT TRUE, "qr_secret" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20231201120434)[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-01-24 09:48:24.501137', '2024-01-24 09:48:24.501142') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '335e87e905b360ff49dc803bc4807a8a802bc37c', '2024-01-24 09:48:24.505746', '2024-01-24 09:48:24.505749') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (24.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"jc.mcdermott@bosco.test", "name"=>"John Krajcik", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "jc.mcdermott@bosco.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "John Krajcik"], ["email", "jc.mcdermott@bosco.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:48:24.888554"], ["updated_at", "2024-01-24 09:48:24.888554"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 1.7ms | Allocations: 788)
  Rendered layout layouts/mailer.html.erb (Duration: 2.0ms | Allocations: 876)
ApplicationMailer#send_confirmation_email: processed outbound mail in 12.3ms
Completed 500 Internal Server Error in 75ms (ActiveRecord: 5.0ms | Allocations: 31142)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"lien.douglas@kovacek.test", "name"=>"Adena Lang DDS", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "lien.douglas@kovacek.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Adena Lang DDS"], ["email", "lien.douglas@kovacek.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:48:24.937577"], ["updated_at", "2024-01-24 09:48:24.937577"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 176)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 233)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.3ms
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.6ms | Allocations: 1639)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"charla.schuster@graham.test", "name"=>"Royce Roob", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "charla.schuster@graham.test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 4ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 862)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"heather.schultz@renner.example", "name"=>"Lindsey MacGyver", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "heather.schultz@renner.example"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 696)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "emmitt.will@welch.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Laurice Bechtelar"], ["email", "emmitt.will@welch.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:48:24.964636"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:48:24.966299"], ["updated_at", "2024-01-24 09:48:24.966299"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2024-01-24 09:48:24.970907"], ["id", 3]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 881)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 235)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"carole@zboncak.test", "name"=>"Joey Koelpin", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "carole@zboncak.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Joey Koelpin"], ["email", "carole@zboncak.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:49:21.761625"], ["updated_at", "2024-01-24 09:49:21.761625"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.7ms | Allocations: 360)
  Rendered layout layouts/mailer.html.erb (Duration: 1.2ms | Allocations: 585)
ApplicationMailer#send_confirmation_email: processed outbound mail in 16.9ms
Delivered mail 65b0dd21c455b_3caf13c4818cf@itsupport-HP-ProBook-440-G7.mail (44.2ms)
Date: Wed, 24 Jan 2024 15:19:21 +0530
From: from@example.com
To: carole@zboncak.test
Message-ID: <65b0dd21c455b_3caf13c4818cf@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Joey Koelpin,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=I40gXY_My3jSDtkSHtk0Fw">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 115ms (Views: 0.7ms | ActiveRecord: 4.2ms | Allocations: 47143)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"jacque_dietrich@leuschke.test", "name"=>"Linette Grady", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "jacque_dietrich@leuschke.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Linette Grady"], ["email", "jacque_dietrich@leuschke.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:49:21.857078"], ["updated_at", "2024-01-24 09:49:21.857078"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.4ms | Allocations: 125)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.6ms
Delivered mail 65b0dd21d25f4_3caf13c4819fc@itsupport-HP-ProBook-440-G7.mail (12.7ms)
Date: Wed, 24 Jan 2024 15:19:21 +0530
From: from@example.com
To: jacque_dietrich@leuschke.test
Message-ID: <65b0dd21d25f4_3caf13c4819fc@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Linette Grady,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=4llHKbX2fkVMpZEkiZq_9Q">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 6670)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"christal@lubowitz.test", "name"=>"Laurene Hudson", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "christal@lubowitz.test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 755)
  [1m[36mUser Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"thad@turcotte.test", "name"=>"Anjanette Morar", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "thad@turcotte.test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 692)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "vincent.cassin@pouros-labadie.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Hue Wilderman"], ["email", "vincent.cassin@pouros-labadie.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:49:21.910693"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:49:21.913222"], ["updated_at", "2024-01-24 09:49:21.913222"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2024-01-24 09:49:21.920222"], ["id", 6]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 831)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 231)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo@domain.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "vaughn@weber.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rick Ledner"], ["email", "vaughn@weber.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:50:00.231842"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:50:00.233556"], ["updated_at", "2024-01-24 09:50:00.233556"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "shanna_dietrich@moen-stiedemann.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jess Runolfsson Esq."], ["email", "shanna_dietrich@moen-stiedemann.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:50:00.241885"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:50:00.243718"], ["updated_at", "2024-01-24 09:50:00.243718"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"levi@christiansen.test", "name"=>"Salena McCullough", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "levi@christiansen.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Salena McCullough"], ["email", "levi@christiansen.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:01.975262"], ["updated_at", "2024-01-24 09:51:01.975262"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.8ms | Allocations: 360)
  Rendered layout layouts/mailer.html.erb (Duration: 1.4ms | Allocations: 585)
ApplicationMailer#send_confirmation_email: processed outbound mail in 12.9ms
Delivered mail 65b0dd862c34_3e0c13c42708a@itsupport-HP-ProBook-440-G7.mail (17.4ms)
Date: Wed, 24 Jan 2024 15:21:02 +0530
From: from@example.com
To: levi@christiansen.test
Message-ID: <65b0dd862c34_3e0c13c42708a@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Salena McCullough,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=L5CaOi7pQqdpQenLfks1LA">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 83ms (Views: 0.7ms | ActiveRecord: 4.2ms | Allocations: 38528)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"gertrud@beier.test", "name"=>"Vaughn Kerluke", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "gertrud@beier.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Vaughn Kerluke"], ["email", "gertrud@beier.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:02.040393"], ["updated_at", "2024-01-24 09:51:02.040393"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.5ms | Allocations: 125)
ApplicationMailer#send_confirmation_email: processed outbound mail in 2.2ms
Delivered mail 65b0dd86b28b_3e0c13c4271fd@itsupport-HP-ProBook-440-G7.mail (12.2ms)
Date: Wed, 24 Jan 2024 15:21:02 +0530
From: from@example.com
To: gertrud@beier.test
Message-ID: <65b0dd86b28b_3e0c13c4271fd@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Vaughn Kerluke,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=6IkX7LFgIftpyfjh5MzEQw">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 22ms (Views: 0.4ms | ActiveRecord: 1.7ms | Allocations: 6658)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"noelle_cole@stokes-crooks.test", "name"=>"Kelly McDermott", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "noelle_cole@stokes-crooks.test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 755)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"essie.reichert@moore.example", "name"=>"Shayla Brakus", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "essie.reichert@moore.example"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 692)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "grant.spinka@moore-ebert.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Cameron Gottlieb"], ["email", "grant.spinka@moore-ebert.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:51:02.091448"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:02.093342"], ["updated_at", "2024-01-24 09:51:02.093342"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2024-01-24 09:51:02.098392"], ["id", 11]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 831)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 231)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Love Feeney"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:51:35.498499"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:35.506072"], ["updated_at", "2024-01-24 09:51:35.506072"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 228)
  Rendered layout layouts/mailer.html.erb (Duration: 0.9ms | Allocations: 454)
ApplicationMailer#send_otp: processed outbound mail in 12.4ms
Delivered mail 65b0dda787503_3f0713c428413@itsupport-HP-ProBook-440-G7.mail (17.0ms)
Date: Wed, 24 Jan 2024 15:21:35 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0dda787503_3f0713c428413@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Love Feeney,<br>

<p>OTP to login to the websits is 667637. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 53ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 21866)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Gov. Dana Fisher"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:51:35.584383"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:35.586536"], ["updated_at", "2024-01-24 09:51:35.586536"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 13]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 604)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Quintin Marks"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:51:35.600584"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:35.602147"], ["updated_at", "2024-01-24 09:51:35.602147"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 350)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Lani Emard"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:35.616275"], ["updated_at", "2024-01-24 09:51:35.616275"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 290)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rob Wisoky DC"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:35.626407"], ["updated_at", "2024-01-24 09:51:35.626407"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 273)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Msgr. Rolland Kirlin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:51:35.635153"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:35.636762"], ["updated_at", "2024-01-24 09:51:35.636762"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"17"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 607)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Vannessa Daugherty DO"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:51:35.648289"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:35.650707"], ["updated_at", "2024-01-24 09:51:35.650707"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"18"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Miss Kristopher Reichel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:51:35.661023"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:35.663762"], ["updated_at", "2024-01-24 09:51:35.663762"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"19"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 19], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 09:51:35.671875"], ["id", 19]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 1107)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Scarlet Predovic JD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:51:35.678470"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:35.679885"], ["updated_at", "2024-01-24 09:51:35.679885"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 20], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 775)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Von Ziemann"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:51:35.691467"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:35.693511"], ["updated_at", "2024-01-24 09:51:35.693511"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"21"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 21], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 09:51:35.698351"], ["id", 21]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 959)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Gail Berge"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:51:35.707782"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:35.709512"], ["updated_at", "2024-01-24 09:51:35.709512"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"22", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 494)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Curtis Beahan"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:51:35.722611"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:35.724697"], ["updated_at", "2024-01-24 09:51:35.724697"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"23", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 448)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Lucie Casper"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:51:35.738578"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:35.740191"], ["updated_at", "2024-01-24 09:51:35.740191"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"24", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 24], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 1124)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Sergio Pollich"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:51:35.758762"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:35.760672"], ["updated_at", "2024-01-24 09:51:35.760672"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"25", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 25], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.9ms | ActiveRecord: 1.6ms | Allocations: 1473)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dr. Joline Fahey"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:51:35.780686"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:35.782812"], ["updated_at", "2024-01-24 09:51:35.782812"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"26", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 26], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2024-01-24 09:51:35.796466"], ["id", 26]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 1204)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"trenton.pfeffer@kshlerin.example", "name"=>"Louis Weimann", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "trenton.pfeffer@kshlerin.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Louis Weimann"], ["email", "trenton.pfeffer@kshlerin.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:50.017148"], ["updated_at", "2024-01-24 09:51:50.017148"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.9ms | Allocations: 360)
  Rendered layout layouts/mailer.html.erb (Duration: 1.6ms | Allocations: 585)
ApplicationMailer#send_confirmation_email: processed outbound mail in 10.9ms
Delivered mail 65b0ddb6d0fb_3f8713c496735@itsupport-HP-ProBook-440-G7.mail (17.2ms)
Date: Wed, 24 Jan 2024 15:21:50 +0530
From: from@example.com
To: trenton.pfeffer@kshlerin.example
Message-ID: <65b0ddb6d0fb_3f8713c496735@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Louis Weimann,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=otdtaT1KbG4yAmYLULS0UA">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 92ms (Views: 0.8ms | ActiveRecord: 5.3ms | Allocations: 38473)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"jerica@walker-nikolaus.test", "name"=>"Pinkie O'Connell CPA", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "jerica@walker-nikolaus.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Pinkie O'Connell CPA"], ["email", "jerica@walker-nikolaus.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:50.083009"], ["updated_at", "2024-01-24 09:51:50.083009"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.5ms | Allocations: 125)
ApplicationMailer#send_confirmation_email: processed outbound mail in 2.0ms
Delivered mail 65b0ddb61597d_3f8713c49685a@itsupport-HP-ProBook-440-G7.mail (15.0ms)
Date: Wed, 24 Jan 2024 15:21:50 +0530
From: from@example.com
To: jerica@walker-nikolaus.test
Message-ID: <65b0ddb61597d_3f8713c49685a@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Pinkie O&#39;Connell CPA,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=nplp94cdUo3xZGiWa-Lb2w">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 25ms (Views: 0.3ms | ActiveRecord: 2.2ms | Allocations: 6602)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"elia_brown@hane.test", "name"=>"Gregg Jacobson", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "elia_brown@hane.test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 755)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"arnette.mitchell@heller.example", "name"=>"Juan Witting", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "arnette.mitchell@heller.example"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 691)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "reynaldo.armstrong@king.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Roberta Halvorson"], ["email", "reynaldo.armstrong@king.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 09:51:50.138529"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 09:51:50.141330"], ["updated_at", "2024-01-24 09:51:50.141330"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2024-01-24 09:51:50.149142"], ["id", 29]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 831)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 231)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Mr. Lani Barrows"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:06:23.804475"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:06:23.814300"], ["updated_at", "2024-01-24 10:06:23.814300"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 229)
  Rendered layout layouts/mailer.html.erb (Duration: 1.0ms | Allocations: 455)
ApplicationMailer#send_otp: processed outbound mail in 11.7ms
Delivered mail 65b0e11fd5a13_473913c41564@itsupport-HP-ProBook-440-G7.mail (22.2ms)
Date: Wed, 24 Jan 2024 15:36:23 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0e11fd5a13_473913c41564@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Mr. Lani Barrows,<br>

<p>OTP to login to the websits is 697494. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 66ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 21886)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rep. Casie Jenkins"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:06:23.908694"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:06:23.910662"], ["updated_at", "2024-01-24 10:06:23.910662"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 31]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 617)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jessia Wolf"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:06:23.928645"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:06:23.931161"], ["updated_at", "2024-01-24 10:06:23.931161"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 347)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Adrian McDermott"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:06:23.946465"], ["updated_at", "2024-01-24 10:06:23.946465"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 290)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Myles Oberbrunner DC"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:06:23.960226"], ["updated_at", "2024-01-24 10:06:23.960226"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 273)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Madonna Quigley"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:06:23.973211"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:06:23.976349"], ["updated_at", "2024-01-24 10:06:23.976349"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"35"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 607)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ben Keebler II"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:06:23.990380"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:06:23.992457"], ["updated_at", "2024-01-24 10:06:23.992457"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"36"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 396)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Quinton Maggio"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:06:24.005166"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:06:24.007754"], ["updated_at", "2024-01-24 10:06:24.007754"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"37"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 37], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:06:24.013723"], ["id", 37]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.3ms | Allocations: 1105)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dino Collins"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:06:24.021016"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:06:24.022556"], ["updated_at", "2024-01-24 10:06:24.022556"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"38"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 38], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 773)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Lesa Herman"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:06:24.036273"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:06:24.038125"], ["updated_at", "2024-01-24 10:06:24.038125"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"39"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 39], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:06:24.043928"], ["id", 39]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 959)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Cleveland Cronin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:06:24.052189"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:06:24.053897"], ["updated_at", "2024-01-24 10:06:24.053897"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"40", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 495)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Shawn Harber"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:06:24.066773"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:06:24.068891"], ["updated_at", "2024-01-24 10:06:24.068891"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"41", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 448)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Blythe Treutel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:06:24.084468"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:06:24.087034"], ["updated_at", "2024-01-24 10:06:24.087034"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"42", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 42], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 17ms (Views: 0.3ms | ActiveRecord: 6.1ms | Allocations: 1125)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Yong Jaskolski"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:06:24.115292"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:06:24.117644"], ["updated_at", "2024-01-24 10:06:24.117644"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"43", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 43], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 13ms (Views: 1.7ms | ActiveRecord: 1.7ms | Allocations: 1475)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Marcos Yundt DVM"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:06:24.141562"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:06:24.143900"], ["updated_at", "2024-01-24 10:06:24.143900"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"44", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 44], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2024-01-24 10:06:24.159242"], ["id", 44]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 1204)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dusty Borer V"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:17:41.200607"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:17:41.207470"], ["updated_at", "2024-01-24 10:17:41.207470"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 228)
  Rendered layout layouts/mailer.html.erb (Duration: 0.9ms | Allocations: 454)
ApplicationMailer#send_otp: processed outbound mail in 10.7ms
Delivered mail 65b0e3c53e68a_4c3c13c48377a@itsupport-HP-ProBook-440-G7.mail (17.9ms)
Date: Wed, 24 Jan 2024 15:47:41 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0e3c53e68a_4c3c13c48377a@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Dusty Borer V,<br>

<p>OTP to login to the websits is 809065. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 52ms (Views: 0.7ms | ActiveRecord: 0.6ms | Allocations: 21889)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jacinto Toy"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:17:41.282747"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:17:41.284768"], ["updated_at", "2024-01-24 10:17:41.284768"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 46]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 616)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Estefana Farrell LLD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:17:41.300543"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:17:41.302268"], ["updated_at", "2024-01-24 10:17:41.302268"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 347)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Mrs. Carmon Heidenreich"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:17:41.315772"], ["updated_at", "2024-01-24 10:17:41.315772"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 290)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Miss Lamar Schulist"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:17:41.326442"], ["updated_at", "2024-01-24 10:17:41.326442"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 273)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Cassy Berge"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:17:41.335007"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:17:41.336698"], ["updated_at", "2024-01-24 10:17:41.336698"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"50"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 607)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Amb. Zachariah Waelchi"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:17:41.348550"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:17:41.350457"], ["updated_at", "2024-01-24 10:17:41.350457"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"51"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 398)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Graciela Botsford Sr."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:17:41.359852"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:17:41.362177"], ["updated_at", "2024-01-24 10:17:41.362177"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"52"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 52], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:17:41.369557"], ["id", 52]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 1107)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Miss Angel Kling"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:17:41.378730"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:17:41.381023"], ["updated_at", "2024-01-24 10:17:41.381023"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"53"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 53], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 775)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Goldie Kerluke"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:17:41.394668"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:17:41.396607"], ["updated_at", "2024-01-24 10:17:41.396607"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"54"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 54], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:17:41.402579"], ["id", 54]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 959)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Michael Harvey"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:17:41.410618"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:17:41.412616"], ["updated_at", "2024-01-24 10:17:41.412616"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"55", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 531)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Teena Haag"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:17:41.443416"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:17:41.445695"], ["updated_at", "2024-01-24 10:17:41.445695"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"56", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 56], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 6ms (Views: 1.3ms | ActiveRecord: 0.5ms | Allocations: 1431)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dr. Jessie Emmerich"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:17:41.460082"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:17:41.462225"], ["updated_at", "2024-01-24 10:17:41.462225"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"57", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 57], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 7ms (Views: 0.9ms | ActiveRecord: 0.7ms | Allocations: 1145)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Adan Cassin Esq."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:17:41.480067"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:17:41.482328"], ["updated_at", "2024-01-24 10:17:41.482328"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"58", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 58], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 8ms (Views: 0.9ms | ActiveRecord: 1.1ms | Allocations: 1145)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Buford Gerhold"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:17:41.501261"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:17:41.504007"], ["updated_at", "2024-01-24 10:17:41.504007"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"59", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 59], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 9ms (Views: 1.3ms | ActiveRecord: 0.9ms | Allocations: 1144)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Emerald Baumbach"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:31.807680"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:31.817797"], ["updated_at", "2024-01-24 10:18:31.817797"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 229)
  Rendered layout layouts/mailer.html.erb (Duration: 1.0ms | Allocations: 455)
ApplicationMailer#send_otp: processed outbound mail in 10.1ms
Delivered mail 65b0e3f7d438a_4dab13c46778d@itsupport-HP-ProBook-440-G7.mail (16.6ms)
Date: Wed, 24 Jan 2024 15:48:31 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0e3f7d438a_4dab13c46778d@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Emerald Baumbach,<br>

<p>OTP to login to the websits is 492097. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 53ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 21890)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Delbert Beatty"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:31.896103"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:31.898545"], ["updated_at", "2024-01-24 10:18:31.898545"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 61]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 614)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Garth Schulist"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:31.915445"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:31.917237"], ["updated_at", "2024-01-24 10:18:31.917237"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 347)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jacqui Schultz"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:31.931790"], ["updated_at", "2024-01-24 10:18:31.931790"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 290)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Andre Lindgren"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:31.944525"], ["updated_at", "2024-01-24 10:18:31.944525"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 273)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dustin Blick CPA"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:31.954383"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:31.956243"], ["updated_at", "2024-01-24 10:18:31.956243"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"65"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 607)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rhett Lubowitz"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:31.968494"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:31.970678"], ["updated_at", "2024-01-24 10:18:31.970678"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"66"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Darnell Leannon"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:31.980426"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:31.982333"], ["updated_at", "2024-01-24 10:18:31.982333"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"67"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 67], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:18:31.988245"], ["id", 67]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 1105)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ramon Botsford"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:31.996836"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:31.999162"], ["updated_at", "2024-01-24 10:18:31.999162"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"68"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 68], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 773)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dr. Ozzie Russel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:32.014347"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:32.016288"], ["updated_at", "2024-01-24 10:18:32.016288"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"69"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 69], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:18:32.022989"], ["id", 69]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 964)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Darwin Koss MD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:32.032382"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:32.034660"], ["updated_at", "2024-01-24 10:18:32.034660"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"70", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 531)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "James Parker"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:32.049340"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:32.051292"], ["updated_at", "2024-01-24 10:18:32.051292"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"71", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 71], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 8ms (Views: 1.4ms | ActiveRecord: 0.6ms | Allocations: 1431)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Zina Dietrich"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:32.074724"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:32.076945"], ["updated_at", "2024-01-24 10:18:32.076945"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"72", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 72], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 6ms (Views: 1.0ms | ActiveRecord: 0.6ms | Allocations: 1144)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Keith Krajcik"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:32.092544"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:32.094412"], ["updated_at", "2024-01-24 10:18:32.094412"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"73", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 73], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 7ms (Views: 0.8ms | ActiveRecord: 0.8ms | Allocations: 1144)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Barney Brekke VM"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:32.111084"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:32.112713"], ["updated_at", "2024-01-24 10:18:32.112713"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"74", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 74], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 7ms (Views: 1.1ms | ActiveRecord: 0.7ms | Allocations: 1145)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Msgr. Meggan Kilback"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:54.736838"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:54.745705"], ["updated_at", "2024-01-24 10:18:54.745705"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 231)
  Rendered layout layouts/mailer.html.erb (Duration: 1.0ms | Allocations: 457)
ApplicationMailer#send_otp: processed outbound mail in 9.8ms
Delivered mail 65b0e40ec220b_4e6c12fc27571@itsupport-HP-ProBook-440-G7.mail (17.3ms)
Date: Wed, 24 Jan 2024 15:48:54 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0e40ec220b_4e6c12fc27571@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Msgr. Meggan Kilback,<br>

<p>OTP to login to the websits is 270658. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 50ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 21910)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Candice Thompson III"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:54.820930"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:54.823009"], ["updated_at", "2024-01-24 10:18:54.823009"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 76]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 615)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dusty Willms"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:54.838731"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:54.840373"], ["updated_at", "2024-01-24 10:18:54.840373"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 347)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rep. Eve Beier"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:54.852228"], ["updated_at", "2024-01-24 10:18:54.852228"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 290)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Newton Larson JD"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:54.863500"], ["updated_at", "2024-01-24 10:18:54.863500"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 273)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ernie Spinka"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:54.871893"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:54.873687"], ["updated_at", "2024-01-24 10:18:54.873687"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"80"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 607)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Natalya Kuhlman"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:54.883984"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:54.885879"], ["updated_at", "2024-01-24 10:18:54.885879"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"81"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 394)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Tran Wiegand"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:54.896239"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:54.898296"], ["updated_at", "2024-01-24 10:18:54.898296"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"82"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 82], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:18:54.906521"], ["id", 82]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 2.7ms | Allocations: 1105)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Virgil Balistreri IV"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:54.915752"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:54.917439"], ["updated_at", "2024-01-24 10:18:54.917439"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"83"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 83], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 775)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Lupe Bernhard"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:54.931535"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:54.933427"], ["updated_at", "2024-01-24 10:18:54.933427"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"84"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 84], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:18:54.939910"], ["id", 84]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 959)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ila Reichel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:18:54.946944"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:18:54.948461"], ["updated_at", "2024-01-24 10:18:54.948461"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"85", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 531)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Long Durgan"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:19:15.020736"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:19:15.026240"], ["updated_at", "2024-01-24 10:19:15.026240"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"86", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 86], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 8ms (Views: 1.3ms | ActiveRecord: 0.8ms | Allocations: 1786)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Manuela Glover I"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:19:15.047038"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:19:15.049235"], ["updated_at", "2024-01-24 10:19:15.049235"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"87", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 87], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 6ms (Views: 0.7ms | ActiveRecord: 0.6ms | Allocations: 1145)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Sen. Jere Littel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:19:15.063903"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:19:15.065494"], ["updated_at", "2024-01-24 10:19:15.065494"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"88", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 88], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 88], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 7ms (Views: 0.7ms | ActiveRecord: 0.9ms | Allocations: 1145)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Melissa Lynch"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:19:15.080903"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:19:15.083041"], ["updated_at", "2024-01-24 10:19:15.083041"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"89", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 89], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 5ms (Views: 0.6ms | ActiveRecord: 0.5ms | Allocations: 1144)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Darla Bernier"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:19:52.224404"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:19:52.231689"], ["updated_at", "2024-01-24 10:19:52.231689"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 230)
  Rendered layout layouts/mailer.html.erb (Duration: 0.9ms | Allocations: 456)
ApplicationMailer#send_otp: processed outbound mail in 9.4ms
Delivered mail 65b0e44843149_4f0f12fc186f7@itsupport-HP-ProBook-440-G7.mail (19.7ms)
Date: Wed, 24 Jan 2024 15:49:52 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0e44843149_4f0f12fc186f7@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Darla Bernier,<br>

<p>OTP to login to the websits is 901443. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 50ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 21908)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Winston Grady V"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:19:52.305121"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:19:52.307263"], ["updated_at", "2024-01-24 10:19:52.307263"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 91]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 614)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rep. Velma Hackett"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:19:52.322478"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:19:52.324153"], ["updated_at", "2024-01-24 10:19:52.324153"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 347)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jae Cole Jr."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:19:52.336084"], ["updated_at", "2024-01-24 10:19:52.336084"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 290)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Clementine Lebsack"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:19:52.347522"], ["updated_at", "2024-01-24 10:19:52.347522"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 273)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Isaias Schmeler MD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:19:52.357264"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:19:52.359552"], ["updated_at", "2024-01-24 10:19:52.359552"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"95"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 597)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Larry Ernser"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:19:52.373507"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:19:52.375705"], ["updated_at", "2024-01-24 10:19:52.375705"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"96"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 396)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Darin Hamill Ret."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:19:52.387692"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:19:52.389803"], ["updated_at", "2024-01-24 10:19:52.389803"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"97"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 97], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:19:52.396960"], ["id", 97]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 1107)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Antonio Jacobi"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:19:52.404318"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:19:52.406624"], ["updated_at", "2024-01-24 10:19:52.406624"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"98"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 98], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 773)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "The Hon. Myles Windler"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:19:52.420642"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:19:52.422894"], ["updated_at", "2024-01-24 10:19:52.422894"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"99"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 99], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:19:52.429503"], ["id", 99]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 963)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Kendall Huel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:19:52.436546"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:19:52.439015"], ["updated_at", "2024-01-24 10:19:52.439015"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"100", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 531)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Bob Blick"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:20:08.201161"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:20:08.204897"], ["updated_at", "2024-01-24 10:20:08.204897"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"101", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 101], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2024-01-24 10:20:08.220229"], ["id", 101]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 1655)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Abigail Runolfsdottir"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:20:08.227822"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:20:08.229272"], ["updated_at", "2024-01-24 10:20:08.229272"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"102", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 1080)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Birgit Homenick"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:20:08.246778"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:20:08.248851"], ["updated_at", "2024-01-24 10:20:08.248851"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"103", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 103], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.7ms | ActiveRecord: 1.1ms | Allocations: 1463)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "James Nicolas"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:20:08.264425"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:20:08.266659"], ["updated_at", "2024-01-24 10:20:08.266659"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"104", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 104], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2024-01-24 10:20:08.279095"], ["id", 104]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 1174)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jayna Block"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:13.178556"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:13.185524"], ["updated_at", "2024-01-24 10:21:13.185524"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.6ms | Allocations: 230)
  Rendered layout layouts/mailer.html.erb (Duration: 1.0ms | Allocations: 456)
ApplicationMailer#send_otp: processed outbound mail in 11.5ms
Delivered mail 65b0e499391a2_4fbb12fc51694@itsupport-HP-ProBook-440-G7.mail (18.5ms)
Date: Wed, 24 Jan 2024 15:51:13 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0e499391a2_4fbb12fc51694@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Jayna Block,<br>

<p>OTP to login to the websits is 730171. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 55ms (Views: 0.7ms | ActiveRecord: 0.6ms | Allocations: 21908)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Sen. Shannon Brown"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:13.260972"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:13.263182"], ["updated_at", "2024-01-24 10:21:13.263182"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 106]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 614)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Irma Shields"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:13.277615"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:13.279201"], ["updated_at", "2024-01-24 10:21:13.279201"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 347)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Moira Wilkinson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:13.291068"], ["updated_at", "2024-01-24 10:21:13.291068"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 290)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Cordell Gleason"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:13.300830"], ["updated_at", "2024-01-24 10:21:13.300830"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 273)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Gregorio O'Reilly"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:13.310091"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:13.311771"], ["updated_at", "2024-01-24 10:21:13.311771"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"110"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 604)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Gwendolyn Waters"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:13.322435"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:13.324157"], ["updated_at", "2024-01-24 10:21:13.324157"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"111"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rev. Asa Renner"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:13.332829"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:13.335492"], ["updated_at", "2024-01-24 10:21:13.335492"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"112"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 112], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:21:13.342247"], ["id", 112]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 1105)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Lani Bradtke"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:13.349885"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:13.351841"], ["updated_at", "2024-01-24 10:21:13.351841"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"113"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 113], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 773)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Mr. Roxanna Ziemann"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:13.366024"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:13.367650"], ["updated_at", "2024-01-24 10:21:13.367650"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"114"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 114], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:21:13.373530"], ["id", 114]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 963)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Numbers Durgan"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:13.380532"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:13.382760"], ["updated_at", "2024-01-24 10:21:13.382760"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"115", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 12760ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 58678)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Agustin Thompson Esq."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:27.021043"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:27.026454"], ["updated_at", "2024-01-24 10:21:27.026454"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"116", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 116], ["LIMIT", 1]]
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2024-01-24 10:21:27.812939"], ["id", 116]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 787ms (Views: 0.5ms | ActiveRecord: 5.7ms | Allocations: 38054)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ying Bailey PhD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:27.856058"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:27.858500"], ["updated_at", "2024-01-24 10:21:27.858500"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"117", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 117], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 631ms (Views: 0.6ms | ActiveRecord: 4.2ms | Allocations: 37515)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Monty MacGyver"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:28.506584"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:28.510632"], ["updated_at", "2024-01-24 10:21:28.510632"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"118", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 118], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 561ms (Views: 3.3ms | ActiveRecord: 4.3ms | Allocations: 37908)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jamika Wilkinson LLD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:29.091176"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:29.097387"], ["updated_at", "2024-01-24 10:21:29.097387"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"119", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 119], ["LIMIT", 1]]
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2024-01-24 10:21:29.394916"], ["id", 119]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 293ms (Views: 0.5ms | ActiveRecord: 6.1ms | Allocations: 37621)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Darline Legros"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:41.331007"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:41.338559"], ["updated_at", "2024-01-24 10:21:41.338559"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 230)
  Rendered layout layouts/mailer.html.erb (Duration: 1.0ms | Allocations: 456)
ApplicationMailer#send_otp: processed outbound mail in 10.0ms
Delivered mail 65b0e4b55effd_507012fc3b5@itsupport-HP-ProBook-440-G7.mail (18.0ms)
Date: Wed, 24 Jan 2024 15:51:41 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0e4b55effd_507012fc3b5@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Darline Legros,<br>

<p>OTP to login to the websits is 833320. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 53ms (Views: 0.8ms | ActiveRecord: 0.6ms | Allocations: 21904)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Bret Mills"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:41.417471"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:41.419726"], ["updated_at", "2024-01-24 10:21:41.419726"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 121]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 615)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Elijah Stroman"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:41.437384"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:41.439435"], ["updated_at", "2024-01-24 10:21:41.439435"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 347)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Lupe Bernier Jr."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:41.455510"], ["updated_at", "2024-01-24 10:21:41.455510"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 290)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jaleesa McDermott"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:41.468829"], ["updated_at", "2024-01-24 10:21:41.468829"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 273)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Chong Zboncak"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:41.480455"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:41.484146"], ["updated_at", "2024-01-24 10:21:41.484146"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"125"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 606)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jonie Deckow"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:41.497743"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:41.501194"], ["updated_at", "2024-01-24 10:21:41.501194"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"126"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 398)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Eliz Haley"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:41.512214"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:41.514402"], ["updated_at", "2024-01-24 10:21:41.514402"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"127"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 127], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:21:41.521356"], ["id", 127]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 1105)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rev. Jamison Schaefer"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:41.530600"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:41.532526"], ["updated_at", "2024-01-24 10:21:41.532526"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"128"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 128], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 775)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Sarita Dietrich"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:41.546779"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:41.548882"], ["updated_at", "2024-01-24 10:21:41.548882"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"129"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 129], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:21:41.557100"], ["id", 129]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 959)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rudy Heidenreich"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:21:41.566094"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:21:41.568608"], ["updated_at", "2024-01-24 10:21:41.568608"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"130", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 2236ms (Views: 4.8ms | ActiveRecord: 4.6ms | Allocations: 60249)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ricardo Towne"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:22:25.414636"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:22:25.418671"], ["updated_at", "2024-01-24 10:22:25.418671"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"131", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 757ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 37020)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Alexis Durgan"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:22:26.188561"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:22:26.190471"], ["updated_at", "2024-01-24 10:22:26.190471"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"132", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 486ms (Views: 0.6ms | ActiveRecord: 0.5ms | Allocations: 36871)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Eric Lockman DC"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:22:26.697352"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:22:26.703784"], ["updated_at", "2024-01-24 10:22:26.703784"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"133", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 10235ms (Views: 0.7ms | ActiveRecord: 0.7ms | Allocations: 37360)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Lyndsey Pouros"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:22:36.965141"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:22:36.967638"], ["updated_at", "2024-01-24 10:22:36.967638"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"134", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 554ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 36871)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jo Funk"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:22:50.065178"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:22:50.073034"], ["updated_at", "2024-01-24 10:22:50.073034"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.6ms | Allocations: 230)
  Rendered layout layouts/mailer.html.erb (Duration: 1.2ms | Allocations: 456)
ApplicationMailer#send_otp: processed outbound mail in 12.2ms
Delivered mail 65b0e4fa1e588_510d12fc1238d@itsupport-HP-ProBook-440-G7.mail (16.1ms)
Date: Wed, 24 Jan 2024 15:52:50 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0e4fa1e588_510d12fc1238d@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Jo Funk,<br>

<p>OTP to login to the websits is 033471. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 51ms (Views: 0.8ms | ActiveRecord: 0.5ms | Allocations: 21908)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Lanny Quigley I"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:22:50.148892"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:22:50.150768"], ["updated_at", "2024-01-24 10:22:50.150768"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 136]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 615)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rocco Keeling"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:22:50.166328"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:22:50.168026"], ["updated_at", "2024-01-24 10:22:50.168026"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 347)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ms. Malik Rohan"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:22:50.180573"], ["updated_at", "2024-01-24 10:22:50.180573"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 290)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Kathern Runolfsson"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:22:50.193246"], ["updated_at", "2024-01-24 10:22:50.193246"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 273)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "The Hon. Corene Collins"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:22:50.202469"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:22:50.204706"], ["updated_at", "2024-01-24 10:22:50.204706"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"140"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 606)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Theresa Nicolas"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:22:50.216955"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:22:50.218891"], ["updated_at", "2024-01-24 10:22:50.218891"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"141"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 398)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Leland O'Kon"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:22:50.228787"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:22:50.231522"], ["updated_at", "2024-01-24 10:22:50.231522"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"142"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 142], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 142], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:22:50.239063"], ["id", 142]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 1105)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 142], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Stacy Hansen"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:22:50.247045"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:22:50.249422"], ["updated_at", "2024-01-24 10:22:50.249422"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"143"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 143], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 773)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jo Kuphal"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:22:50.260183"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:22:50.261753"], ["updated_at", "2024-01-24 10:22:50.261753"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"144"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 144], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:22:50.268665"], ["id", 144]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 959)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dorian Cummerata"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:22:50.276623"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:22:50.279086"], ["updated_at", "2024-01-24 10:22:50.279086"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"145", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 145], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 4103ms (Views: 1.3ms | ActiveRecord: 1.8ms | Allocations: 60249)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Leon Quitzon"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:17.826604"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:17.831330"], ["updated_at", "2024-01-24 10:23:17.831330"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"146", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 780ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 37020)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Huey Mann"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:18.624311"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:18.626601"], ["updated_at", "2024-01-24 10:23:18.626601"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"147", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 345ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 36871)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Cassaundra Monahan"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:18.992599"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:18.997431"], ["updated_at", "2024-01-24 10:23:18.997431"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"148", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 257ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 36871)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Wilbur Daniel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:19.276957"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:19.282614"], ["updated_at", "2024-01-24 10:23:19.282614"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"149", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 207ms (Views: 0.6ms | ActiveRecord: 0.6ms | Allocations: 36871)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Kristopher Parker"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:50.636119"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:50.646584"], ["updated_at", "2024-01-24 10:23:50.646584"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.6ms | Allocations: 231)
  Rendered layout layouts/mailer.html.erb (Duration: 1.1ms | Allocations: 457)
ApplicationMailer#send_otp: processed outbound mail in 12.6ms
Delivered mail 65b0e536abc51_51f312fc82827@itsupport-HP-ProBook-440-G7.mail (18.5ms)
Date: Wed, 24 Jan 2024 15:53:50 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0e536abc51_51f312fc82827@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Kristopher Parker,<br>

<p>OTP to login to the websits is 069156. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 59ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 21907)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Nu Barrows"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:50.731949"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:50.734347"], ["updated_at", "2024-01-24 10:23:50.734347"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 151]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 613)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Joyce McClure"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:50.750970"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:50.752844"], ["updated_at", "2024-01-24 10:23:50.752844"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 347)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Miss Marnie Schneider"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:50.766717"], ["updated_at", "2024-01-24 10:23:50.766717"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 290)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Bernard Turcotte"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:50.779271"], ["updated_at", "2024-01-24 10:23:50.779271"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 273)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dewitt Bartoletti"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:50.790897"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:50.793094"], ["updated_at", "2024-01-24 10:23:50.793094"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"155"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 155], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 606)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rep. Kory Hansen"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:50.807630"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:50.809788"], ["updated_at", "2024-01-24 10:23:50.809788"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"156"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 398)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Katerine Hirthe"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:50.821979"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:50.823862"], ["updated_at", "2024-01-24 10:23:50.823862"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"157"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 157], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 157], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:23:50.831224"], ["id", 157]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 1105)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 157], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Mr. Luciano Bergnaum"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:50.839497"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:50.841714"], ["updated_at", "2024-01-24 10:23:50.841714"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"158"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 158], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 775)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Precious Metz"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:50.857401"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:50.859699"], ["updated_at", "2024-01-24 10:23:50.859699"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"159"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 159], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 159], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:23:50.868207"], ["id", 159]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 959)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 159], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Prof. Clinton Weimann"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:50.878943"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:50.882308"], ["updated_at", "2024-01-24 10:23:50.882308"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"160", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 160], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 11ms (Views: 2.8ms | ActiveRecord: 1.6ms | Allocations: 1838)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Adolfo Cummerata"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:50.904393"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:50.906684"], ["updated_at", "2024-01-24 10:23:50.906684"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"161", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 433)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Stacia Stokes"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:50.935077"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:50.937052"], ["updated_at", "2024-01-24 10:23:50.937052"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"162", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 426)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Shea Schaefer III"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:50.954275"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:50.956566"], ["updated_at", "2024-01-24 10:23:50.956566"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"163", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 163], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 426)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Thanh Champlin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:23:50.973844"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:23:50.977277"], ["updated_at", "2024-01-24 10:23:50.977277"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"164", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 164], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 426)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Vida Parker"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:24:23.154827"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:24:23.163828"], ["updated_at", "2024-01-24 10:24:23.163828"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 230)
  Rendered layout layouts/mailer.html.erb (Duration: 1.0ms | Allocations: 456)
ApplicationMailer#send_otp: processed outbound mail in 12.6ms
Delivered mail 65b0e55735b1b_528912fc53751@itsupport-HP-ProBook-440-G7.mail (22.2ms)
Date: Wed, 24 Jan 2024 15:54:23 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0e55735b1b_528912fc53751@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Vida Parker,<br>

<p>OTP to login to the websits is 996876. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 64ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 21908)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Loree Gleichner"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:24:23.252385"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:24:23.254908"], ["updated_at", "2024-01-24 10:24:23.254908"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 166]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 615)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Lola Daniel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:24:23.272818"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:24:23.274568"], ["updated_at", "2024-01-24 10:24:23.274568"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 347)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Carey Spinka"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:24:23.288290"], ["updated_at", "2024-01-24 10:24:23.288290"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 290)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Armando Haag"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:24:23.300556"], ["updated_at", "2024-01-24 10:24:23.300556"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 273)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Caren Kuvalis"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:24:23.310478"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:24:23.312479"], ["updated_at", "2024-01-24 10:24:23.312479"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"170"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 606)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Brady Mante"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:24:23.323792"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:24:23.326084"], ["updated_at", "2024-01-24 10:24:23.326084"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"171"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Kirby Walker"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:24:23.337535"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:24:23.339970"], ["updated_at", "2024-01-24 10:24:23.339970"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"172"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 172], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:24:23.347068"], ["id", 172]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 1105)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Wilber Hermiston"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:24:23.354642"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:24:23.356514"], ["updated_at", "2024-01-24 10:24:23.356514"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"173"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 173], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 775)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Bo Beatty"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:24:23.370221"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:24:23.372849"], ["updated_at", "2024-01-24 10:24:23.372849"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"174"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 174], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:24:23.380790"], ["id", 174]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 959)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ms. Emmitt Renner"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:24:23.388710"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:24:23.390476"], ["updated_at", "2024-01-24 10:24:23.390476"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"175", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 175], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 1.4ms | ActiveRecord: 1.8ms | Allocations: 1838)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Peggy Spinka"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:24:23.409129"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:24:23.411236"], ["updated_at", "2024-01-24 10:24:23.411236"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"176", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 433)
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Timmy Wuckert JD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:24:57.566973"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:24:57.580435"], ["updated_at", "2024-01-24 10:24:57.580435"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"177", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 11ms (Views: 0.8ms | ActiveRecord: 0.6ms | Allocations: 35747)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jake Pfeffer PhD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:24:57.642820"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:24:57.654423"], ["updated_at", "2024-01-24 10:24:57.654423"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"178", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 12ms (Views: 0.6ms | ActiveRecord: 0.8ms | Allocations: 35468)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Hye Grant"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:24:57.710714"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:24:57.719668"], ["updated_at", "2024-01-24 10:24:57.719668"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"179", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 10ms (Views: 1.1ms | ActiveRecord: 0.7ms | Allocations: 35468)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Sherman Oberbrunner"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:25:03.831392"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:25:03.841715"], ["updated_at", "2024-01-24 10:25:03.841715"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 231)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 457)
ApplicationMailer#send_otp: processed outbound mail in 8.8ms
Delivered mail 65b0e57fd7c6d_531812fc567eb@itsupport-HP-ProBook-440-G7.mail (17.4ms)
Date: Wed, 24 Jan 2024 15:55:03 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0e57fd7c6d_531812fc567eb@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Sherman Oberbrunner,<br>

<p>OTP to login to the websits is 090251. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 48ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 21909)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Cristine Kutch"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:25:03.909956"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:25:03.911943"], ["updated_at", "2024-01-24 10:25:03.911943"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 181]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 613)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Katherin Cole IV"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:25:03.927397"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:25:03.929091"], ["updated_at", "2024-01-24 10:25:03.929091"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 347)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Lavada Mueller"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:25:03.941777"], ["updated_at", "2024-01-24 10:25:03.941777"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 290)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Clara Jaskolski"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:25:03.953170"], ["updated_at", "2024-01-24 10:25:03.953170"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 273)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Foster Keeling"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:25:03.962218"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:25:03.964011"], ["updated_at", "2024-01-24 10:25:03.964011"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"185"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 606)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Pres. Anette Barton"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:25:03.974231"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:25:03.976173"], ["updated_at", "2024-01-24 10:25:03.976173"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"186"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 398)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Melodie Klein"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:25:03.985352"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:25:03.987275"], ["updated_at", "2024-01-24 10:25:03.987275"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"187"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 187], ["LIMIT", 1]]
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:25:03.994772"], ["id", 187]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 2.8ms | Allocations: 1105)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Charmaine Parker"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:25:04.003565"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:25:04.005106"], ["updated_at", "2024-01-24 10:25:04.005106"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"188"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 188], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 775)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Michal Green"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:25:04.019730"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:25:04.022215"], ["updated_at", "2024-01-24 10:25:04.022215"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"189"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 189], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:25:04.029001"], ["id", 189]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 959)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Sherryl Kutch"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:25:04.035882"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:25:04.037975"], ["updated_at", "2024-01-24 10:25:04.037975"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"190", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 190], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 11ms (Views: 1.4ms | ActiveRecord: 2.1ms | Allocations: 1837)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Tyesha Russel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:25:04.058263"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:25:04.060515"], ["updated_at", "2024-01-24 10:25:04.060515"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"191", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 433)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Claudia Bauch"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:20.008083"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:20.012587"], ["updated_at", "2024-01-24 10:26:20.012587"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"192", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 692)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Israel Sanford"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:20.029171"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:20.031567"], ["updated_at", "2024-01-24 10:26:20.031567"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"193", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 426)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Diane Hyatt"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:20.045512"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:20.047279"], ["updated_at", "2024-01-24 10:26:20.047279"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"194", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 426)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Avril Klein"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:27.015308"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:27.022725"], ["updated_at", "2024-01-24 10:26:27.022725"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 230)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 456)
ApplicationMailer#send_otp: processed outbound mail in 9.0ms
Delivered mail 65b0e5d311273_53de12fc5574@itsupport-HP-ProBook-440-G7.mail (15.4ms)
Date: Wed, 24 Jan 2024 15:56:27 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0e5d311273_53de12fc5574@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Avril Klein,<br>

<p>OTP to login to the websits is 982799. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 50ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 21907)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Gavin Swaniawski"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:27.094710"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:27.096581"], ["updated_at", "2024-01-24 10:26:27.096581"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 196]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 614)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Pat Stark"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:27.111473"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:27.113349"], ["updated_at", "2024-01-24 10:26:27.113349"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 347)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Long Marks"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:27.127153"], ["updated_at", "2024-01-24 10:26:27.127153"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 290)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Garret Rowe"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:27.137690"], ["updated_at", "2024-01-24 10:26:27.137690"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 273)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dr. Celestina Harvey"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:27.147343"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:27.149736"], ["updated_at", "2024-01-24 10:26:27.149736"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"200"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 606)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jerald Schuppe VM"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:27.163452"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:27.165754"], ["updated_at", "2024-01-24 10:26:27.165754"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"201"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Paul Lakin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:27.175259"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:27.177254"], ["updated_at", "2024-01-24 10:26:27.177254"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"202"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 202], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:26:27.183883"], ["id", 202]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 1105)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Clarence Weissnat"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:27.192049"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:27.194171"], ["updated_at", "2024-01-24 10:26:27.194171"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"203"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 775)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Tamatha Towne MD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:27.207653"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:27.209264"], ["updated_at", "2024-01-24 10:26:27.209264"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"204"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 204], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:26:27.216803"], ["id", 204]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 963)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ferdinand Thompson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:27.225149"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:27.226784"], ["updated_at", "2024-01-24 10:26:27.226784"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"205", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 205], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8ms (Views: 1.2ms | ActiveRecord: 1.2ms | Allocations: 1838)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jenniffer Wyman"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:27.242140"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:27.244660"], ["updated_at", "2024-01-24 10:26:27.244660"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"206", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 433)
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jamar Stamm"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:29.198502"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:29.206331"], ["updated_at", "2024-01-24 10:26:29.206331"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"207", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 706)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Patrick Lemke"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:29.230813"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:29.232704"], ["updated_at", "2024-01-24 10:26:29.232704"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"208", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 426)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Kelle Bradtke II"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:26:29.246383"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:26:29.248254"], ["updated_at", "2024-01-24 10:26:29.248254"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"209", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 426)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Hayden Funk"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:27:38.833731"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:27:38.841124"], ["updated_at", "2024-01-24 10:27:38.841124"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 230)
  Rendered layout layouts/mailer.html.erb (Duration: 0.9ms | Allocations: 456)
ApplicationMailer#send_otp: processed outbound mail in 9.7ms
Delivered mail 65b0e61ad9c33_54d112fc-475@itsupport-HP-ProBook-440-G7.mail (17.4ms)
Date: Wed, 24 Jan 2024 15:57:38 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0e61ad9c33_54d112fc-475@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Hayden Funk,<br>

<p>OTP to login to the websits is 574943. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 54ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 21907)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Chantal Kling"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:27:38.917880"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:27:38.919861"], ["updated_at", "2024-01-24 10:27:38.919861"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 211]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 613)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rickie Luettgen"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:27:38.935710"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:27:38.937571"], ["updated_at", "2024-01-24 10:27:38.937571"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 347)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Daniel Bergstrom DO"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:27:38.952186"], ["updated_at", "2024-01-24 10:27:38.952186"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 290)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Hazel Hauck"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:27:38.963177"], ["updated_at", "2024-01-24 10:27:38.963177"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 273)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Sen. Hosea Gottlieb"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:27:38.972641"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:27:38.974781"], ["updated_at", "2024-01-24 10:27:38.974781"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"215"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 215], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 606)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rebekah Torphy"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:27:38.987767"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:27:38.989755"], ["updated_at", "2024-01-24 10:27:38.989755"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"216"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 216], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 398)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Milda Sipes"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:27:38.999891"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:27:39.001797"], ["updated_at", "2024-01-24 10:27:39.001797"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"217"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 217], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 217], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:27:39.008966"], ["id", 217]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 1105)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 217], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Logan Lang"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:27:39.017203"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:27:39.019710"], ["updated_at", "2024-01-24 10:27:39.019710"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"218"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 218], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 218], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 773)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 218], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Toccara Wolff DDS"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:27:39.035404"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:27:39.037612"], ["updated_at", "2024-01-24 10:27:39.037612"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"219"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 219], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:27:39.045037"], ["id", 219]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 963)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Darell Bayer"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:27:39.053885"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:27:39.056072"], ["updated_at", "2024-01-24 10:27:39.056072"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"220", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 220], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 220], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 1.4ms | ActiveRecord: 1.9ms | Allocations: 1837)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Gov. Deon Bins"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:27:39.074444"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:27:39.075926"], ["updated_at", "2024-01-24 10:27:39.075926"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"221", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 6ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 433)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Russel Schmeler"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:27:39.088922"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:27:39.090553"], ["updated_at", "2024-01-24 10:27:39.090553"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"222", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 426)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Henry Homenick LLD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:27:39.111036"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:27:39.112750"], ["updated_at", "2024-01-24 10:27:39.112750"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"223", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 426)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Adelaida Effertz"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:27:39.126589"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:27:39.129043"], ["updated_at", "2024-01-24 10:27:39.129043"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"224", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 224], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 6ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 426)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Evan Weissnat"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:29:49.392220"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:29:49.399562"], ["updated_at", "2024-01-24 10:29:49.399562"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 230)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 456)
ApplicationMailer#send_otp: processed outbound mail in 9.3ms
Delivered mail 65b0e69d6dc0f_55c112fc5344@itsupport-HP-ProBook-440-G7.mail (16.5ms)
Date: Wed, 24 Jan 2024 15:59:49 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0e69d6dc0f_55c112fc5344@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Evan Weissnat,<br>

<p>OTP to login to the websits is 579075. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 53ms (Views: 0.7ms | ActiveRecord: 0.6ms | Allocations: 21907)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Tuan Bosco"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:29:49.474585"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:29:49.476325"], ["updated_at", "2024-01-24 10:29:49.476325"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 226]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 615)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Johnnie Leannon"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:29:49.491580"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:29:49.493055"], ["updated_at", "2024-01-24 10:29:49.493055"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 347)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dusty Marks"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:29:49.506287"], ["updated_at", "2024-01-24 10:29:49.506287"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 290)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dexter Frami"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:29:49.517257"], ["updated_at", "2024-01-24 10:29:49.517257"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 273)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Olin Metz"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:29:49.526090"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:29:49.527866"], ["updated_at", "2024-01-24 10:29:49.527866"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"230"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 230], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 602)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Marlana Gislason"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:29:49.540514"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:29:49.542312"], ["updated_at", "2024-01-24 10:29:49.542312"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"231"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 231], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Allene Cormier"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:29:49.551116"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:29:49.552856"], ["updated_at", "2024-01-24 10:29:49.552856"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"232"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 232], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:29:49.560574"], ["id", 232]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 1105)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Wilfredo Parker"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:29:49.567816"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:29:49.569640"], ["updated_at", "2024-01-24 10:29:49.569640"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"233"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 233], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 233], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 773)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 233], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Columbus Konopelski"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:29:49.584303"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:29:49.586287"], ["updated_at", "2024-01-24 10:29:49.586287"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"234"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 234], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:29:49.592015"], ["id", 234]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 963)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "The Hon. Willia Yost"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:29:49.599623"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:29:49.601525"], ["updated_at", "2024-01-24 10:29:49.601525"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"235", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 235], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 235], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 235], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 9ms (Views: 1.3ms | ActiveRecord: 0.8ms | Allocations: 2023)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Shad Goyette"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:29:49.619096"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:29:49.620748"], ["updated_at", "2024-01-24 10:29:49.620748"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"236", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 236], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 236], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 7ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 745)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Owen Kovacek"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:29:49.636353"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:29:49.638706"], ["updated_at", "2024-01-24 10:29:49.638706"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"237", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 237], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 237], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 237], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 11ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 1229)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Carlie Lindgren"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:29:49.659076"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:29:49.660848"], ["updated_at", "2024-01-24 10:29:49.660848"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"238", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 238], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 238], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 238], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 15ms (Views: 1.1ms | ActiveRecord: 0.9ms | Allocations: 1445)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rudolph Keeling VM"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:29:49.685125"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:29:49.687202"], ["updated_at", "2024-01-24 10:29:49.687202"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"239", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 239], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 239], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 239], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2024-01-24 10:29:49.701436"], ["id", 239]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 1480)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Viva Strosin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:30:33.379693"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:30:33.386936"], ["updated_at", "2024-01-24 10:30:33.386936"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 230)
  Rendered layout layouts/mailer.html.erb (Duration: 1.0ms | Allocations: 456)
ApplicationMailer#send_otp: processed outbound mail in 9.1ms
Delivered mail 65b0e6c96931e_567d12fc-4f5@itsupport-HP-ProBook-440-G7.mail (15.5ms)
Date: Wed, 24 Jan 2024 16:00:33 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0e6c96931e_567d12fc-4f5@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Viva Strosin,<br>

<p>OTP to login to the websits is 813068. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 46ms (Views: 0.6ms | ActiveRecord: 0.5ms | Allocations: 21907)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Alisia Roberts"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:30:33.454503"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:30:33.456278"], ["updated_at", "2024-01-24 10:30:33.456278"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 241]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 613)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Edythe Haag DC"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:30:33.471947"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:30:33.474012"], ["updated_at", "2024-01-24 10:30:33.474012"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 347)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Miss Carol DuBuque"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:30:33.487265"], ["updated_at", "2024-01-24 10:30:33.487265"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 290)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Darrell Prohaska"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:30:33.498006"], ["updated_at", "2024-01-24 10:30:33.498006"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 273)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Sen. Austin Baumbach"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:30:33.506966"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:30:33.508758"], ["updated_at", "2024-01-24 10:30:33.508758"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"245"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 245], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 604)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Elisa Bahringer"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:30:33.521007"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:30:33.522896"], ["updated_at", "2024-01-24 10:30:33.522896"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"246"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Zenia Wisozk"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:30:33.531120"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:30:33.532751"], ["updated_at", "2024-01-24 10:30:33.532751"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"247"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 247], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:30:33.539817"], ["id", 247]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.2ms | Allocations: 1105)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Mirtha Balistreri JD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:30:33.547762"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:30:33.549363"], ["updated_at", "2024-01-24 10:30:33.549363"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"248"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 248], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 775)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Natisha Murphy"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:30:33.564184"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:30:33.566006"], ["updated_at", "2024-01-24 10:30:33.566006"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"249"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 249], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 249], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:30:33.572405"], ["id", 249]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 959)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 249], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jewell Murazik"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:30:33.579400"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:30:33.581503"], ["updated_at", "2024-01-24 10:30:33.581503"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"250", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 250], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 250], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 250], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 10ms (Views: 1.1ms | ActiveRecord: 0.8ms | Allocations: 2022)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jospeh Schuster"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:30:33.600968"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:30:33.603689"], ["updated_at", "2024-01-24 10:30:33.603689"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"251", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 251], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 251], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 745)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dee Bogisich"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:30:33.621668"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:30:33.623598"], ["updated_at", "2024-01-24 10:30:33.623598"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"252", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 252], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 252], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 252], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 10ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1229)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Voncile Fisher"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:30:33.642164"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:30:33.644373"], ["updated_at", "2024-01-24 10:30:33.644373"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"253", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 253], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 253], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 253], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 12ms (Views: 0.4ms | ActiveRecord: 0.8ms | Allocations: 1445)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jeremiah Price"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:30:33.665626"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:30:33.668007"], ["updated_at", "2024-01-24 10:30:33.668007"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"254", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 254], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 254], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 254], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2024-01-24 10:30:33.685085"], ["id", 254]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 1478)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"brittney@bartoletti.test", "name"=>"Rogelio Brekke", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "brittney@bartoletti.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rogelio Brekke"], ["email", "brittney@bartoletti.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:35.899429"], ["updated_at", "2024-01-24 10:48:35.899429"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.7ms | Allocations: 362)
  Rendered layout layouts/mailer.html.erb (Duration: 1.3ms | Allocations: 587)
ApplicationMailer#send_confirmation_email: processed outbound mail in 10.1ms
Delivered mail 65b0eb03e2ad9_5df3fdc897a2@itsupport-HP-ProBook-440-G7.mail (16.8ms)
Date: Wed, 24 Jan 2024 16:18:35 +0530
From: from@example.com
To: brittney@bartoletti.test
Message-ID: <65b0eb03e2ad9_5df3fdc897a2@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Rogelio Brekke,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=b31QNg1xvYGLukG7cmT0Fg">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 85ms (Views: 0.8ms | ActiveRecord: 4.3ms | Allocations: 38550)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"aleisha@dubuque.test", "name"=>"Devin Runolfsson II", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aleisha@dubuque.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Devin Runolfsson II"], ["email", "aleisha@dubuque.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:35.956603"], ["updated_at", "2024-01-24 10:48:35.956603"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.4ms | Allocations: 125)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.7ms
Delivered mail 65b0eb03ea9bd_5df3fdc898fa@itsupport-HP-ProBook-440-G7.mail (14.3ms)
Date: Wed, 24 Jan 2024 16:18:35 +0530
From: from@example.com
To: aleisha@dubuque.test
Message-ID: <65b0eb03ea9bd_5df3fdc898fa@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Devin Runolfsson II,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=-0hpjy_-n33QxTGKsHcLAA">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 23ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 6591)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"jayne@steuber.test", "name"=>"Msgr. Stephan McLaughlin", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "jayne@steuber.test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 7ms (Views: 0.4ms | ActiveRecord: 1.9ms | Allocations: 757)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"lucas.jakubowski@paucek.example", "name"=>"Wendell O'Keefe", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "lucas.jakubowski@paucek.example"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 692)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "rory@raynor.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Quinton Kautzer"], ["email", "rory@raynor.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.010951"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.013236"], ["updated_at", "2024-01-24 10:48:36.013236"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2024-01-24 10:48:36.019703"], ["id", 257]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 831)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 231)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Douglass Herman JD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.035559"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.038518"], ["updated_at", "2024-01-24 10:48:36.038518"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.8ms | Allocations: 129)
  Rendered layout layouts/mailer.html.erb (Duration: 1.2ms | Allocations: 196)
ApplicationMailer#send_otp: processed outbound mail in 3.5ms
Delivered mail 65b0eb04cee9_5df3fdc8991f@itsupport-HP-ProBook-440-G7.mail (19.7ms)
Date: Wed, 24 Jan 2024 16:18:36 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0eb04cee9_5df3fdc8991f@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Douglass Herman JD,<br>

<p>OTP to login to the websits is 016095. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 30ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 6592)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jayna Herman"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.084864"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.087837"], ["updated_at", "2024-01-24 10:48:36.087837"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 259]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 610)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ofelia Nicolas Esq."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.105055"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.106853"], ["updated_at", "2024-01-24 10:48:36.106853"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 347)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Kasey Johns"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.122347"], ["updated_at", "2024-01-24 10:48:36.122347"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 290)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Theressa Herzog"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.137747"], ["updated_at", "2024-01-24 10:48:36.137747"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 273)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Msgr. Tobias Klein"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.148373"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.150953"], ["updated_at", "2024-01-24 10:48:36.150953"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"263"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 263], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 604)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Pres. Tabetha Ankunding"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.167092"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.170124"], ["updated_at", "2024-01-24 10:48:36.170124"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"264"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 264], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 398)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Lou Goodwin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.181467"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.183583"], ["updated_at", "2024-01-24 10:48:36.183583"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"265"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 265], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 265], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 10:48:36.192306"], ["id", 265]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 2.7ms | Allocations: 1069)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 265], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Cyndi Ullrich IV"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.202127"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.204428"], ["updated_at", "2024-01-24 10:48:36.204428"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"266"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 266], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 266], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 775)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 266], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Mrs. Florencio Berge"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.220013"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.222544"], ["updated_at", "2024-01-24 10:48:36.222544"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"267"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 267], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 267], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 10:48:36.231762"], ["id", 267]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 3.0ms | Allocations: 963)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 267], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dinah Ullrich"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.243690"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.246275"], ["updated_at", "2024-01-24 10:48:36.246275"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"268", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 268], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 268], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 268], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 13ms (Views: 2.2ms | ActiveRecord: 0.8ms | Allocations: 1964)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dr. Spencer Littel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.271204"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.273486"], ["updated_at", "2024-01-24 10:48:36.273486"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"269", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 269], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 269], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 10ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 746)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ian Schiller"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.296139"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.298757"], ["updated_at", "2024-01-24 10:48:36.298757"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"270", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 270], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 270], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 270], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 23ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 1229)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Leigh Conroy"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.335170"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.338075"], ["updated_at", "2024-01-24 10:48:36.338075"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"271", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 271], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 271], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 271], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 25ms (Views: 4.4ms | ActiveRecord: 0.9ms | Allocations: 1445)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rudolph Bogisich"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.374794"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.378150"], ["updated_at", "2024-01-24 10:48:36.378150"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"272", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 272], ["LIMIT", 1]]
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 272], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 272], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2024-01-24 10:48:36.401819"], ["id", 272]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 3.4ms | Allocations: 1480)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (3.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo@domain.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "king_sawayn@goldner.test"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jere Gleason"], ["email", "king_sawayn@goldner.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.489146"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.492625"], ["updated_at", "2024-01-24 10:48:36.492625"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "barrett@hayes.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Rev. Georgia Ullrich"], ["email", "barrett@hayes.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 10:48:36.505212"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:48:36.508299"], ["updated_at", "2024-01-24 10:48:36.508299"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"edyth.hilpert@beier.example", "name"=>"Laurel Miller", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "edyth.hilpert@beier.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Laurel Miller"], ["email", "edyth.hilpert@beier.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.208421"], ["updated_at", "2024-01-24 11:02:12.208421"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.8ms | Allocations: 362)
  Rendered layout layouts/mailer.html.erb (Duration: 1.3ms | Allocations: 587)
ApplicationMailer#send_confirmation_email: processed outbound mail in 13.7ms
Delivered mail 65b0ee343d810_6305fdc11953@itsupport-HP-ProBook-440-G7.mail (23.3ms)
Date: Wed, 24 Jan 2024 16:32:12 +0530
From: from@example.com
To: edyth.hilpert@beier.example
Message-ID: <65b0ee343d810_6305fdc11953@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Laurel Miller,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=AHQ73HG3hmj13kGt57dSbQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 110ms (Views: 1.4ms | ActiveRecord: 5.2ms | Allocations: 38489)
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"tyson@kohler.example", "name"=>"Dannielle Luettgen CPA", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tyson@kohler.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dannielle Luettgen CPA"], ["email", "tyson@kohler.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.289538"], ["updated_at", "2024-01-24 11:02:12.289538"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.5ms | Allocations: 125)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.7ms
Delivered mail 65b0ee3447fd5_6305fdc12013@itsupport-HP-ProBook-440-G7.mail (13.1ms)
Date: Wed, 24 Jan 2024 16:32:12 +0530
From: from@example.com
To: tyson@kohler.example
Message-ID: <65b0ee3447fd5_6305fdc12013@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Dannielle Luettgen CPA,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=lLun1OQI8Fl-Z_lW23--wg">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 24ms (Views: 0.6ms | ActiveRecord: 2.4ms | Allocations: 6661)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"jonie.mueller@botsford.test", "name"=>"Long Mertz", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "jonie.mueller@botsford.test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 756)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"will@adams.example", "name"=>"Von Torphy", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "will@adams.example"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 692)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "mack@ryan-schumm.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Luanna Botsford"], ["email", "mack@ryan-schumm.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.348834"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.351773"], ["updated_at", "2024-01-24 11:02:12.351773"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2024-01-24 11:02:12.361159"], ["id", 277]]
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 831)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 231)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Otto Balistreri"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.378739"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.380889"], ["updated_at", "2024-01-24 11:02:12.380889"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.7ms | Allocations: 128)
  Rendered layout layouts/mailer.html.erb (Duration: 1.0ms | Allocations: 195)
ApplicationMailer#send_otp: processed outbound mail in 3.4ms
Delivered mail 65b0ee3460901_6305fdc121ae@itsupport-HP-ProBook-440-G7.mail (18.4ms)
Date: Wed, 24 Jan 2024 16:32:12 +0530
From: from@example.com
To: tester@test.com
Message-ID: <65b0ee3460901_6305fdc121ae@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Otto Balistreri,<br>

<p>OTP to login to the websits is 933892. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 28ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 6582)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Oliver Marks LLD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.425431"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.428341"], ["updated_at", "2024-01-24 11:02:12.428341"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 279]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 612)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Tia Dach"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.449296"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.451725"], ["updated_at", "2024-01-24 11:02:12.451725"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 347)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Blair Fadel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.470839"], ["updated_at", "2024-01-24 11:02:12.470839"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 290)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Filiberto Botsford"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.487574"], ["updated_at", "2024-01-24 11:02:12.487574"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 273)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Freddie Mayert"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.500951"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.503380"], ["updated_at", "2024-01-24 11:02:12.503380"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"283"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 283], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 602)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Jeffie Ritchie"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.516691"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.519388"], ["updated_at", "2024-01-24 11:02:12.519388"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"284"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 284], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 396)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ian Beier"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.532736"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.535751"], ["updated_at", "2024-01-24 11:02:12.535751"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"285"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 285], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 285], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2024-01-24 11:02:12.545784"], ["id", 285]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 2.7ms | Allocations: 1069)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 285], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Clark Nienow"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.556241"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.558455"], ["updated_at", "2024-01-24 11:02:12.558455"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"286"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 286], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 286], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 773)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 286], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Lionel Wunsch Sr."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.574262"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.576248"], ["updated_at", "2024-01-24 11:02:12.576248"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"287"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 287], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 287], ["LIMIT", 1]]
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2024-01-24 11:02:12.585146"], ["id", 287]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 3.5ms | Allocations: 963)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 287], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Brandie Kuvalis DDS"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.598914"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.602429"], ["updated_at", "2024-01-24 11:02:12.602429"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"288", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 288], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 288], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 16ms (Views: 2.9ms | ActiveRecord: 1.3ms | Allocations: 1965)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Vicenta Stanton"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.630586"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.633659"], ["updated_at", "2024-01-24 11:02:12.633659"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"289", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 289], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 19ms (Views: 0.3ms | ActiveRecord: 4.7ms | Allocations: 745)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Prof. Beatrice Grimes"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.666052"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.670033"], ["updated_at", "2024-01-24 11:02:12.670033"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"290", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  [1m[36mUser Exists? (10.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 290], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 290], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 30ms (Views: 1.1ms | ActiveRecord: 11.0ms | Allocations: 1230)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Doyle Torphy"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.716830"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.719654"], ["updated_at", "2024-01-24 11:02:12.719654"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"291", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 291], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 291], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 15ms (Views: 0.9ms | ActiveRecord: 1.0ms | Allocations: 1445)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Dotty Buckridge"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.752028"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.755553"], ["updated_at", "2024-01-24 11:02:12.755553"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"292", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 292], ["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 292], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2024-01-24 11:02:12.778190"], ["id", 292]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 3.1ms | Allocations: 1478)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo@domain.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "blaine@corkery-wyman.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Charles Pacocha"], ["email", "blaine@corkery-wyman.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.877681"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.881070"], ["updated_at", "2024-01-24 11:02:12.881070"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "man@thiel.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Gaye Larson"], ["email", "man@thiel.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 11:02:12.892340"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 11:02:12.895551"], ["updated_at", "2024-01-24 11:02:12.895551"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
