  [1m[35m (325.1ms)[0m  [1m[35mCREATE DATABASE "demo_auth_dev" ENCODING = 'unicode'[0m
  [1m[35m (31.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-12-01 12:04:07.230167', '2023-12-01 12:04:07.230171') RETURNING "key"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "email" character varying NOT NULL, "password" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201120434') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:40:35 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
Zeitwerk::NameError (expected file /home/prabhu/personal/demo_authy_app/app/controllers/api/registrations_controller.rb to define constant Api::RegistrationsController, but didn't):
  
zeitwerk (2.6.12) lib/zeitwerk/loader/callbacks.rb:33:in `on_file_autoloaded'
zeitwerk (2.6.12) lib/zeitwerk/kernel.rb:31:in `require'
activesupport (7.1.2) lib/active_support/inflector/methods.rb:290:in `const_get'
activesupport (7.1.2) lib/active_support/inflector/methods.rb:290:in `constantize'
activesupport (7.1.2) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (7.1.2) lib/action_dispatch/http/request.rb:90:in `controller_class_for'
actionpack (7.1.2) lib/action_dispatch/request/utils.rb:100:in `action_encoding_template'
actionpack (7.1.2) lib/action_dispatch/request/utils.rb:85:in `encode'
actionpack (7.1.2) lib/action_dispatch/request/utils.rb:45:in `set_binary_encoding'
actionpack (7.1.2) lib/action_dispatch/http/parameters.rb:68:in `path_parameters='
actionpack (7.1.2) lib/action_dispatch/journey/router.rb:48:in `block in serve'
actionpack (7.1.2) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.2) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.2) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.2) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.0.8) lib/rack/etag.rb:29:in `call'
rack (3.0.8) lib/rack/conditional_get.rb:43:in `call'
rack (3.0.8) lib/rack/head.rb:15:in `call'
activerecord (7.1.2) lib/active_record/migration.rb:654:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.2) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.0.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.0.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.2) lib/rails/engine.rb:529:in `call'
puma (6.4.0) lib/puma/configuration.rb:272:in `call'
puma (6.4.0) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.0) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.0) lib/puma/request.rb:99:in `handle_request'
puma (6.4.0) lib/puma/server.rb:443:in `process_client'
puma (6.4.0) lib/puma/server.rb:241:in `block in run'
puma (6.4.0) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Error occurred while parsing request parameters.
Contents:

{
    "user": {
        "name": "testing new", "email": "abcd@test.com"
    }, 
}
Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:40:46 +0530
  
ActionController::RoutingError (uninitialized constant Api::RegistrationsController):
  
Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:41:05 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd@test.com"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd@test.com"}}}
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms | Allocations: 10138)


  
ArgumentError (wrong number of arguments (given 4, expected 1)):
  
app/controllers/api/registrations_controller.rb:14:in `sign_up_params'
app/controllers/api/registrations_controller.rb:3:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:41:56 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd@test.com"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd@test.com"}}}
Completed 204 No Content in 36ms (ActiveRecord: 12.3ms | Allocations: 13855)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:43:40 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd@test.com"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd@test.com"}}}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 2.8ms | Allocations: 3760)


  
NoMethodError (undefined method `errors' for nil:NilClass):
  
app/controllers/application_controller.rb:4:in `render_error'
app/controllers/api/registrations_controller.rb:7:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:43:53 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd@test.com"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd@test.com"}}}
Completed 422 Unprocessable Entity in 12ms (Views: 4.2ms | ActiveRecord: 2.6ms | Allocations: 6203)


  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231201120434'[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201120434') RETURNING "version"[0m
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:46:57 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcd@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:16:58.243568"], ["updated_at", "2023-12-01 12:16:58.243568"]]
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
Completed 200 OK in 276ms (Views: 0.8ms | ActiveRecord: 13.5ms | Allocations: 22591)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:47:06 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcd@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:17:06.685386"], ["updated_at", "2023-12-01 12:17:06.685386"]]
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mTRANSACTION (14.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
Completed 200 OK in 239ms (Views: 0.3ms | ActiveRecord: 15.7ms | Allocations: 1678)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:49:06 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."name") = LOWER($1) LIMIT $2[0m  [["name", "testing new"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
Completed 422 Unprocessable Entity in 252ms (Views: 2.8ms | ActiveRecord: 13.7ms | Allocations: 11809)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:49:19 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
Completed 422 Unprocessable Entity in 263ms (Views: 0.5ms | ActiveRecord: 5.7ms | Allocations: 6371)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:49:32 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
Completed 422 Unprocessable Entity in 225ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 2051)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:50:35 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd1@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd1@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd1@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcd1@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:20:35.702777"], ["updated_at", "2023-12-01 12:20:35.702777"]]
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
Completed 200 OK in 235ms (Views: 0.2ms | ActiveRecord: 11.3ms | Allocations: 2448)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:53:32 +0530
  
SyntaxError (/home/prabhu/personal/demo_authy_app/app/controllers/api/registrations_controller.rb:6: syntax error, unexpected label
  	  render json: (message: true, name: user.name, email...
  	                ^~~~~~~~
):
  
app/controllers/api/registrations_controller.rb:6: syntax error, unexpected label
Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:53:51 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd1@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd1@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd1@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
Completed 422 Unprocessable Entity in 253ms (Views: 0.3ms | ActiveRecord: 4.1ms | Allocations: 6149)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:53:59 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd2@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd2@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd2@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcd2@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:23:59.402952"], ["updated_at", "2023-12-01 12:23:59.402952"]]
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:4:in `create'
Completed 500 Internal Server Error in 239ms (ActiveRecord: 11.5ms | Allocations: 2453)


  
NameError (uninitialized constant Api::RegistrationsController::JWTAuth):
  
app/controllers/api/registrations_controller.rb:5:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:54:54 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd3@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd3@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd3@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcd3@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:24:54.681926"], ["updated_at", "2023-12-01 12:24:54.681926"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 500 Internal Server Error in 270ms (ActiveRecord: 13.9ms | Allocations: 25091)


  
NameError (uninitialized constant Api::RegistrationsController::JWTAuth):
  
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:56:09 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NameError (uninitialized constant Api::RegistrationsController::JWTAuth):
  
app/controllers/api/registrations_controller.rb:2:in `<class:RegistrationsController>'
app/controllers/api/registrations_controller.rb:1:in `<main>'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:56:44 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NameError (uninitialized constant Api::RegistrationsController::JWTAuth):
  
app/controllers/api/registrations_controller.rb:2:in `<class:RegistrationsController>'
app/controllers/api/registrations_controller.rb:1:in `<main>'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:57:13 +0530
  
Zeitwerk::NameError (expected file /home/prabhu/personal/demo_authy_app/lib/jwt_auth.rb to define constant JwtAuth, but didn't):
  
app/controllers/application_controller.rb:2:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<main>'
app/controllers/api/registrations_controller.rb:1:in `<main>'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:58:12 +0530
  
TypeError (JWTAuth is not a class
/home/prabhu/personal/demo_authy_app/lib/jwt_auth.rb:1: previous definition of JWTAuth was here):
  
lib/jwt_auth.rb:1:in `<main>'
app/controllers/application_controller.rb:2:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<main>'
app/controllers/api/registrations_controller.rb:1:in `<main>'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:58:33 +0530
  
Zeitwerk::NameError (expected file /home/prabhu/personal/demo_authy_app/app/models/concerns/jwt_auth.rb to define constant JwtAuth, but didn't):
  
app/controllers/application_controller.rb:2:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<main>'
app/controllers/api/registrations_controller.rb:1:in `<main>'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:58:52 +0530
  
TypeError (JWTAuth is not a class
/home/prabhu/personal/demo_authy_app/lib/jwt_auth.rb:1: previous definition of JWTAuth was here):
  
app/models/concerns/jwt_auth.rb:1:in `<main>'
app/controllers/application_controller.rb:2:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<main>'
app/controllers/api/registrations_controller.rb:1:in `<main>'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 17:59:01 +0530
  
Zeitwerk::NameError (expected file /home/prabhu/personal/demo_authy_app/app/models/concerns/jwt_auth.rb to define constant JwtAuth, but didn't):
  
app/controllers/application_controller.rb:2:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<main>'
app/controllers/api/registrations_controller.rb:1:in `<main>'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:00:44 +0530
  
TypeError (JWTAuth is not a class
/home/prabhu/personal/demo_authy_app/lib/jwt_auth.rb:1: previous definition of JWTAuth was here):
  
lib/jwt_auth.rb:1:in `<main>'
app/controllers/application_controller.rb:2:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<main>'
app/controllers/api/registrations_controller.rb:1:in `<main>'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:00:57 +0530
  
TypeError (wrong argument type Class (expected Module)):
  
app/controllers/application_controller.rb:2:in `include'
app/controllers/application_controller.rb:2:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<main>'
app/controllers/api/registrations_controller.rb:1:in `<main>'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:01:17 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd3@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd3@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd3@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 422 Unprocessable Entity in 420ms (Views: 1.4ms | ActiveRecord: 18.6ms | Allocations: 25374)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:01:51 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd4@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd4@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (7.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd4@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcd4@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:31:52.403444"], ["updated_at", "2023-12-01 12:31:52.403444"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 500 Internal Server Error in 367ms (ActiveRecord: 16.1ms | Allocations: 6937)


  
NoMethodError (undefined method `encode' for JWTAuth:Module):
  
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:08:16 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd4@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd4@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd4@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 422 Unprocessable Entity in 316ms (Views: 0.4ms | ActiveRecord: 9.9ms | Allocations: 8466)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:08:23 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd5@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd5@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcd5@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:38:23.678476"], ["updated_at", "2023-12-01 12:38:23.678476"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 500 Internal Server Error in 349ms (ActiveRecord: 12.4ms | Allocations: 2460)


  
NoMethodError (undefined method `new' for JWTAuth:Module):
  
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:08:35 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd5@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd5@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd5@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 422 Unprocessable Entity in 312ms (Views: 1.0ms | ActiveRecord: 8.6ms | Allocations: 6158)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:08:46 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd5@taest.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd5@taest.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd5@taest.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcd5@taest.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:38:47.366167"], ["updated_at", "2023-12-01 12:38:47.366167"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (16.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 500 Internal Server Error in 332ms (ActiveRecord: 21.9ms | Allocations: 6441)


  
NoMethodError (undefined method `encode' for JWTAuth:Module):
  
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:09:21 +0530
  
NameError (uninitialized constant JwtAuth::Settings):
  
lib/jwt_auth.rb:5:in `initialize'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:09:40 +0530
  
TypeError (wrong argument type Class (expected Module)):
  
app/controllers/application_controller.rb:2:in `include'
app/controllers/application_controller.rb:2:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<main>'
app/controllers/api/registrations_controller.rb:1:in `<main>'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:10:05 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd5@ataest.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd5@ataest.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd5@ataest.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcd5@ataest.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:40:06.337706"], ["updated_at", "2023-12-01 12:40:06.337706"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 500 Internal Server Error in 326ms (ActiveRecord: 10.7ms | Allocations: 6468)


  
NoMethodError (undefined method `new' for JWTAuth:Module):
  
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:10:27 +0530
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcda5@ataest.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcda5@ataest.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcda5@ataest.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcda5@ataest.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:40:28.277896"], ["updated_at", "2023-12-01 12:40:28.277896"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 500 Internal Server Error in 388ms (ActiveRecord: 29.6ms | Allocations: 25095)


  
NameError (uninitialized constant Api::RegistrationsController::JWTAuth):
  
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:11:06 +0530
  
NameError (uninitialized constant Api::RegistrationsController::JutAuth):
  
app/controllers/api/registrations_controller.rb:2:in `<class:RegistrationsController>'
app/controllers/api/registrations_controller.rb:1:in `<main>'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:11:15 +0530
  
NameError (uninitialized constant Api::RegistrationsController::JutAuth):
  
app/controllers/api/registrations_controller.rb:2:in `<class:RegistrationsController>'
app/controllers/api/registrations_controller.rb:1:in `<main>'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:11:44 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcda5@ataest.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcda5@ataest.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcda5@ataest.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 422 Unprocessable Entity in 402ms (Views: 2.3ms | ActiveRecord: 18.6ms | Allocations: 25417)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:11:49 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcdaa5@ataest.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcdaa5@ataest.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcdaa5@ataest.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcdaa5@ataest.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:41:49.939180"], ["updated_at", "2023-12-01 12:41:49.939180"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 500 Internal Server Error in 339ms (ActiveRecord: 12.8ms | Allocations: 2966)


  
NameError (uninitialized constant JwtAuth::Settings):
  
lib/jwt_auth.rb:5:in `initialize'
app/controllers/api/registrations_controller.rb:6:in `new'
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:13:59 +0530
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcdaaa5@ataest.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcdaaa5@ataest.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcdaaa5@ataest.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcdaaa5@ataest.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:44:00.186033"], ["updated_at", "2023-12-01 12:44:00.186033"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 500 Internal Server Error in 371ms (ActiveRecord: 18.5ms | Allocations: 25281)


  
NoMethodError (undefined method `encode' for #<JwtAuth:0x00007f977aef2220 @algorithm="HS256", @key="h\x9C__T\xA7r\x88\xD2FG\x15\x9C\x83\a\x7F\x98\xB43b8\xBAp\x93VT\xFB_\xA4\xCD\x97p", @expiration=1702039440>):
  
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:14:51 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcsdaaa5@ataest.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcsdaaa5@ataest.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcsdaaa5@ataest.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcsdaaa5@ataest.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:44:51.931283"], ["updated_at", "2023-12-01 12:44:51.931283"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (17.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 500 Internal Server Error in 28708ms (ActiveRecord: 34.2ms | Allocations: 84843)


  
NoMethodError (undefined method `encode' for #<JwtAuth:0x00007fc5dbbc0cc0 @algorithm="HS256", @key="h\x9C__T\xA7r\x88\xD2FG\x15\x9C\x83\a\x7F\x98\xB43b8\xBAp\x93VT\xFB_\xA4\xCD\x97p", @expiration=1702039520>):
  
app/controllers/api/registrations_controller.rb:7:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:16:03 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcsadaaa5@ataest.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcsadaaa5@ataest.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcsadaaa5@ataest.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcsadaaa5@ataest.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:46:03.726838"], ["updated_at", "2023-12-01 12:46:03.726838"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 500 Internal Server Error in 1939ms (ActiveRecord: 15.2ms | Allocations: 9818)


  
NoMethodError (undefined method `encode' for #<JwtAuth:0x00007fc5db546250>):
  
app/controllers/api/registrations_controller.rb:7:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:16:09 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcsadaaa5@ataest.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcsadaaa5@ataest.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcsadaaa5@ataest.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 422 Unprocessable Entity in 305ms (Views: 3.1ms | ActiveRecord: 2.6ms | Allocations: 3185)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:16:15 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcsaasdaaa5@ataest.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcsaasdaaa5@ataest.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcsaasdaaa5@ataest.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcsaasdaaa5@ataest.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:46:15.807191"], ["updated_at", "2023-12-01 12:46:15.807191"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 500 Internal Server Error in 38138ms (ActiveRecord: 11.7ms | Allocations: 4833)


  
NoMethodError (undefined method `encode' for #<JwtAuth:0x00007fc600514a00>):
  
app/controllers/api/registrations_controller.rb:7:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:16:59 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcssaasdaaa5@ataest.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcssaasdaaa5@ataest.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcssaasdaaa5@ataest.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcssaasdaaa5@ataest.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:46:59.398151"], ["updated_at", "2023-12-01 12:46:59.398151"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 500 Internal Server Error in 1520ms (ActiveRecord: 10.2ms | Allocations: 8480)


  
NameError (uninitialized constant JwtAuth::JWT):
  
lib/jwt_auth.rb:12:in `encode'
app/controllers/api/registrations_controller.rb:7:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 18:17:49 +0530
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcssaasasdaaa5@ataest.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcssaasasdaaa5@ataest.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcssaasasdaaa5@ataest.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcssaasasdaaa5@ataest.com"], ["password_digest", "[FILTERED]"], ["created_at", "2023-12-01 12:47:49.687712"], ["updated_at", "2023-12-01 12:47:49.687712"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 200 OK in 1496ms (Views: 0.8ms | ActiveRecord: 28.6ms | Allocations: 66086)


  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.6ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231201120434'[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "confirm_token" character varying, "confirmed_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201120434') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-01 19:35:15 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taester@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taester@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "taester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "testing new"], ["email", "taester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["created_at", "2023-12-01 14:05:15.854086"], ["updated_at", "2023-12-01 14:05:15.854086"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
ApplicationMailer#send_confirmation_email: processed outbound mail in 5.8ms
Completed 500 Internal Server Error in 567ms (ActiveRecord: 19.3ms | Allocations: 79715)


  
NoMethodError (undefined method `email' for nil:NilClass):
  
app/mailers/application_mailer.rb:9:in `send_confirmation_email'
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 19:35:29 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taesdter@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taesdter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "taesdter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "testing new"], ["email", "taesdter@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["created_at", "2023-12-01 14:05:30.220421"], ["updated_at", "2023-12-01 14:05:30.220421"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
ApplicationMailer#send_confirmation_email: processed outbound mail in 16.0ms
Completed 500 Internal Server Error in 372ms (ActiveRecord: 16.9ms | Allocations: 11489)


  
ActionView::MissingTemplate (Missing template application_mailer/send_confirmation_email with "mailer".

Searched in:
  * "application_mailer"
):
  
app/mailers/application_mailer.rb:8:in `send_confirmation_email'
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 19:39:16 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taeasdter@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taeasdter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "taeasdter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "testing new"], ["email", "taeasdter@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["created_at", "2023-12-01 14:09:16.970261"], ["updated_at", "2023-12-01 14:09:16.970261"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (24.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 1.7ms | Allocations: 380)
  Rendered layout layouts/mailer.html.erb (Duration: 2.2ms | Allocations: 501)
ApplicationMailer#send_confirmation_email: processed outbound mail in 38.9ms
Completed 500 Internal Server Error in 379ms (ActiveRecord: 30.0ms | Allocations: 12566)


  
ActionView::Template::Error (undefined method `confirm_user_registration_url' for #<ActionView::Base:0x0000000000fb90>):
    2: 
    3: Thanks for registering! To confirm your registration click the URL below.
    4: 
    5: <%= confirm_user_registration_url(@user.confirm_token) %>
  
app/views/application_mailer/send_confirmation_email.html.erb:5
app/mailers/application_mailer.rb:9:in `send_confirmation_email'
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 19:40:53 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taeas2dter@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taeas2dter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "taeas2dter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "testing new"], ["email", "taeas2dter@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["created_at", "2023-12-01 14:10:54.324864"], ["updated_at", "2023-12-01 14:10:54.324864"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 1.6ms | Allocations: 728)
  Rendered layout layouts/mailer.html.erb (Duration: 1.9ms | Allocations: 850)
ApplicationMailer#send_confirmation_email: processed outbound mail in 13.3ms
Completed 500 Internal Server Error in 506ms (ActiveRecord: 20.6ms | Allocations: 61614)


  
ActionView::Template::Error (undefined method `confirm_user_registration_url' for #<ActionView::Base:0x000000000090d8>):
    2: 
    3: Thanks for registering! To confirm your registration click the URL below.
    4: 
    5: <%= confirm_user_registration_url(@user.confirm_token) %>
  
app/views/application_mailer/send_confirmation_email.html.erb:5
app/mailers/application_mailer.rb:8:in `send_confirmation_email'
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 19:41:49 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taeas2dter@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taeas2dter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "taeas2dter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 422 Unprocessable Entity in 413ms (Views: 6.9ms | ActiveRecord: 24.9ms | Allocations: 27858)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 19:41:55 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taeass2dter@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taeass2dter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "taeass2dter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "testing new"], ["email", "taeass2dter@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["created_at", "2023-12-01 14:11:56.200756"], ["updated_at", "2023-12-01 14:11:56.200756"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 1.9ms | Allocations: 738)
  Rendered layout layouts/mailer.html.erb (Duration: 2.3ms | Allocations: 859)
ApplicationMailer#send_confirmation_email: processed outbound mail in 11.9ms
Completed 500 Internal Server Error in 456ms (ActiveRecord: 7.4ms | Allocations: 36273)


  
ActionView::Template::Error (undefined local variable or method `byebug' for #<ActionView::Base:0x00000000009178>):
    1: Hi <%= @user.name %>,
    2: 
    3: Thanks for registering! To confirm your registration click the URL below.
    4: <% byebug %>
    5: <%= confirm_user_registration_url(@user.confirm_token) %>
  
app/views/application_mailer/send_confirmation_email.html.erb:4
app/mailers/application_mailer.rb:8:in `send_confirmation_email'
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 19:42:21 +0530
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taeasas2dter@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taeasas2dter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "taeasas2dter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "testing new"], ["email", "taeasas2dter@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["created_at", "2023-12-01 14:12:21.644728"], ["updated_at", "2023-12-01 14:12:21.644728"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 49917.8ms | Allocations: 45798)
  Rendered layout layouts/mailer.html.erb (Duration: 49918.7ms | Allocations: 45985)
ApplicationMailer#send_confirmation_email: processed outbound mail in 49931.4ms
Completed 500 Internal Server Error in 50495ms (ActiveRecord: 28.6ms | Allocations: 106731)


  
ActionView::Template::Error (undefined method `confirm_user_registration_url' for #<ActionView::Base:0x00000000009150>):
    2: 
    3: Thanks for registering! To confirm your registration click the URL below.
    4: <% byebug %>
    5: <%= confirm_user_registration_url(@user.confirm_token) %>
  
app/views/application_mailer/send_confirmation_email.html.erb:5
app/mailers/application_mailer.rb:8:in `send_confirmation_email'
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 19:44:00 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taeasas2ddter@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taeasas2ddter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "taeasas2ddter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "testing new"], ["email", "taeasas2ddter@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["created_at", "2023-12-01 14:14:00.859845"], ["updated_at", "2023-12-01 14:14:00.859845"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 7973.5ms | Allocations: 45850)
  Rendered layout layouts/mailer.html.erb (Duration: 7974.4ms | Allocations: 46039)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7987.0ms
Completed 500 Internal Server Error in 8545ms (ActiveRecord: 20.4ms | Allocations: 106837)


  
ActionView::Template::Error (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
    2: 
    3: Thanks for registering! To confirm your registration click the URL below.
    4: <% byebug %>
    5: <%= confirm_user_api_registrations_url(@user.confirm_token) %>
  
app/views/application_mailer/send_confirmation_email.html.erb:5
app/mailers/application_mailer.rb:9:in `send_confirmation_email'
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 19:45:55 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taeasassd2ddter@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taeasassd2ddter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "taeasassd2ddter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "testing new"], ["email", "taeasassd2ddter@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["created_at", "2023-12-01 14:15:56.133649"], ["updated_at", "2023-12-01 14:15:56.133649"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 1.5ms | Allocations: 355)
  Rendered layout layouts/mailer.html.erb (Duration: 2.0ms | Allocations: 445)
ApplicationMailer#send_confirmation_email: processed outbound mail in 5.5ms
Completed 500 Internal Server Error in 366ms (ActiveRecord: 11.2ms | Allocations: 10990)


  
ActionView::Template::Error (Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true):
    2: 
    3: Thanks for registering! To confirm your registration click the URL below.
    4: 
    5: <%= confirm_user_api_registrations_url(@user.confirm_token) %>
  
app/views/application_mailer/send_confirmation_email.html.erb:5
app/mailers/application_mailer.rb:9:in `send_confirmation_email'
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 19:46:07 +0530
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taeassd2ddter@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taeassd2ddter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "taeassd2ddter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "testing new"], ["email", "taeassd2ddter@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["created_at", "2023-12-01 14:16:08.203916"], ["updated_at", "2023-12-01 14:16:08.203916"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.8ms | Allocations: 367)
  Rendered layout layouts/mailer.html.erb (Duration: 1.5ms | Allocations: 627)
ApplicationMailer#send_confirmation_email: processed outbound mail in 20.9ms
Delivered mail 6569eaa85e581_189828f04647c@itsupport-HP-ProBook-440-G7.mail (37.6ms)
Date: Fri, 01 Dec 2023 19:46:08 +0530
From: from@example.com
To: taeassd2ddter@test.com
Message-ID: <6569eaa85e581_189828f04647c@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi testing new,

Thanks for registering! To confirm your registration click the URL below.

http://localhost:3000/api/registrations/confirm_user.1JO10gjqJ_JGM09kTYJ9yg
  </body>
</html>

Completed 500 Internal Server Error in 646ms (ActiveRecord: 29.4ms | Allocations: 72152)


  
NameError (undefined local variable or method `jwt_token' for #<Api::RegistrationsController:0x00000000009150>):
  
app/controllers/api/registrations_controller.rb:7:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 19:46:49 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taeasssdssdd2ddter@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taeasssdssdd2ddter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "taeasssdssdd2ddter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "testing new"], ["email", "taeasssdssdd2ddter@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["created_at", "2023-12-01 14:16:50.211929"], ["updated_at", "2023-12-01 14:16:50.211929"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 1.8ms | Allocations: 184)
  Rendered layout layouts/mailer.html.erb (Duration: 3.5ms | Allocations: 399)
ApplicationMailer#send_confirmation_email: processed outbound mail in 9.2ms
Delivered mail 6569ead238682_1898292c465bd@itsupport-HP-ProBook-440-G7.mail (2.6ms)
Date: Fri, 01 Dec 2023 19:46:50 +0530
From: from@example.com
To: taeasssdssdd2ddter@test.com
Message-ID: <6569ead238682_1898292c465bd@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi testing new,

Thanks for registering! To confirm your registration click the URL below.

http://localhost:3000/api/registrations/confirm_user.GlqC7-319CbrReOS2LXs3g
  </body>
</html>

Completed 200 OK in 380ms (Views: 0.3ms | ActiveRecord: 11.2ms | Allocations: 10248)


Started GET "/letter_opener" for 127.0.0.1 at 2023-12-01 19:47:00 +0530
  
ActionController::RoutingError (No route matches [GET] "/letter_opener"):
  
Started GET "/letter_opener" for 127.0.0.1 at 2023-12-01 19:47:56 +0530
  
ActionController::RoutingError (No route matches [GET] "/letter_opener"):
  
Started GET "/favicon.ico" for 127.0.0.1 at 2023-12-01 19:47:56 +0530
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/letter_opener" for 127.0.0.1 at 2023-12-01 19:48:04 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/letter_opener"):
  
Started GET "/favicon.ico" for 127.0.0.1 at 2023-12-01 19:48:05 +0530
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/letter_opener" for 127.0.0.1 at 2023-12-01 19:50:02 +0530
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering layout /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/letters.html.erb
  Rendering /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/letters
  Rendered collection of /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/_item.html.erb [0 times] (Duration: 0.0ms | Allocations: 27)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/letters (Duration: 2.4ms | Allocations: 1262)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/styles/_icon.html.erb (Duration: 0.6ms | Allocations: 100)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/styles/_bootstrap.html.erb (Duration: 5.6ms | Allocations: 633)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/styles/_letters.html.erb (Duration: 0.4ms | Allocations: 161)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/_styles.html.erb (Duration: 9.9ms | Allocations: 1448)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/js/_jquery.html.erb (Duration: 4.6ms | Allocations: 1918)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/js/_favcount.html.erb (Duration: 0.6ms | Allocations: 316)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/_javascripts.html.erb (Duration: 7.2ms | Allocations: 2817)
  Rendered layout /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/letters.html.erb (Duration: 22.5ms | Allocations: 6452)
Completed 200 OK in 35ms (Views: 26.0ms | ActiveRecord: 0.0ms | Allocations: 11131)


Started GET "/letter_opener/" for 127.0.0.1 at 2023-12-01 19:50:04 +0530
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering layout /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/letters.html.erb
  Rendering /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/letters
  Rendered collection of /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/_item.html.erb [0 times] (Duration: 0.0ms | Allocations: 9)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/letters (Duration: 1.3ms | Allocations: 219)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/styles/_icon.html.erb (Duration: 0.1ms | Allocations: 9)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/styles/_bootstrap.html.erb (Duration: 0.2ms | Allocations: 8)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/styles/_letters.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/_styles.html.erb (Duration: 1.1ms | Allocations: 192)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/js/_jquery.html.erb (Duration: 0.1ms | Allocations: 10)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/js/_favcount.html.erb (Duration: 0.1ms | Allocations: 10)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/_javascripts.html.erb (Duration: 0.7ms | Allocations: 140)
  Rendered layout /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/letters.html.erb (Duration: 4.4ms | Allocations: 755)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms | Allocations: 1042)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 19:50:11 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taesdssdd2ddter@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taesdssdd2ddter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "taesdssdd2ddter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "testing new"], ["email", "taesdssdd2ddter@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["created_at", "2023-12-01 14:20:12.002818"], ["updated_at", "2023-12-01 14:20:12.002818"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.8ms | Allocations: 218)
  Rendered layout layouts/mailer.html.erb (Duration: 1.5ms | Allocations: 436)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.6ms
Delivered mail 6569eb9cf6b3_1a8b2c4c785dd@itsupport-HP-ProBook-440-G7.mail (26.7ms)
Date: Fri, 01 Dec 2023 19:50:12 +0530
From: from@example.com
To: taesdssdd2ddter@test.com
Message-ID: <6569eb9cf6b3_1a8b2c4c785dd@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi testing new,

Thanks for registering! To confirm your registration click the URL below.

http://localhost:3000/api/registrations/confirm_user.2Q8_m1HFjFtz6VNSCNhUuA
  </body>
</html>

Completed 200 OK in 459ms (Views: 0.6ms | ActiveRecord: 28.8ms | Allocations: 49333)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 19:51:08 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taesdssddasdsad2ddter@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taesdssddasdsad2ddter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "taesdssddasdsad2ddter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "testing new"], ["email", "taesdssddasdsad2ddter@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["created_at", "2023-12-01 14:21:09.284918"], ["updated_at", "2023-12-01 14:21:09.284918"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 1.5ms | Allocations: 629)
  Rendered layout layouts/mailer.html.erb (Duration: 1.8ms | Allocations: 725)
ApplicationMailer#send_confirmation_email: processed outbound mail in 4.4ms
Completed 500 Internal Server Error in 319ms (ActiveRecord: 15.6ms | Allocations: 9514)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check Hi <%= @user.name %>,<br>

Thanks for registering! To confirm your registration click the URL below.<br>

<%= link_to("click here to confirm", confirm_user_api_registrations_url(@user.confirm_token)_ %>
):
1:    Hi <%= @user.name %>,<br>
2:    
3:    Thanks for registering! To confirm your registration click the URL below.<br>
4:    
5:    <%= link_to("click here to confirm", confirm_user_api_registrations_url(@user.confirm_token)_ %>
  
app/views/application_mailer/send_confirmation_email.html.erb:5: syntax error, unexpected local variable or method, expecting ')'
app/mailers/application_mailer.rb:9:in `send_confirmation_email'
app/controllers/api/registrations_controller.rb:6:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 19:51:27 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taesdssddasdadssad2ddter@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taesdssddasdadssad2ddter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "taesdssddasdadssad2ddter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "testing new"], ["email", "taesdssddasdadssad2ddter@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["created_at", "2023-12-01 14:21:27.616716"], ["updated_at", "2023-12-01 14:21:27.616716"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 3.6ms | Allocations: 203)
  Rendered layout layouts/mailer.html.erb (Duration: 4.6ms | Allocations: 420)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.6ms
Delivered mail 6569ebe79c060_1a8b2c387864d@itsupport-HP-ProBook-440-G7.mail (14.7ms)
Date: Fri, 01 Dec 2023 19:51:27 +0530
From: from@example.com
To: taesdssddasdadssad2ddter@test.com
Message-ID: <6569ebe79c060_1a8b2c387864d@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi testing new,<br>

Thanks for registering! To confirm your registration click the URL below.<br>

<a href="http://localhost:3000/api/registrations/confirm_user.EIw4wib0XJ_8vFjhPbgFig">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 345ms (Views: 0.4ms | ActiveRecord: 16.3ms | Allocations: 14306)


Started GET "/api/registrations/confirm_user.EIw4wib0XJ_8vFjhPbgFig" for ::1 at 2023-12-01 19:51:30 +0530
Processing by Api::RegistrationsController#confirm_user as */*
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 32)


Started GET "/api/registrations/confirm_user.EIw4wib0XJ_8vFjhPbgFig" for ::1 at 2023-12-01 19:51:34 +0530
Processing by Api::RegistrationsController#confirm_user as */*
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 17)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 19:51:55 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "taesdssddasdadassad2ddter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "testing new"], ["email", "taesdssddasdadassad2ddter@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["created_at", "2023-12-01 14:21:55.975746"], ["updated_at", "2023-12-01 14:21:55.975746"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 29902.0ms | Allocations: 44351)
  Rendered layout layouts/mailer.html.erb (Duration: 29908.2ms | Allocations: 44920)
ApplicationMailer#send_confirmation_email: processed outbound mail in 29913.9ms
Delivered mail 6569ec21dd3ff_1a8b2c10787a0@itsupport-HP-ProBook-440-G7.mail (30.4ms)
Date: Fri, 01 Dec 2023 19:52:25 +0530
From: from@example.com
To: taesdssddasdadassad2ddter@test.com
Message-ID: <6569ec21dd3ff_1a8b2c10787a0@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi testing new,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user.f4AJrOwNHqWCET6DrD5FrQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 30286ms (Views: 0.8ms | ActiveRecord: 18.2ms | Allocations: 59659)


Started POST "/api/registrations/confirm_user?token=[FILTERED]" for ::1 at 2023-12-01 19:52:44 +0530
  
ActionController::RoutingError (No route matches [POST] "/api/registrations/confirm_user"):
  
Started GET "/api/registrations/confirm_user?token=[FILTERED]" for ::1 at 2023-12-01 19:52:53 +0530
Processing by Api::RegistrationsController#confirm_user as */*
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}, "token"=>"[FILTERED]", "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}}}
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 102)


Started GET "/api/registrations/confirm_user?token=[FILTERED]" for ::1 at 2023-12-01 19:53:07 +0530
Processing by Api::RegistrationsController#confirm_user as */*
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}, "token"=>"[FILTERED]", "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ (byebug):1:in `confirm_user'
Completed 204 No Content in 128159ms (ActiveRecord: 5.6ms | Allocations: 16241)


Started GET "/api/registrations/confirm_user?token=[FILTERED]" for ::1 at 2023-12-01 19:55:33 +0530
Processing by Api::RegistrationsController#confirm_user as */*
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}, "token"=>"[FILTERED]", "registration"=>{"user"=>{"name"=>"testing new", "email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:14:in `confirm_user'
  [1m[36mUser Update (3.2ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2023-12-01 14:25:33.379869"], ["id", 14]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 6.5ms | Allocations: 5624)


  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
Started POST "/api/auth/sign_in?token=[FILTERED]" for ::1 at 2023-12-01 19:59:08 +0530
  
ActionController::RoutingError (No route matches [POST] "/api/auth/sign_in"):
  
Started POST "/api/auth/sign_in?token=[FILTERED]" for ::1 at 2023-12-01 19:59:31 +0530
  
ActionController::RoutingError (uninitialized constant Api::AuthsController):
  
Started POST "/api/auth/sign_in?token=[FILTERED]" for ::1 at 2023-12-01 19:59:56 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant Api::AuthsController):
  
Started POST "/api/sessions/sign_in?token=[FILTERED]" for ::1 at 2023-12-01 20:01:57 +0530
Processing by Api::SessionsController#sign_in as */*
  Parameters: {"user"=>{"email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}, "token"=>"[FILTERED]", "session"=>{"user"=>{"email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms | Allocations: 7457)


  
NameError (undefined local variable or method `sign_up_params' for #<Api::SessionsController:0x0000000000d480>):
  
app/controllers/api/sessions_controller.rb:4:in `sign_in'
Started POST "/api/sessions/sign_in?token=[FILTERED]" for ::1 at 2023-12-01 20:02:15 +0530
Processing by Api::SessionsController#sign_in as */*
  Parameters: {"user"=>{"email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}, "token"=>"[FILTERED]", "session"=>{"user"=>{"email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "taesdssddasdadassad2ddter@test.com"], ["LIMIT", 1]]
  ↳ (byebug):1:in `sign_in'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  ↳ (byebug):1:in `sign_in'
Completed 500 Internal Server Error in 320777ms (ActiveRecord: 25.3ms | Allocations: 79189)


  
NameError (undefined local variable or method `sign_up_params' for #<Api::SessionsController:0x000000000113c8>):
  
app/controllers/api/sessions_controller.rb:5:in `sign_in'
Started POST "/api/sessions/sign_in?token=[FILTERED]" for ::1 at 2023-12-01 20:07:40 +0530
Processing by Api::SessionsController#sign_in as */*
  Parameters: {"user"=>{"email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}, "token"=>"[FILTERED]", "session"=>{"user"=>{"email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "taesdssddasdadassad2ddter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/sessions_controller.rb:4:in `sign_in'
Completed 404 Not Found in 20ms (Views: 0.5ms | ActiveRecord: 4.8ms | Allocations: 5372)


Started POST "/api/sessions/sign_in?token=[FILTERED]" for ::1 at 2023-12-01 20:07:59 +0530
Processing by Api::SessionsController#sign_in as */*
  Parameters: {"user"=>{"email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}, "token"=>"[FILTERED]", "session"=>{"user"=>{"email"=>"taesdssddasdadassad2ddter@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "taesdssddasdadassad2ddter@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/sessions_controller.rb:4:in `sign_in'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ (byebug):1:in `sign_in'
  [1m[36mUser Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "taesdssddasdadassad2ddter@test.com"], ["id", 14], ["LIMIT", 1]]
  ↳ (byebug):1:in `sign_in'
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-01 14:38:27.379494"], ["id", 14]]
  ↳ (byebug):1:in `sign_in'
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ (byebug):1:in `sign_in'
Completed 200 OK in 32362ms (Views: 0.7ms | ActiveRecord: 28.4ms | Allocations: 15477)


Started GET "/letter_opener/" for 127.0.0.1 at 2023-12-01 20:09:54 +0530
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering layout /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/letters.html.erb
  Rendering /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/letters
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/_item.html.erb (Duration: 2.8ms | Allocations: 1838)
  Rendered collection of /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/_item.html.erb [2 times] (Duration: 4.6ms | Allocations: 2869)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/letters (Duration: 11.7ms | Allocations: 6183)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/styles/_icon.html.erb (Duration: 0.7ms | Allocations: 93)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/styles/_bootstrap.html.erb (Duration: 4.3ms | Allocations: 633)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/styles/_letters.html.erb (Duration: 0.5ms | Allocations: 161)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/_styles.html.erb (Duration: 8.2ms | Allocations: 1439)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/js/_jquery.html.erb (Duration: 5.2ms | Allocations: 1918)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/js/_favcount.html.erb (Duration: 0.8ms | Allocations: 316)
  Rendered /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/_javascripts.html.erb (Duration: 8.1ms | Allocations: 2816)
  Rendered layout /home/prabhu/.rvm/gems/ruby-3.2.2@demo/gems/letter_opener_web-2.0.0/app/views/layouts/letter_opener_web/letters.html.erb (Duration: 31.1ms | Allocations: 11341)
Completed 200 OK in 46ms (Views: 35.0ms | ActiveRecord: 0.0ms | Allocations: 15645)


Started GET "/letter_opener/1701440545_9112244_9142787/rich" for 127.0.0.1 at 2023-12-01 20:09:54 +0530
Processing by LetterOpenerWeb::LettersController#show as HTML
  Parameters: {"id"=>"1701440545_9112244_9142787", "style"=>"rich"}
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 8)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 746)


  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.8ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231201120434'[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (34.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "confirm_token" character varying, "confirmed_at" timestamp(6), "authy_type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201120434') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-01 20:20:20 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "authy_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcd@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["authy_type", nil], ["created_at", "2023-12-01 14:50:20.952285"], ["updated_at", "2023-12-01 14:50:20.952285"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (21.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 2.1ms | Allocations: 722)
  Rendered layout layouts/mailer.html.erb (Duration: 2.5ms | Allocations: 852)
ApplicationMailer#send_confirmation_email: processed outbound mail in 13.3ms
Completed 500 Internal Server Error in 590ms (ActiveRecord: 38.3ms | Allocations: 48427)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check Hi <%= @user.name %>,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<%= link_to("click here to confirm", confirm_user_api_registrations_url(token: @user.confirm_token) %>
):
1:    Hi <%= @user.name %>,<br>
2:    
3:    Thanks for registering! To confirm your registration click the URL below.<br>
4:    <%= link_to("click here to confirm", confirm_user_api_registrations_url(token: @user.confirm_token) %>
  
app/views/application_mailer/send_confirmation_email.html.erb:6: syntax error, unexpected `end', expecting ')'
app/mailers/application_mailer.rb:9:in `send_confirmation_email'
app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.8ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231201120434'[0m
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "confirm_token" character varying, "confirmed_at" timestamp(6), "authy_type" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201120434') RETURNING "version"[0m
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-01 22:25:36 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"name"=>"testing new", "email"=>"abcd@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"name"=>"testing new", "email"=>"abcd@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "authy_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "testing new"], ["email", "abcd@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["authy_type", nil], ["created_at", "2023-12-01 16:55:36.597214"], ["updated_at", "2023-12-01 16:55:36.597214"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 1.0ms | Allocations: 424)
  Rendered layout layouts/mailer.html.erb (Duration: 1.8ms | Allocations: 683)
ApplicationMailer#send_confirmation_email: processed outbound mail in 20.6ms
Delivered mail 656a1008a36a9_30402c2441424@itsupport-HP-ProBook-440-G7.mail (24.6ms)
Date: Fri, 01 Dec 2023 22:25:36 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656a1008a36a9_30402c2441424@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi testing new,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=pCcfZ2uGjqLbtxobrCxIuQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 551ms (Views: 0.9ms | ActiveRecord: 23.6ms | Allocations: 55760)


Started GET "/api/registrations/confirm_user?token=[FILTERED]" for ::1 at 2023-12-01 22:25:41 +0530
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:14:in `confirm_user'
  [1m[36mUser Update (10.2ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2023-12-01 16:55:41.580579"], ["id", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 11.0ms | Allocations: 1337)


Started GET "/favicon.ico" for ::1 at 2023-12-01 22:25:42 +0530
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/api/sessions.json" for ::1 at 2023-12-01 22:25:57 +0530
  
SyntaxError (/home/prabhu/personal/demo_authy_app/app/controllers/api/sessions_controller.rb:32: syntax error, unexpected end-of-input, expecting ';' or '\n'):
  
app/controllers/api/sessions_controller.rb:32: syntax error, unexpected end-of-input, expecting ';' or '\n'
Started POST "/api/sessions.json" for ::1 at 2023-12-01 22:28:13 +0530
  
AbstractController::ActionNotFound (The action 'create' could not be found for Api::SessionsController):
  
actionpack (7.1.2) lib/abstract_controller/base.rb:155:in `process'
actionpack (7.1.2) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.2) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.2) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.2) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.2) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.2) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.2) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.0.8) lib/rack/etag.rb:29:in `call'
rack (3.0.8) lib/rack/conditional_get.rb:43:in `call'
rack (3.0.8) lib/rack/head.rb:15:in `call'
activerecord (7.1.2) lib/active_record/migration.rb:654:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.2) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.0.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.0.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.2) lib/rails/engine.rb:529:in `call'
puma (6.4.0) lib/puma/configuration.rb:272:in `call'
puma (6.4.0) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.0) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.0) lib/puma/request.rb:99:in `handle_request'
puma (6.4.0) lib/puma/server.rb:443:in `process_client'
puma (6.4.0) lib/puma/server.rb:241:in `block in run'
puma (6.4.0) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started POST "/api/sessions/sign_in.json" for ::1 at 2023-12-01 22:28:41 +0530
Processing by Api::SessionsController#sign_in as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/sessions_controller.rb:5:in `sign_in'
Completed 404 Not Found in 16ms (Views: 0.2ms | ActiveRecord: 4.7ms | Allocations: 6033)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 22:29:46 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 422 Unprocessable Entity in 373ms (Views: 1.3ms | ActiveRecord: 6.6ms | Allocations: 8158)


  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (2.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-01 22:30:14 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "authy_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "test"], ["email", "abcd@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["authy_type", nil], ["created_at", "2023-12-01 17:00:14.752219"], ["updated_at", "2023-12-01 17:00:14.752219"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.8ms | Allocations: 201)
  Rendered layout layouts/mailer.html.erb (Duration: 1.5ms | Allocations: 416)
ApplicationMailer#send_confirmation_email: processed outbound mail in 4.4ms
Delivered mail 656a111ebc61a_30402c104158b@itsupport-HP-ProBook-440-G7.mail (18.3ms)
Date: Fri, 01 Dec 2023 22:30:14 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656a111ebc61a_30402c104158b@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=RnfowdFyC7TmvPS7R8clKw">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 351ms (Views: 0.3ms | ActiveRecord: 12.2ms | Allocations: 9563)


Started GET "/api/registrations/confirm_user?token=[FILTERED]" for ::1 at 2023-12-01 22:30:17 +0530
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:14:in `confirm_user'
  [1m[36mUser Update (3.9ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2023-12-01 17:00:17.919639"], ["id", 2]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 4.3ms | Allocations: 988)


Started POST "/api/sessions/sign_in" for ::1 at 2023-12-01 22:30:42 +0530
Processing by Api::SessionsController#sign_in as */*
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "session"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}}
[31mUnpermitted parameter: :name. Context: { controller: Api::SessionsController, action: sign_in, request: #<ActionDispatch::Request:0x00007ff0a00cd5d0>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/sessions", "action"=>"sign_in", "session"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}} }[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/sessions_controller.rb:5:in `sign_in'
[31mUnpermitted parameter: :name. Context: { controller: Api::SessionsController, action: sign_in, request: #<ActionDispatch::Request:0x00007ff0a00cd5d0>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/sessions", "action"=>"sign_in", "session"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}} }[0m
[31mUnpermitted parameter: :name. Context: { controller: Api::SessionsController, action: sign_in, request: #<ActionDispatch::Request:0x00007ff0a00cd5d0>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/sessions", "action"=>"sign_in", "session"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}} }[0m
[31mUnpermitted parameter: :name. Context: { controller: Api::SessionsController, action: sign_in, request: #<ActionDispatch::Request:0x00007ff0a00cd5d0>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/sessions", "action"=>"sign_in", "session"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}} }[0m
[31mUnpermitted parameter: :name. Context: { controller: Api::SessionsController, action: sign_in, request: #<ActionDispatch::Request:0x00007ff0a00cd5d0>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/sessions", "action"=>"sign_in", "session"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}} }[0m
[31mUnpermitted parameter: :name. Context: { controller: Api::SessionsController, action: sign_in, request: #<ActionDispatch::Request:0x00007ff0a00cd5d0>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/sessions", "action"=>"sign_in", "session"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}} }[0m
Completed 404 Not Found in 39345ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 51294)


  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (2.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-01 22:32:45 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "authy_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "test"], ["email", "abcd@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["authy_type", nil], ["created_at", "2023-12-01 17:02:45.649043"], ["updated_at", "2023-12-01 17:02:45.649043"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 1.3ms | Allocations: 424)
  Rendered layout layouts/mailer.html.erb (Duration: 2.1ms | Allocations: 683)
ApplicationMailer#send_confirmation_email: processed outbound mail in 15.3ms
Delivered mail 656a11b5ad827_336f2c24909a1@itsupport-HP-ProBook-440-G7.mail (24.4ms)
Date: Fri, 01 Dec 2023 22:32:45 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656a11b5ad827_336f2c24909a1@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=TKX3UWF6C3TkbScZuvg08w">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 458ms (Views: 0.5ms | ActiveRecord: 20.0ms | Allocations: 55821)


Started GET "/api/registrations/confirm_user?token=[FILTERED]" for ::1 at 2023-12-01 22:32:48 +0530
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:14:in `confirm_user'
  [1m[36mUser Update (10.2ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2023-12-01 17:02:48.453927"], ["id", 3]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 19ms (Views: 0.1ms | ActiveRecord: 10.9ms | Allocations: 1337)


Started POST "/api/sessions/sign_in" for ::1 at 2023-12-01 22:33:04 +0530
Processing by Api::SessionsController#sign_in as */*
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "session"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}}
[31mUnpermitted parameter: :name. Context: { controller: Api::SessionsController, action: sign_in, request: #<ActionDispatch::Request:0x00007ffa2cdc17d8>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/sessions", "action"=>"sign_in", "session"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}} }[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/sessions_controller.rb:5:in `sign_in'
[31mUnpermitted parameter: :name. Context: { controller: Api::SessionsController, action: sign_in, request: #<ActionDispatch::Request:0x00007ffa2cdc17d8>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/sessions", "action"=>"sign_in", "session"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}} }[0m
Completed 200 OK in 393ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1283)


Started POST "/api/users/sign_in" for ::1 at 2023-12-01 22:35:50 +0530
Processing by Api::UsersController#sign_in as */*
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}
[31mUnpermitted parameter: :name. Context: { controller: Api::UsersController, action: sign_in, request: #<ActionDispatch::Request:0x00007ffa2ccb2c70>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/users", "action"=>"sign_in"} }[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:5:in `sign_in'
[31mUnpermitted parameter: :name. Context: { controller: Api::UsersController, action: sign_in, request: #<ActionDispatch::Request:0x00007ffa2ccb2c70>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/users", "action"=>"sign_in"} }[0m
Completed 500 Internal Server Error in 333ms (ActiveRecord: 4.6ms | Allocations: 4945)


  
NameError (undefined local variable or method `token' for #<Api::UsersController:0x0000000000dd18>):
  
app/controllers/api/users_controller.rb:9:in `sign_in'
Started POST "/api/users/sign_in" for ::1 at 2023-12-01 22:36:01 +0530
Processing by Api::UsersController#sign_in as */*
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}
[31mUnpermitted parameter: :name. Context: { controller: Api::UsersController, action: sign_in, request: #<ActionDispatch::Request:0x00007ffa2cb643a0>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/users", "action"=>"sign_in"} }[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:5:in `sign_in'
[31mUnpermitted parameter: :name. Context: { controller: Api::UsersController, action: sign_in, request: #<ActionDispatch::Request:0x00007ffa2cb643a0>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/users", "action"=>"sign_in"} }[0m
Completed 200 OK in 312ms (Views: 0.2ms | ActiveRecord: 5.0ms | Allocations: 4929)


  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (2.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-01 22:44:10 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1031)


  
NoMethodError (undefined method `confirm_password' for User:Class):
  
app/models/user.rb:11:in `<class:User>'
app/models/user.rb:1:in `<main>'
app/controllers/api/registrations_controller.rb:3:in `create'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-01 22:45:11 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "authy_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "test"], ["email", "abcd@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["authy_type", nil], ["created_at", "2023-12-01 17:15:11.777761"], ["updated_at", "2023-12-01 17:15:11.777761"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (18.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 1.3ms | Allocations: 202)
  Rendered layout layouts/mailer.html.erb (Duration: 2.7ms | Allocations: 417)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.5ms
Delivered mail 656a149fc5d64_336f2c109103b@itsupport-HP-ProBook-440-G7.mail (12.7ms)
Date: Fri, 01 Dec 2023 22:45:11 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656a149fc5d64_336f2c109103b@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=LrzL0_XJCc6KmCUaMJ4asg">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 352ms (Views: 0.4ms | ActiveRecord: 29.7ms | Allocations: 17439)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-01 22:45:36 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "authy_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "test"], ["email", "abcd@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["authy_type", nil], ["created_at", "2023-12-01 17:17:13.014120"], ["updated_at", "2023-12-01 17:17:13.014120"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 1.1ms | Allocations: 189)
  Rendered layout layouts/mailer.html.erb (Duration: 2.3ms | Allocations: 305)
ApplicationMailer#send_confirmation_email: processed outbound mail in 8.7ms
Delivered mail 656a1519a6c7_336f2bfc9115b@itsupport-HP-ProBook-440-G7.mail (27.2ms)
Date: Fri, 01 Dec 2023 22:47:13 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656a1519a6c7_336f2bfc9115b@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=RhZbkO-lerJF9Id9q4f14g">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 96904ms (Views: 0.8ms | ActiveRecord: 7.1ms | Allocations: 56086)


  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (2.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-01 22:47:26 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "authy_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "test"], ["email", "abcd@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["authy_type", nil], ["created_at", "2023-12-01 17:17:26.791909"], ["updated_at", "2023-12-01 17:17:26.791909"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.9ms | Allocations: 253)
  Rendered layout layouts/mailer.html.erb (Duration: 1.9ms | Allocations: 468)
ApplicationMailer#send_confirmation_email: processed outbound mail in 5.1ms
Delivered mail 656a1526c6b2a_336f2c4c912f5@itsupport-HP-ProBook-440-G7.mail (14.1ms)
Date: Fri, 01 Dec 2023 22:47:26 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656a1526c6b2a_336f2c4c912f5@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=MMQuZQs9qkhYxHfWeDd8gQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 358ms (Views: 0.3ms | ActiveRecord: 20.5ms | Allocations: 16213)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (0.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 6]]
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-01 22:47:51 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "authy_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "test"], ["email", "abcd@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["authy_type", nil], ["created_at", "2023-12-01 17:18:04.660787"], ["updated_at", "2023-12-01 17:18:04.660787"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 1.0ms | Allocations: 201)
  Rendered layout layouts/mailer.html.erb (Duration: 1.9ms | Allocations: 416)
ApplicationMailer#send_confirmation_email: processed outbound mail in 6.3ms
Delivered mail 656a154cab9d9_336f2c38913e6@itsupport-HP-ProBook-440-G7.mail (14.8ms)
Date: Fri, 01 Dec 2023 22:48:04 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656a154cab9d9_336f2c38913e6@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=r0WSZyrxsri_pt77veAy0Q">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 13411ms (Views: 0.3ms | ActiveRecord: 11.5ms | Allocations: 19939)


  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (2.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 7]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-01 22:48:59 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 500 Internal Server Error in 37912ms (ActiveRecord: 6.7ms | Allocations: 13721)


  
NoMethodError (undefined method `[]=' for #<ActiveModel::Errors [#<ActiveModel::Error attribute=password, type=password and confirm password doesn't match, options={}>]>):
  
app/models/user.rb:19:in `validate_confirm_password'
app/controllers/api/registrations_controller.rb:5:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-01 22:49:51 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 422 Unprocessable Entity in 359ms (Views: 0.2ms | ActiveRecord: 6.0ms | Allocations: 7503)


Started POST "/api/registrations.json" for ::1 at 2023-12-01 22:50:01 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "authy_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "test"], ["email", "abcd@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["authy_type", nil], ["created_at", "2023-12-01 17:20:01.815156"], ["updated_at", "2023-12-01 17:20:01.815156"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.7ms | Allocations: 201)
  Rendered layout layouts/mailer.html.erb (Duration: 5.0ms | Allocations: 416)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.5ms
Delivered mail 656a15c1cc759_336f2c38914d2@itsupport-HP-ProBook-440-G7.mail (16.5ms)
Date: Fri, 01 Dec 2023 22:50:01 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656a15c1cc759_336f2c38914d2@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=7idfEMT00a0zYeaXL7T62Q">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 331ms (Views: 0.3ms | ActiveRecord: 12.0ms | Allocations: 9550)


Started GET "/api/registrations/confirm_user?token=[FILTERED]" for ::1 at 2023-12-01 22:50:04 +0530
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:14:in `confirm_user'
  [1m[36mUser Update (4.1ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2023-12-01 17:20:04.625096"], ["id", 8]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 4.9ms | Allocations: 1221)


Started POST "/api/users/3/enable_twu_factor_auth" for ::1 at 2023-12-02 19:40:39 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/api/users/3/enable_twu_factor_auth"):
  
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddOtpSecretKeyToUsers (20231202141447)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD "otp_secret_key" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231202141447') RETURNING "version"[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Destroy (2.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 8]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-02 19:51:21 +0530
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "authy_type", "created_at", "updated_at", "otp_secret_key") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "test"], ["email", "abcd@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["authy_type", nil], ["created_at", "2023-12-02 14:21:21.823793"], ["updated_at", "2023-12-02 14:21:21.823793"], ["otp_secret_key", "[FILTERED]"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 1.0ms | Allocations: 422)
  Rendered layout layouts/mailer.html.erb (Duration: 1.7ms | Allocations: 681)
ApplicationMailer#send_confirmation_email: processed outbound mail in 15.3ms
Delivered mail 656b3d61d99a4_40542c4c42813@itsupport-HP-ProBook-440-G7.mail (20.9ms)
Date: Sat, 02 Dec 2023 19:51:21 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656b3d61d99a4_40542c4c42813@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=rffrI4XwL8KqB0woFCK0Cw">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 509ms (Views: 0.9ms | ActiveRecord: 18.8ms | Allocations: 57788)


  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddOtpSecretKeyToUsers (20231202141447)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "otp_secret_key"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.6ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231202141447'[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231201120434'[0m
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "confirm_token" character varying, "confirmed_at" timestamp(6), "otp_secret_key" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201120434') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-02 19:56:38 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 49ms (ActiveRecord: 10.6ms | Allocations: 12947)


  
RuntimeError (Undeclared attribute type for enum 'authy_type'. Enums must be backed by a database column or declared with an explicit type via `attribute`.):
  
app/controllers/api/registrations_controller.rb:3:in `create'
Started POST "/api/registrations.json" for ::1 at 2023-12-02 19:57:09 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "test"], ["email", "abcd@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["created_at", "2023-12-02 14:27:09.929379"], ["updated_at", "2023-12-02 14:27:09.929379"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (16.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.9ms | Allocations: 421)
  Rendered layout layouts/mailer.html.erb (Duration: 2.1ms | Allocations: 679)
ApplicationMailer#send_confirmation_email: processed outbound mail in 16.3ms
Delivered mail 656b3ebe2297_42ea2c7469b8@itsupport-HP-ProBook-440-G7.mail (20.8ms)
Date: Sat, 02 Dec 2023 19:57:10 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656b3ebe2297_42ea2c7469b8@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=hgvCPSLp36ZEycAJjziYGg">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 490ms (Views: 0.7ms | ActiveRecord: 25.4ms | Allocations: 46058)


Started POST "/api/users/3/enable_twu_factor_auth" for ::1 at 2023-12-02 19:57:18 +0530
  
ActionController::RoutingError (No route matches [POST] "/api/users/3/enable_twu_factor_auth"):
  
Started POST "/api/users/sign_in" for ::1 at 2023-12-02 19:57:29 +0530
Processing by Api::UsersController#sign_in as */*
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 137)


  
AbstractController::ActionNotFound (The enable_twu_factor_auth action could not be found for the :verify_token
callback on Api::UsersController, but it is listed in the controller's
:only option.

Raising for missing callback actions is a new default in Rails 7.1, if you'd
like to turn this off you can delete the option from the environment configurations
or set `config.action_controller.raise_on_missing_callback_actions` to `false`.
):
  
actionpack (7.1.2) lib/abstract_controller/callbacks.rb:62:in `match?'
activesupport (7.1.2) lib/active_support/callbacks.rb:426:in `block in make_lambda'
activesupport (7.1.2) lib/active_support/callbacks.rb:182:in `block (2 levels) in halting_and_conditional'
activesupport (7.1.2) lib/active_support/callbacks.rb:182:in `all?'
activesupport (7.1.2) lib/active_support/callbacks.rb:182:in `block in halting_and_conditional'
activesupport (7.1.2) lib/active_support/callbacks.rb:598:in `block in invoke_before'
activesupport (7.1.2) lib/active_support/callbacks.rb:598:in `each'
activesupport (7.1.2) lib/active_support/callbacks.rb:598:in `invoke_before'
activesupport (7.1.2) lib/active_support/callbacks.rb:109:in `run_callbacks'
actionpack (7.1.2) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.2) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.2) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.2) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.2) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.2) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.2) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.2) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.2) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.2) lib/abstract_controller/base.rb:160:in `process'
actionpack (7.1.2) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.2) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.2) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.2) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.2) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.2) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.2) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.0.8) lib/rack/etag.rb:29:in `call'
rack (3.0.8) lib/rack/conditional_get.rb:43:in `call'
rack (3.0.8) lib/rack/head.rb:15:in `call'
activerecord (7.1.2) lib/active_record/migration.rb:654:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.2) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.2) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.0.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.0.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.2) lib/rails/engine.rb:529:in `call'
puma (6.4.0) lib/puma/configuration.rb:272:in `call'
puma (6.4.0) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.0) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.0) lib/puma/request.rb:99:in `handle_request'
puma (6.4.0) lib/puma/server.rb:443:in `process_client'
puma (6.4.0) lib/puma/server.rb:241:in `block in run'
puma (6.4.0) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started POST "/api/users/sign_in" for ::1 at 2023-12-02 19:57:49 +0530
Processing by Api::UsersController#sign_in as */*
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}
[31mUnpermitted parameter: :name. Context: { controller: Api::UsersController, action: sign_in, request: #<ActionDispatch::Request:0x00007fd49fb5a6f0>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/users", "action"=>"sign_in"} }[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (confirmed_at is not null) AND "users"."email" = $1 LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:4:in `sign_in'
Completed 404 Not Found in 8ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 1675)


Started GET "/api/registrations/confirm_user?token=[FILTERED]" for ::1 at 2023-12-02 20:00:15 +0530
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:14:in `confirm_user'
  [1m[36mUser Update (10.2ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2023-12-02 14:30:15.814844"], ["id", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 15.5ms | Allocations: 6665)


Started POST "/api/users/sign_in" for ::1 at 2023-12-02 20:00:19 +0530
Processing by Api::UsersController#sign_in as */*
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}
[31mUnpermitted parameter: :name. Context: { controller: Api::UsersController, action: sign_in, request: #<ActionDispatch::Request:0x00007fd4cc86f6e8>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/users", "action"=>"sign_in"} }[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (confirmed_at is not null) AND "users"."email" = $1 LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:4:in `sign_in'
[31mUnpermitted parameter: :name. Context: { controller: Api::UsersController, action: sign_in, request: #<ActionDispatch::Request:0x00007fd4cc86f6e8>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/users", "action"=>"sign_in"} }[0m
Completed 200 OK in 296ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 1239)


Started POST "/api/users/sign_in" for ::1 at 2023-12-02 20:00:35 +0530
Processing by Api::UsersController#sign_in as */*
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}
[31mUnpermitted parameter: :name. Context: { controller: Api::UsersController, action: sign_in, request: #<ActionDispatch::Request:0x00007fd49face600>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/users", "action"=>"sign_in"} }[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (confirmed_at is not null) AND "users"."email" = $1 LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:4:in `sign_in'
[31mUnpermitted parameter: :name. Context: { controller: Api::UsersController, action: sign_in, request: #<ActionDispatch::Request:0x00007fd49face600>, params: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "controller"=>"api/users", "action"=>"sign_in"} }[0m
Completed 200 OK in 343ms (Views: 0.2ms | ActiveRecord: 5.6ms | Allocations: 4890)


Started POST "/api/users/1/send_one_time_password" for ::1 at 2023-12-02 20:01:03 +0530
  
ActionController::RoutingError (No route matches [POST] "/api/users/1/send_one_time_password"):
  
Started PUT "/api/users/1/send_one_time_password" for ::1 at 2023-12-02 20:01:27 +0530
  
ActionController::RoutingError (No route matches [PUT] "/api/users/1/send_one_time_password"):
  
Started PUT "/api/users/1/send_token" for ::1 at 2023-12-02 20:02:02 +0530
  
ActionController::RoutingError (No route matches [PUT] "/api/users/1/send_token"):
  
Started PUT "/api/users/1/send_token" for ::1 at 2023-12-02 20:02:19 +0530
  
ActionController::RoutingError (No route matches [PUT] "/api/users/1/send_token"):
  
Started PUT "/api/users/1/send_token" for ::1 at 2023-12-02 20:02:38 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [PUT] "/api/users/1/send_token"):
  
Started PUT "/api/users/1/send_token" for ::1 at 2023-12-02 20:02:48 +0530
  
ActionController::RoutingError (No route matches [PUT] "/api/users/1/send_token"):
  
Started PUT "/api/users/1/send_token" for ::1 at 2023-12-02 20:03:18 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [PUT] "/api/users/1/send_token"):
  
Started PUT "/api/users/1/send_token.json" for ::1 at 2023-12-02 20:03:31 +0530
  
ActionController::RoutingError (No route matches [PUT] "/api/users/1/send_token.json"):
  
Started PUT "/api/users/1/send_token" for ::1 at 2023-12-02 20:03:59 +0530
  
ActionController::RoutingError (No route matches [PUT] "/api/users/1/send_token"):
  
Started PUT "/api/users/1/send_token" for ::1 at 2023-12-02 20:04:47 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [PUT] "/api/users/1/send_token"):
  
Started GET "/api/users/1/send_token" for ::1 at 2023-12-02 20:05:41 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api/users/1/send_token"):
  
Started GET "/api/users/1/send_token" for ::1 at 2023-12-02 20:05:56 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api/users/1/send_token"):
  
Started GET "/api/users/send_token" for ::1 at 2023-12-02 20:06:00 +0530
Processing by Api::UsersController#send_token as */*
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}}
Completed 204 No Content in 5884ms (ActiveRecord: 0.0ms | Allocations: 48089)


Started GET "/api/users/1/send_token" for ::1 at 2023-12-02 20:08:27 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api/users/1/send_token"):
  
Started GET "/api/users/1/send_token" for ::1 at 2023-12-02 20:09:11 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::UsersController#send_token as */*
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "id"=>"1"}
Completed 204 No Content in 8395ms (ActiveRecord: 0.0ms | Allocations: 48551)


Started GET "/api/users/1/send_token" for ::1 at 2023-12-02 20:11:51 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::UsersController#send_token as */*
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:26:in `set_user'
Completed 204 No Content in 259283ms (ActiveRecord: 8.6ms | Allocations: 69774)


Started GET "/api/users/1/send_token" for ::1 at 2023-12-02 20:17:11 +0530
Processing by Api::UsersController#send_token as */*
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:28:in `set_user'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 238)
  Rendered layout layouts/mailer.html.erb (Duration: 0.9ms | Allocations: 500)
ApplicationMailer#send_otp: processed outbound mail in 13.4ms
Delivered mail 656b436f8188d_4b2d2c74833f4@itsupport-HP-ProBook-440-G7.mail (21.0ms)
Date: Sat, 02 Dec 2023 20:17:11 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656b436f8188d_4b2d2c74833f4@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

<p>OTP to login to the websits is 717511. Please do not share this with anyone.</p>
  </body>
</html>

Completed 200 OK in 86ms (Views: 0.6ms | ActiveRecord: 3.2ms | Allocations: 32288)


Started GET "/api/users/1/send_token" for ::1 at 2023-12-02 20:17:24 +0530
Processing by Api::UsersController#send_token as */*
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test"}, "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:28:in `set_user'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.8ms | Allocations: 133)
  Rendered layout layouts/mailer.html.erb (Duration: 1.2ms | Allocations: 348)
ApplicationMailer#send_otp: processed outbound mail in 3.4ms
Delivered mail 656b437c2dcef_4b2d2c10834ec@itsupport-HP-ProBook-440-G7.mail (9.0ms)
Date: Sat, 02 Dec 2023 20:17:24 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656b437c2dcef_4b2d2c10834ec@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

<p>OTP to login to the websits is 717511. Please do not share this with anyone.</p>
  </body>
</html>

Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 11958)


Started PUT "/api/users/1/verify_token" for ::1 at 2023-12-02 20:18:38 +0530
Processing by Api::UsersController#verify_token as */*
  Parameters: {"user"=>{"otp"=>"[FILTERED]"}, "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:32:in `set_user'
Completed 204 No Content in 9ms (ActiveRecord: 2.7ms | Allocations: 4539)


Started PUT "/api/users/1/verify_token" for ::1 at 2023-12-02 20:18:48 +0530
Processing by Api::UsersController#verify_token as */*
  Parameters: {"user"=>{"otp"=>"[FILTERED]"}, "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:32:in `set_user'
Completed 204 No Content in 101089ms (ActiveRecord: 2.9ms | Allocations: 9869)


Started GET "/api/users/1/send_token" for ::1 at 2023-12-02 20:21:02 +0530
Processing by Api::UsersController#send_token as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:37:in `set_user'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 134)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 349)
ApplicationMailer#send_otp: processed outbound mail in 3.1ms
Delivered mail 656b445710ce2_4b2d2c4c835b9@itsupport-HP-ProBook-440-G7.mail (8.3ms)
Date: Sat, 02 Dec 2023 20:21:03 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656b445710ce2_4b2d2c4c835b9@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

<p>OTP to login to the websits is 825384. Please do not share this with anyone.</p>
  </body>
</html>

Completed 200 OK in 26ms (Views: 0.3ms | ActiveRecord: 3.2ms | Allocations: 13388)


Started PUT "/api/users/1/verify_token" for ::1 at 2023-12-02 20:21:14 +0530
Processing by Api::UsersController#verify_token as */*
  Parameters: {"otp"=>"[FILTERED]", "id"=>"1", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:37:in `set_user'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 769)


  
NameError (undefined local variable or method `user' for #<Api::UsersController:0x0000000001e690>):
  
app/controllers/api/users_controller.rb:27:in `verify_token'
Started PUT "/api/users/1/verify_token" for ::1 at 2023-12-02 20:21:31 +0530
Processing by Api::UsersController#verify_token as */*
  Parameters: {"otp"=>"[FILTERED]", "id"=>"1", "user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:37:in `set_user'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.9ms | Allocations: 4173)


Started PUT "/api/users/1/verify_token" for ::1 at 2023-12-02 20:23:45 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::UsersController#verify_token as */*
  Parameters: {"otp"=>"[FILTERED]", "id"=>"1", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:37:in `set_user'
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 6.9ms | Allocations: 17709)


Started POST "/api/registrations.json" for ::1 at 2023-12-02 20:23:52 +0530
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
Completed 422 Unprocessable Entity in 237ms (Views: 4.1ms | ActiveRecord: 4.7ms | Allocations: 3889)


Started GET "/api/users/1/send_token" for ::1 at 2023-12-02 20:23:58 +0530
Processing by Api::UsersController#send_token as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:37:in `set_user'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 235)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 494)
ApplicationMailer#send_otp: processed outbound mail in 9.1ms
Delivered mail 656b4506c573f_51312c74986f3@itsupport-HP-ProBook-440-G7.mail (18.1ms)
Date: Sat, 02 Dec 2023 20:23:58 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656b4506c573f_51312c74986f3@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

<p>OTP to login to the websits is 371725. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 61ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 26144)


Started PUT "/api/users/1/verify_token" for ::1 at 2023-12-02 20:24:08 +0530
Processing by Api::UsersController#verify_token as */*
  Parameters: {"otp"=>"[FILTERED]", "id"=>"1", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:37:in `set_user'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 654)


Started GET "/api/users/1/send_token" for ::1 at 2023-12-02 20:24:38 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::UsersController#send_token as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:37:in `set_user'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 239)
  Rendered layout layouts/mailer.html.erb (Duration: 1.1ms | Allocations: 499)
ApplicationMailer#send_otp: processed outbound mail in 9.8ms
Delivered mail 656b452e53c6e_51fc2c4c662d6@itsupport-HP-ProBook-440-G7.mail (13.2ms)
Date: Sat, 02 Dec 2023 20:24:38 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656b452e53c6e_51fc2c4c662d6@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

<p>OTP to login to the websits is 678975. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 100ms (Views: 0.7ms | ActiveRecord: 7.9ms | Allocations: 53288)


Started PUT "/api/users/1/verify_token" for ::1 at 2023-12-02 20:24:57 +0530
Processing by Api::UsersController#verify_token as */*
  Parameters: {"otp"=>"[FILTERED]", "id"=>"1", "user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:37:in `set_user'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 962)


Started POST "/api/users/sign_in" for ::1 at 2023-12-02 20:28:04 +0530
  
ActionController::RoutingError (No route matches [POST] "/api/users/sign_in"):
  
Started POST "/api/users/sign_in" for ::1 at 2023-12-02 20:28:30 +0530
  
ActionController::RoutingError (No route matches [POST] "/api/users/sign_in"):
  
Started POST "/api/users/sign_in" for ::1 at 2023-12-02 20:28:40 +0530
  
ActionController::RoutingError (No route matches [POST] "/api/users/sign_in"):
  
Started POST "/api/users/sign_in" for ::1 at 2023-12-02 20:28:53 +0530
  
ActionController::RoutingError (No route matches [POST] "/api/users/sign_in"):
  
Started POST "/api/users/sign_in" for ::1 at 2023-12-02 20:30:24 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::UsersController#sign_in as */*
Completed 400 Bad Request in 15ms (ActiveRecord: 0.0ms | Allocations: 9636)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/users_controller.rb:38:in `sign_in_params'
app/controllers/api/users_controller.rb:5:in `sign_in'
Started POST "/api/users/sign_in" for ::1 at 2023-12-02 20:30:43 +0530
Processing by Api::UsersController#sign_in as */*
Completed 400 Bad Request in 6161ms (ActiveRecord: 0.0ms | Allocations: 48724)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/users_controller.rb:39:in `sign_in_params'
app/controllers/api/users_controller.rb:5:in `sign_in'
Started POST "/api/users/sign_in" for ::1 at 2023-12-02 20:31:04 +0530
Processing by Api::UsersController#sign_in as */*
Completed 400 Bad Request in 6282ms (ActiveRecord: 0.0ms | Allocations: 5256)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/users_controller.rb:39:in `sign_in_params'
app/controllers/api/users_controller.rb:5:in `sign_in'
Started POST "/api/users/sign_in.json" for ::1 at 2023-12-02 20:31:16 +0530
Processing by Api::UsersController#sign_in as JSON
Completed 400 Bad Request in 5094ms (ActiveRecord: 0.0ms | Allocations: 5316)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/users_controller.rb:39:in `sign_in_params'
app/controllers/api/users_controller.rb:5:in `sign_in'
Started POST "/api/users/sign_in.json" for ::1 at 2023-12-02 20:31:35 +0530
Processing by Api::UsersController#sign_in as JSON
Completed 400 Bad Request in 3283ms (ActiveRecord: 0.0ms | Allocations: 5466)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/users_controller.rb:39:in `sign_in_params'
app/controllers/api/users_controller.rb:5:in `sign_in'
Started POST "/api/users/sign_in.json" for ::1 at 2023-12-02 20:31:52 +0530
Processing by Api::UsersController#sign_in as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (confirmed_at is not null) AND "users"."email" = $1 LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:5:in `sign_in'
Completed 500 Internal Server Error in 3542ms (ActiveRecord: 34.8ms | Allocations: 29807)


  
NoMethodError (undefined method `send_token' for nil:NilClass):
  
app/controllers/api/users_controller.rb:8:in `sign_in'
Started GET "/api/v1/users/change_password" for ::1 at 2023-12-02 21:52:37 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api/v1/users/change_password"):
  
Started PUT "/api/v1/users/change_password" for ::1 at 2023-12-02 21:52:51 +0530
  
ActionController::RoutingError (No route matches [PUT] "/api/v1/users/change_password"):
  
Started PUT "/api/users/change_password" for ::1 at 2023-12-02 21:53:06 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}}
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1caac768>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2618)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/api/users_controller.rb:31:in `change_password'
Started PUT "/api/users/change_password" for ::1 at 2023-12-02 21:53:22 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}}
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1c9df510>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
Completed 500 Internal Server Error in 341429ms (ActiveRecord: 0.0ms | Allocations: 58586)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/api/users_controller.rb:31:in `change_password'
Started PUT "/api/users/change_password" for ::1 at 2023-12-02 21:59:07 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 385)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/application_controller.rb:17:in `current_user'
app/controllers/api/users_controller.rb:31:in `change_password'
Started PUT "/api/users/change_password" for ::1 at 2023-12-02 21:59:21 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}}
Completed 500 Internal Server Error in 16198ms (ActiveRecord: 0.0ms | Allocations: 38338)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/application_controller.rb:17:in `current_user'
app/controllers/api/users_controller.rb:31:in `change_password'
Started PUT "/api/users/change_password" for ::1 at 2023-12-02 21:59:49 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fecebc6f658>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
Completed 500 Internal Server Error in 16802ms (ActiveRecord: 21.9ms | Allocations: 26715)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/api/users_controller.rb:31:in `change_password'
Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:00:39 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1cab0980>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
Completed 500 Internal Server Error in 6725ms (ActiveRecord: 3.0ms | Allocations: 19044)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/api/users_controller.rb:31:in `change_password'
Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:00:49 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ (byebug):1:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1cb035e0>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
Completed 500 Internal Server Error in 12605ms (ActiveRecord: 0.4ms | Allocations: 17497)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/api/users_controller.rb:31:in `change_password'
Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:01:26 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1c9ee4c0>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:31:in `change_password'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:31:in `change_password'
  [1m[36mUser Update (1.8ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-02 16:31:28.078071"], ["id", 1]]
  ↳ app/controllers/api/users_controller.rb:31:in `change_password'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/users_controller.rb:31:in `change_password'
Completed 204 No Content in 2022ms (ActiveRecord: 20.2ms | Allocations: 15924)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:01:32 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1cac9a70>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:31:in `change_password'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:31:in `change_password'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-02 16:32:31.887036"], ["id", 1]]
  ↳ app/controllers/api/users_controller.rb:31:in `change_password'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/users_controller.rb:31:in `change_password'
Completed 204 No Content in 58969ms (ActiveRecord: 6.4ms | Allocations: 10531)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:11:48 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1ca7a510>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1ca7a510>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1ca7a510>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:35:in `change_password'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:35:in `change_password'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-02 16:41:53.789277"], ["id", 1]]
  ↳ app/controllers/api/users_controller.rb:35:in `change_password'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/users_controller.rb:35:in `change_password'
Completed 200 OK in 5427ms (Views: 0.2ms | ActiveRecord: 14.6ms | Allocations: 33276)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:12:15 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fecebc26c28>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fecebc26c28>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fecebc26c28>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:35:in `change_password'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:35:in `change_password'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-02 16:42:15.894184"], ["id", 1]]
  ↳ app/controllers/api/users_controller.rb:35:in `change_password'
  [1m[36mTRANSACTION (17.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/users_controller.rb:35:in `change_password'
Completed 200 OK in 489ms (Views: 0.2ms | ActiveRecord: 24.2ms | Allocations: 8584)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:13:09 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1cacd210>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1cacd210>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1cacd210>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-02 16:43:10.003589"], ["id", 1]]
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
Completed 200 OK in 486ms (Views: 0.2ms | ActiveRecord: 9.6ms | Allocations: 16210)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:13:13 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1d5b3990>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1d5b3990>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1d5b3990>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mUser Exists? (6.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-02 16:43:59.357492"], ["id", 1]]
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mTRANSACTION (15.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
Completed 200 OK in 45805ms (Views: 0.1ms | ActiveRecord: 24.2ms | Allocations: 13177)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:14:02 +0530
  
SyntaxError (/home/prabhu/personal/demo_authy_app/app/controllers/api/users_controller.rb:33: syntax error, unexpected local variable or method, expecting ')'
        render json: {success: false, msg: ...
        ^~~~~~
):
  
app/controllers/api/users_controller.rb:33: syntax error, unexpected local variable or method, expecting ')'
Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:14:37 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007feceba9d0c8>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
Completed 200 OK in 240ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 4949)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:15:00 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1fee5e80>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1fee5e80>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1fee5e80>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
[31mUnpermitted parameter: :current_pasword. Context: { controller: Api::UsersController, action: change_password, request: #<ActionDispatch::Request:0x00007fed1fee5e80>, params: {"user"=>{"password"=>"[FILTERED]", "current_pasword"=>"Test@123"}, "controller"=>"api/users", "action"=>"change_password"} }[0m
Completed 200 OK in 16220ms (Views: 0.2ms | ActiveRecord: 11.0ms | Allocations: 16371)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:15:41 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 6129ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 10865)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:16:30 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
Completed 500 Internal Server Error in 2736ms (ActiveRecord: 2.8ms | Allocations: 12219)


  
NameError (undefined local variable or method `user' for #<Api::UsersController:0x0000000003b6f0>):
  
app/controllers/api/users_controller.rb:39:in `change_password'
Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:16:49 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 422 Unprocessable Entity in 6070ms (Views: 0.1ms | ActiveRecord: 10.6ms | Allocations: 16990)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:17:23 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:35:in `change_password'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:35:in `change_password'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:35:in `change_password'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
Completed 422 Unprocessable Entity in 5751ms (Views: 0.5ms | ActiveRecord: 7.6ms | Allocations: 16988)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:17:42 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:35:in `change_password'
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:35:in `change_password'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:35:in `change_password'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
Completed 422 Unprocessable Entity in 33577ms (Views: 0.2ms | ActiveRecord: 7.2ms | Allocations: 27654)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:18:46 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
Completed 422 Unprocessable Entity in 2012ms (Views: 1.0ms | ActiveRecord: 5.6ms | Allocations: 25977)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:19:38 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-02 16:49:38.850863"], ["id", 1]]
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mTRANSACTION (16.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
Completed 200 OK in 754ms (Views: 0.2ms | ActiveRecord: 22.9ms | Allocations: 7602)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:19:53 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
Completed 200 OK in 234ms (Views: 0.2ms | ActiveRecord: 3.4ms | Allocations: 4836)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:20:05 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
Completed 200 OK in 226ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 633)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:20:11 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 633)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:20:18 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 633)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:20:40 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ (byebug):1:in `change_password'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ (byebug):1:in `change_password'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-02 16:50:54.078563"], ["id", 1]]
  ↳ (byebug):1:in `change_password'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ (byebug):1:in `change_password'
Completed 200 OK in 15595ms (Views: 0.2ms | ActiveRecord: 24.8ms | Allocations: 79326)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:21:07 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
Completed 200 OK in 1978ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 10786)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:21:21 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mBEGIN[0m
  ↳ (byebug):1:in `change_password'
  [1m[36mUser Exists? (7.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ (byebug):1:in `change_password'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-02 16:51:42.898180"], ["id", 1]]
  ↳ (byebug):1:in `change_password'
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ (byebug):1:in `change_password'
Completed 200 OK in 22624ms (Views: 0.1ms | ActiveRecord: 22.3ms | Allocations: 22835)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:21:50 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
Completed 200 OK in 4601ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 11119)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:22:00 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
Completed 200 OK in 944ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 11121)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:22:07 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:37:in `change_password'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:37:in `change_password'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:37:in `change_password'
Completed 422 Unprocessable Entity in 3095ms (Views: 0.7ms | ActiveRecord: 2.5ms | Allocations: 23394)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:23:09 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:37:in `change_password'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:37:in `change_password'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:37:in `change_password'
Completed 500 Internal Server Error in 2185ms (ActiveRecord: 5.0ms | Allocations: 18082)


  
NoMethodError (undefined method `validate_current_password' for #<User password_digest: [FILTERED], id: 1, name: "test", email: "abcd@test.com", confirm_token: [FILTERED], confirmed_at: "2023-12-02 14:30:15.814844000 +0000", otp_secret_key: [FILTERED], created_at: "2023-12-02 14:27:09.929379000 +0000", updated_at: "2023-12-02 16:51:42.898180000 +0000">):
  
app/controllers/api/users_controller.rb:37:in `change_password'
Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:23:17 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:37:in `change_password'
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:37:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:37:in `change_password'
Completed 422 Unprocessable Entity in 3479ms (Views: 0.3ms | ActiveRecord: 6.1ms | Allocations: 27902)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:23:30 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:37:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:37:in `change_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-02 16:53:31.715701"], ["id", 1]]
  ↳ app/controllers/api/users_controller.rb:37:in `change_password'
  [1m[36mTRANSACTION (10.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/users_controller.rb:37:in `change_password'
Completed 200 OK in 1513ms (Views: 0.2ms | ActiveRecord: 11.9ms | Allocations: 13571)


Started POST "/api/users/sign_in.json" for ::1 at 2023-12-02 22:23:39 +0530
Processing by Api::UsersController#sign_in as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:5:in `sign_in'
Completed 404 Not Found in 232ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 700)


Started POST "/api/users/sign_in.json" for ::1 at 2023-12-02 22:23:47 +0530
Processing by Api::UsersController#sign_in as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:5:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.6ms | Allocations: 238)
  Rendered layout layouts/mailer.html.erb (Duration: 1.4ms | Allocations: 499)
ApplicationMailer#send_otp: processed outbound mail in 16.9ms
Delivered mail 656b611ba8b4d_728b2c74-45c@itsupport-HP-ProBook-440-G7.mail (26.9ms)
Date: Sat, 02 Dec 2023 22:23:47 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656b611ba8b4d_728b2c74-45c@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

<p>OTP to login to the websits is 014278. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 507ms (Views: 0.2ms | ActiveRecord: 4.5ms | Allocations: 28095)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:28:31 +0530
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
Completed 200 OK in 272ms (Views: 0.2ms | ActiveRecord: 10.6ms | Allocations: 21569)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:28:53 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-02 16:58:54.545876"], ["id", 1]]
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
Completed 200 OK in 692ms (Views: 0.1ms | ActiveRecord: 13.2ms | Allocations: 4266)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:29:10 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-02 17:00:56.587534"], ["id", 1]]
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
Completed 200 OK in 106366ms (Views: 0.2ms | ActiveRecord: 9.8ms | Allocations: 70142)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:31:01 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
Completed 422 Unprocessable Entity in 1774ms (Views: 0.7ms | ActiveRecord: 7.2ms | Allocations: 19462)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:31:12 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
Completed 422 Unprocessable Entity in 1616ms (Views: 0.8ms | ActiveRecord: 2.2ms | Allocations: 13970)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:31:42 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
Completed 422 Unprocessable Entity in 27348ms (Views: 0.7ms | ActiveRecord: 5.3ms | Allocations: 33307)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:32:27 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
Completed 422 Unprocessable Entity in 1782ms (Views: 0.4ms | ActiveRecord: 2.4ms | Allocations: 26673)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:32:55 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
Completed 422 Unprocessable Entity in 10330ms (Views: 0.7ms | ActiveRecord: 2.6ms | Allocations: 28128)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:33:28 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
Completed 422 Unprocessable Entity in 2295ms (Views: 0.5ms | ActiveRecord: 2.0ms | Allocations: 27272)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:33:39 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:33:in `change_password'
Completed 422 Unprocessable Entity in 43185ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 31451)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:35:18 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-02 17:05:18.864114"], ["id", 1]]
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
Completed 200 OK in 700ms (Views: 0.1ms | ActiveRecord: 15.1ms | Allocations: 7638)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:35:23 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
Completed 200 OK in 231ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 634)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:35:40 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
Completed 200 OK in 493ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 691)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:36:09 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
Completed 404 Not Found in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 207)


  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231201120434'[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (8.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "confirm_token" character varying, "confirmed_at" timestamp(6), "otp_secret_key" character varying, "authy_enabled" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201120434') RETURNING "version"[0m
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-02 22:37:15 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "test"], ["email", "abcd@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", nil], ["created_at", "2023-12-02 17:07:15.491498"], ["updated_at", "2023-12-02 17:07:15.491498"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (18.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.9ms | Allocations: 422)
  Rendered layout layouts/mailer.html.erb (Duration: 1.3ms | Allocations: 681)
ApplicationMailer#send_confirmation_email: processed outbound mail in 14.1ms
Delivered mail 656b64438a925_7b7d2c4c-4ad@itsupport-HP-ProBook-440-G7.mail (18.3ms)
Date: Sat, 02 Dec 2023 22:37:15 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656b64438a925_7b7d2c4c-4ad@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=iomLwbB5OUhCBB2FkMvfQA">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 393ms (Views: 0.8ms | ActiveRecord: 35.2ms | Allocations: 57195)


Started GET "/api/registrations/confirm_user?token=[FILTERED]" for ::1 at 2023-12-02 22:37:18 +0530
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:14:in `confirm_user'
  [1m[36mUser Update (2.7ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2023-12-02 17:07:18.027991"], ["id", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 3.1ms | Allocations: 1342)


Started POST "/api/users/sign_in.json" for ::1 at 2023-12-02 22:37:22 +0530
Processing by Api::UsersController#sign_in as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:5:in `sign_in'
Completed 404 Not Found in 228ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 801)


Started POST "/api/users/sign_in.json" for ::1 at 2023-12-02 22:37:33 +0530
Error occurred while parsing request parameters.
Contents:

{
    "user": {
       "email": "abcd@test.com", "password": "Test@123
       "
    }
}
Processing by Api::UsersController#sign_in as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 151)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/api/users_controller.rb:61:in `sign_in_params'
app/controllers/api/users_controller.rb:5:in `sign_in'
Started POST "/api/users/sign_in.json" for ::1 at 2023-12-02 22:37:39 +0530
Processing by Api::UsersController#sign_in as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:5:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 132)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 229)
ApplicationMailer#send_otp: processed outbound mail in 1.8ms
Delivered mail 656b645b44e64_7b7d2c60-39f@itsupport-HP-ProBook-440-G7.mail (9.5ms)
Date: Sat, 02 Dec 2023 22:37:39 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656b645b44e64_7b7d2c60-39f@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

<p>OTP to login to the websits is 859700. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 242ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 6719)


Started PUT "/api/users/1/verify_token" for ::1 at 2023-12-02 22:37:47 +0530
Processing by Api::UsersController#verify_token as */*
  Parameters: {"otp"=>"[FILTERED]", "id"=>"1", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:54:in `set_user'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1939)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:37:59 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
Completed 200 OK in 226ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 736)


Started PUT "/api/users/change_password" for ::1 at 2023-12-02 22:38:13 +0530
Processing by Api::UsersController#change_password as */*
  Parameters: {"user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]", "confirm_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:18:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-02 17:08:14.241812"], ["id", 1]]
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/users_controller.rb:36:in `change_password'
Completed 200 OK in 699ms (Views: 0.1ms | ActiveRecord: 12.1ms | Allocations: 3202)


  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231201120434'[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "confirm_token" character varying, "confirmed_at" timestamp(6), "otp_secret_key" character varying, "authy_enabled" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201120434') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/registrations.json" for ::1 at 2023-12-02 22:41:36 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::RegistrationsController#create as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]", "name"=>"test", "confirm_password"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "test"], ["email", "abcd@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-02 17:11:36.575343"], ["updated_at", "2023-12-02 17:11:36.575343"]]
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/registrations_controller.rb:5:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.7ms | Allocations: 422)
  Rendered layout layouts/mailer.html.erb (Duration: 1.5ms | Allocations: 681)
ApplicationMailer#send_confirmation_email: processed outbound mail in 14.6ms
Delivered mail 656b65489caa9_7ef62c4c-4df@itsupport-HP-ProBook-440-G7.mail (22.9ms)
Date: Sat, 02 Dec 2023 22:41:36 +0530
From: from@example.com
To: abcd@test.com
Message-ID: <656b65489caa9_7ef62c4c-4df@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi test,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=EN8QWUgZlQ1kK_rYE4aHxQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 388ms (Views: 0.7ms | ActiveRecord: 23.2ms | Allocations: 57301)


Started GET "/api/registrations/confirm_user?token=[FILTERED]" for ::1 at 2023-12-02 22:41:39 +0530
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:14:in `confirm_user'
  [1m[36mUser Update (2.9ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2023-12-02 17:11:39.034965"], ["id", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 4.6ms | Allocations: 1371)


Started PUT "/api/users/1" for ::1 at 2023-12-02 22:41:49 +0530
Processing by Api::UsersController#update as */*
  Parameters: {"user"=>{"autny_enabled"=>true}, "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:58:in `set_user'
[31mUnpermitted parameter: :autny_enabled. Context: { controller: Api::UsersController, action: update, request: #<ActionDispatch::Request:0x00007f24815d26c0>, params: {"user"=>{"autny_enabled"=>true}, "controller"=>"api/users", "action"=>"update", "id"=>"1"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:48:in `update'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:48:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:48:in `update'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 2.2ms | Allocations: 2844)


  
NameError (undefined local variable or method `user' for #<Api::UsersController:0x0000000000a438>):
  
app/controllers/api/users_controller.rb:51:in `update'
Started PUT "/api/users/1" for ::1 at 2023-12-02 22:42:05 +0530
Processing by Api::UsersController#update as */*
  Parameters: {"user"=>{"autny_enabled"=>true}, "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:58:in `set_user'
[31mUnpermitted parameter: :autny_enabled. Context: { controller: Api::UsersController, action: update, request: #<ActionDispatch::Request:0x00007f24809a3520>, params: {"user"=>{"autny_enabled"=>true}, "controller"=>"api/users", "action"=>"update", "id"=>"1"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:48:in `update'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:48:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:48:in `update'
Completed 422 Unprocessable Entity in 3766ms (Views: 10.1ms | ActiveRecord: 5.6ms | Allocations: 63248)


Started PUT "/api/users/1" for ::1 at 2023-12-02 22:43:23 +0530
Processing by Api::UsersController#update as */*
  Parameters: {"user"=>{"autny_enabled"=>true}, "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:58:in `set_user'
[31mUnpermitted parameter: :autny_enabled. Context: { controller: Api::UsersController, action: update, request: #<ActionDispatch::Request:0x00007f2480a43200>, params: {"user"=>{"autny_enabled"=>true}, "controller"=>"api/users", "action"=>"update", "id"=>"1"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:48:in `update'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:48:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/users_controller.rb:48:in `update'
Completed 422 Unprocessable Entity in 2426ms (Views: 1.4ms | ActiveRecord: 5.7ms | Allocations: 21803)


Started PUT "/api/users/1" for ::1 at 2023-12-02 22:44:17 +0530
Processing by Api::UsersController#update as */*
  Parameters: {"user"=>{"autny_enabled"=>true}, "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:59:in `set_user'
[31mUnpermitted parameter: :autny_enabled. Context: { controller: Api::UsersController, action: update, request: #<ActionDispatch::Request:0x00007f2453b4c638>, params: {"user"=>{"autny_enabled"=>true}, "controller"=>"api/users", "action"=>"update", "id"=>"1"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:49:in `update'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:49:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/users_controller.rb:49:in `update'
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 6.1ms | Allocations: 7166)


Started PUT "/api/users/1" for ::1 at 2023-12-02 22:44:32 +0530
Processing by Api::UsersController#update as */*
  Parameters: {"user"=>{"autny_enabled"=>false}, "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:59:in `set_user'
[31mUnpermitted parameter: :autny_enabled. Context: { controller: Api::UsersController, action: update, request: #<ActionDispatch::Request:0x00007f2480a001f8>, params: {"user"=>{"autny_enabled"=>false}, "controller"=>"api/users", "action"=>"update", "id"=>"1"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:49:in `update'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:49:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/users_controller.rb:49:in `update'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 2342)


Started PUT "/api/users/1" for ::1 at 2023-12-02 22:45:00 +0530
Processing by Api::UsersController#update as */*
  Parameters: {"user"=>{"authy_enabled"=>false}, "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:59:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/users_controller.rb:49:in `update'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "abcd@test.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:49:in `update'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-02 17:15:00.153052"], ["id", 1]]
  ↳ app/controllers/api/users_controller.rb:49:in `update'
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/users_controller.rb:49:in `update'
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 12.4ms | Allocations: 3111)


Started POST "/api/users/sign_in.json" for ::1 at 2023-12-02 22:46:20 +0530
Processing by Api::UsersController#sign_in as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:5:in `sign_in'
Completed 500 Internal Server Error in 240ms (ActiveRecord: 3.4ms | Allocations: 5145)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/api/users_controller.rb:12:in `sign_in'
Started POST "/api/users/sign_in.json" for ::1 at 2023-12-02 22:46:33 +0530
Processing by Api::UsersController#sign_in as JSON
  Parameters: {"user"=>{"email"=>"abcd@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abcd@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:5:in `sign_in'
Completed 200 OK in 239ms (Views: 0.1ms | ActiveRecord: 3.9ms | Allocations: 5368)


  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"confirm_password"=>"[FILTERED]", "email"=>"kathern.wilkinson@friesen-glover.test", "password"=>"[FILTERED]", "user"=>"Jerold Doyle"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 199)


  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"confirm_password"=>"[FILTERED]", "email"=>"steve@price.example", "password"=>"[FILTERED]", "user"=>"Markus Brakus"}
Completed 500 Internal Server Error in 7816ms (ActiveRecord: 0.0ms | Allocations: 51176)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"roselle_towne@lockman-rice.test", "name"=>"Fr. Douglass Renner", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "roselle_towne@lockman-rice.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Fr. Douglass Renner"], ["email", "roselle_towne@lockman-rice.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 04:57:38.946730"], ["updated_at", "2023-12-03 04:57:38.946730"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.6ms | Allocations: 433)
  Rendered layout layouts/mailer.html.erb (Duration: 1.0ms | Allocations: 664)
ApplicationMailer#send_confirmation_email: processed outbound mail in 20.0ms
Delivered mail 656c0ac2f12d0_43dd12e8659e5@itsupport-HP-ProBook-440-G7.mail (45.3ms)
Date: Sun, 03 Dec 2023 10:27:38 +0530
From: from@example.com
To: roselle_towne@lockman-rice.test
Message-ID: <656c0ac2f12d0_43dd12e8659e5@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Fr. Douglass Renner,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=236uXCyXeQpK4Ny09RXQ5g">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 1458ms (Views: 0.8ms | ActiveRecord: 8.3ms | Allocations: 87286)


  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"gavin@shields.test", "name"=>"Verlene Zieme", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "gavin@shields.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Verlene Zieme"], ["email", "gavin@shields.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 04:58:28.705736"], ["updated_at", "2023-12-03 04:58:28.705736"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.6ms | Allocations: 433)
  Rendered layout layouts/mailer.html.erb (Duration: 0.9ms | Allocations: 664)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.6ms
Delivered mail 656c0af4b283d_44b712e848257@itsupport-HP-ProBook-440-G7.mail (13.7ms)
Date: Sun, 03 Dec 2023 10:28:28 +0530
From: from@example.com
To: gavin@shields.test
Message-ID: <656c0af4b283d_44b712e848257@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Verlene Zieme,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=2xwVEN9ES5oYg2dk8NJ0EQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 1512ms (Views: 0.6ms | ActiveRecord: 7.9ms | Allocations: 74666)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"winter_ullrich@trantow-hand.example", "name"=>"Wanda Braun Jr.", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "winter_ullrich@trantow-hand.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Wanda Braun Jr."], ["email", "winter_ullrich@trantow-hand.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 04:58:42.029062"], ["updated_at", "2023-12-03 04:58:42.029062"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.3ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.2ms
Delivered mail 656c0b02805d_44b712e8483c8@itsupport-HP-ProBook-440-G7.mail (7.7ms)
Date: Sun, 03 Dec 2023 10:28:42 +0530
From: from@example.com
To: winter_ullrich@trantow-hand.example
Message-ID: <656c0b02805d_44b712e8483c8@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Wanda Braun Jr.,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=Zd4F8UFf8rZbg8-wWME46w">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 13288ms (Views: 0.3ms | ActiveRecord: 2.1ms | Allocations: 21797)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"sabina.reinger@graham-dare.test", "name"=>"Fredda Kozey", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "sabina.reinger@graham-dare.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Fredda Kozey"], ["email", "sabina.reinger@graham-dare.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 04:59:11.089112"], ["updated_at", "2023-12-03 04:59:11.089112"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 364)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 592)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.1ms
Delivered mail 656c0b1f1bca2_45c512e82258f@itsupport-HP-ProBook-440-G7.mail (14.0ms)
Date: Sun, 03 Dec 2023 10:29:11 +0530
From: from@example.com
To: sabina.reinger@graham-dare.test
Message-ID: <656c0b1f1bca2_45c512e82258f@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Fredda Kozey,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=-_weL9WS4YXFLxE1d-nJ1w">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 271ms (Views: 0.5ms | ActiveRecord: 4.2ms | Allocations: 39036)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"sandi@wilderman.example", "name"=>"Shanna Abbott", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "sandi@wilderman.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Shanna Abbott"], ["email", "sandi@wilderman.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 04:59:11.367279"], ["updated_at", "2023-12-03 04:59:11.367279"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.3ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.2ms
Delivered mail 656c0b1f5ac40_45c512e822646@itsupport-HP-ProBook-440-G7.mail (9.4ms)
Date: Sun, 03 Dec 2023 10:29:11 +0530
From: from@example.com
To: sandi@wilderman.example
Message-ID: <656c0b1f5ac40_45c512e822646@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Shanna Abbott,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=lS2wt3nWFsxen8bLFJIrRg">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 247ms (Views: 0.3ms | ActiveRecord: 3.1ms | Allocations: 8388)


  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"alethia@stehr.test", "name"=>"The Hon. Seth Swift", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "alethia@stehr.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "The Hon. Seth Swift"], ["email", "alethia@stehr.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 04:59:24.778136"], ["updated_at", "2023-12-03 04:59:24.778136"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 364)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 592)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.3ms
Delivered mail 656c0b2cc3ecd_469512e895299@itsupport-HP-ProBook-440-G7.mail (12.1ms)
Date: Sun, 03 Dec 2023 10:29:24 +0530
From: from@example.com
To: alethia@stehr.test
Message-ID: <656c0b2cc3ecd_469512e895299@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi The Hon. Seth Swift,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=Uxe6g9nw1YHU4r65H-7hbA">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 270ms (Views: 0.5ms | ActiveRecord: 4.3ms | Allocations: 39017)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"shelton_konopelski@davis-sawayn.test", "name"=>"Russell Morar CPA", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "shelton_konopelski@davis-sawayn.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Russell Morar CPA"], ["email", "shelton_konopelski@davis-sawayn.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 04:59:25.054152"], ["updated_at", "2023-12-03 04:59:25.054152"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.4ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.4ms
Delivered mail 656c0b2de551_469512e8953a@itsupport-HP-ProBook-440-G7.mail (9.3ms)
Date: Sun, 03 Dec 2023 10:29:25 +0530
From: from@example.com
To: shelton_konopelski@davis-sawayn.test
Message-ID: <656c0b2de551_469512e8953a@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Russell Morar CPA,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=2ypTfpVBpIIo-KUwegzPlw">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 247ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 8421)


  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"bethanie@stamm.test", "name"=>"Walker Renner", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "bethanie@stamm.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Walker Renner"], ["email", "bethanie@stamm.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:01:26.194375"], ["updated_at", "2023-12-03 05:01:26.194375"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 364)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 592)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.6ms
Delivered mail 656c0ba635ba0_48a912e866558@itsupport-HP-ProBook-440-G7.mail (13.5ms)
Date: Sun, 03 Dec 2023 10:31:26 +0530
From: from@example.com
To: bethanie@stamm.test
Message-ID: <656c0ba635ba0_48a912e866558@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Walker Renner,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=pTJ5LpPRm7bxRe5iQqK5Pw">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 299ms (Views: 0.6ms | ActiveRecord: 5.6ms | Allocations: 39027)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"adrian@stamm.test", "name"=>"Rey Runte", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "adrian@stamm.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Rey Runte"], ["email", "adrian@stamm.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:01:26.476833"], ["updated_at", "2023-12-03 05:01:26.476833"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.3ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.4ms
Delivered mail 656c0ba6759fe_48a912e8666bc@itsupport-HP-ProBook-440-G7.mail (9.1ms)
Date: Sun, 03 Dec 2023 10:31:26 +0530
From: from@example.com
To: adrian@stamm.test
Message-ID: <656c0ba6759fe_48a912e8666bc@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Rey Runte,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=p0mGim3RLr2kkufZOQ6Ilg">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 251ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 8397)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"judi@willms.example", "name"=>"Jon Schmeler", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "judi@willms.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jon Schmeler"], ["email", "judi@willms.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:01:52.375132"], ["updated_at", "2023-12-03 05:01:52.375132"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 364)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 592)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.4ms
Delivered mail 656c0bc061ac0_499712e8-4e4@itsupport-HP-ProBook-440-G7.mail (12.1ms)
Date: Sun, 03 Dec 2023 10:31:52 +0530
From: from@example.com
To: judi@willms.example
Message-ID: <656c0bc061ac0_499712e8-4e4@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Jon Schmeler,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=44LujhUB1UMC46IZuJBbuQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 285ms (Views: 0.7ms | ActiveRecord: 4.3ms | Allocations: 39016)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"oliva@mills.example", "name"=>"Beckie Mayer", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "oliva@mills.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Beckie Mayer"], ["email", "oliva@mills.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:01:52.650742"], ["updated_at", "2023-12-03 05:01:52.650742"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.5ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.7ms
Delivered mail 656c0bc0a0398_499712e8-3dd@itsupport-HP-ProBook-440-G7.mail (10.4ms)
Date: Sun, 03 Dec 2023 10:31:52 +0530
From: from@example.com
To: oliva@mills.example
Message-ID: <656c0bc0a0398_499712e8-3dd@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Beckie Mayer,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=_aQwlLldSPbGiIN7zGOCMA">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 247ms (Views: 0.3ms | ActiveRecord: 3.1ms | Allocations: 8329)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"felton_abernathy@fay.example", "name"=>"Shaquana Pfannerstill", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "felton_abernathy@fay.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Shaquana Pfannerstill"], ["email", "felton_abernathy@fay.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:02:27.089806"], ["updated_at", "2023-12-03 05:02:27.089806"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 364)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 592)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.5ms
Delivered mail 656c0be31bc2b_4a8812e8-4f3@itsupport-HP-ProBook-440-G7.mail (12.8ms)
Date: Sun, 03 Dec 2023 10:32:27 +0530
From: from@example.com
To: felton_abernathy@fay.example
Message-ID: <656c0be31bc2b_4a8812e8-4f3@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Shaquana Pfannerstill,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=txaw5l3xRAygnq4cakSF3A">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 263ms (Views: 0.5ms | ActiveRecord: 4.2ms | Allocations: 39045)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"scotty@smitham.test", "name"=>"Milton Johns", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "scotty@smitham.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Milton Johns"], ["email", "scotty@smitham.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:02:27.364934"], ["updated_at", "2023-12-03 05:02:27.364934"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.3ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.2ms
Delivered mail 656c0be35a199_4a8812e8-344@itsupport-HP-ProBook-440-G7.mail (11.1ms)
Date: Sun, 03 Dec 2023 10:32:27 +0530
From: from@example.com
To: scotty@smitham.test
Message-ID: <656c0be35a199_4a8812e8-344@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Milton Johns,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=UlfEV6O-ULtYWliXiOcR1w">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 248ms (Views: 0.3ms | ActiveRecord: 2.7ms | Allocations: 8328)


  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"candida.corwin@carter.example", "name"=>"Mack Satterfield Ret.", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "candida.corwin@carter.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Mack Satterfield Ret."], ["email", "candida.corwin@carter.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:04:01.399498"], ["updated_at", "2023-12-03 05:04:01.399498"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.7ms | Allocations: 364)
  Rendered layout layouts/mailer.html.erb (Duration: 1.6ms | Allocations: 592)
ApplicationMailer#send_confirmation_email: processed outbound mail in 9.0ms
Delivered mail 656c0c4167fb8_4be212e8407ad@itsupport-HP-ProBook-440-G7.mail (12.2ms)
Date: Sun, 03 Dec 2023 10:34:01 +0530
From: from@example.com
To: candida.corwin@carter.example
Message-ID: <656c0c4167fb8_4be212e8407ad@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Mack Satterfield Ret.,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=wY7nOQhzXyD3umFgqGFifQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 275ms (Views: 0.6ms | ActiveRecord: 4.2ms | Allocations: 39104)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"nathanial@bernier.test", "name"=>"Danilo Gerhold", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "nathanial@bernier.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Danilo Gerhold"], ["email", "nathanial@bernier.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:04:01.681031"], ["updated_at", "2023-12-03 05:04:01.681031"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.3ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.3ms
Delivered mail 656c0c41a769e_4be212e8408e6@itsupport-HP-ProBook-440-G7.mail (10.3ms)
Date: Sun, 03 Dec 2023 10:34:01 +0530
From: from@example.com
To: nathanial@bernier.test
Message-ID: <656c0c41a769e_4be212e8408e6@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Danilo Gerhold,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=jQeZ2j1a5nCbztYEEMlThw">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 252ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 8335)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"leopoldo@breitenberg.example", "name"=>"Anthony Glover", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "leopoldo@breitenberg.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Anthony Glover"], ["email", "leopoldo@breitenberg.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:04:20.075785"], ["updated_at", "2023-12-03 05:04:20.075785"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 364)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 592)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.2ms
Delivered mail 656c0c54188a0_4cd112e8615e8@itsupport-HP-ProBook-440-G7.mail (14.4ms)
Date: Sun, 03 Dec 2023 10:34:20 +0530
From: from@example.com
To: leopoldo@breitenberg.example
Message-ID: <656c0c54188a0_4cd112e8615e8@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Anthony Glover,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=t3kcTDo_H657PB2ieUjiIw">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 272ms (Views: 0.6ms | ActiveRecord: 4.2ms | Allocations: 39043)


  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"elli@kohler-kirlin.test", "name"=>"Ms. Jeffrey Armstrong", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "elli@kohler-kirlin.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ms. Jeffrey Armstrong"], ["email", "elli@kohler-kirlin.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:05:45.866501"], ["updated_at", "2023-12-03 05:05:45.866501"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 364)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 593)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.1ms
Delivered mail 656c0ca9d9631_4e2c12e885331@itsupport-HP-ProBook-440-G7.mail (12.1ms)
Date: Sun, 03 Dec 2023 10:35:45 +0530
From: from@example.com
To: elli@kohler-kirlin.test
Message-ID: <656c0ca9d9631_4e2c12e885331@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Ms. Jeffrey Armstrong,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=gO3_gvtc61RadBnPRiej0g">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 264ms (Views: 0.5ms | ActiveRecord: 4.2ms | Allocations: 39098)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"mardell.turcotte@wyman-shanahan.example", "name"=>"Leland Schinner DDS", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "mardell.turcotte@wyman-shanahan.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Leland Schinner DDS"], ["email", "mardell.turcotte@wyman-shanahan.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:05:46.142710"], ["updated_at", "2023-12-03 05:05:46.142710"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.7ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 2.3ms
Delivered mail 656c0caa24a01_4e2c12e8854f0@itsupport-HP-ProBook-440-G7.mail (14.2ms)
Date: Sun, 03 Dec 2023 10:35:46 +0530
From: from@example.com
To: mardell.turcotte@wyman-shanahan.example
Message-ID: <656c0caa24a01_4e2c12e8854f0@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Leland Schinner DDS,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=1EO2xxcCNNKhZAY9XDEuQA">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 256ms (Views: 0.4ms | ActiveRecord: 3.3ms | Allocations: 8431)


  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"talisha@wehner.example", "name"=>"Sharla Rice II", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "talisha@wehner.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 251ms (Views: 0.4ms | ActiveRecord: 2.8ms | Allocations: 2156)


  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"kurtis@mosciski.test", "name"=>"Georgeann Daugherty DVM", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "kurtis@mosciski.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 229ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 2091)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"tameka@mann-bradtke.test", "name"=>"Porfirio Cartwright III", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tameka@mann-bradtke.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Porfirio Cartwright III"], ["email", "tameka@mann-bradtke.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:06:46.280416"], ["updated_at", "2023-12-03 05:06:46.280416"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 364)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 592)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.2ms
Delivered mail 656c0ce64a38d_4f6a12e8138e3@itsupport-HP-ProBook-440-G7.mail (11.9ms)
Date: Sun, 03 Dec 2023 10:36:46 +0530
From: from@example.com
To: tameka@mann-bradtke.test
Message-ID: <656c0ce64a38d_4f6a12e8138e3@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Porfirio Cartwright III,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=EMGRUJUN4PTdaka-ghEmcQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 261ms (Views: 0.5ms | ActiveRecord: 4.0ms | Allocations: 39027)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"jacinda.bode@jaskolski.example", "name"=>"Howard Morissette", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "jacinda.bode@jaskolski.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Howard Morissette"], ["email", "jacinda.bode@jaskolski.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:06:46.555535"], ["updated_at", "2023-12-03 05:06:46.555535"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 2.1ms
Delivered mail 656c0ce68936c_4f6a12e813985@itsupport-HP-ProBook-440-G7.mail (13.7ms)
Date: Sun, 03 Dec 2023 10:36:46 +0530
From: from@example.com
To: jacinda.bode@jaskolski.example
Message-ID: <656c0ce68936c_4f6a12e813985@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Howard Morissette,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=8VSHuD_Cvbj3g8YTdd7xDQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 254ms (Views: 0.3ms | ActiveRecord: 2.5ms | Allocations: 8342)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"ervin@dare.example", "name"=>"Mikel Macejkovic V", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "ervin@dare.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 256ms (Views: 0.3ms | ActiveRecord: 3.4ms | Allocations: 2157)


  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"ignacio.turcotte@stark.test", "name"=>"Miss Fernando Gerlach", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "ignacio.turcotte@stark.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 226ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 2091)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"paul.will@hane.example", "name"=>"Devin Labadie DO", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "paul.will@hane.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Devin Labadie DO"], ["email", "paul.will@hane.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:09:24.288017"], ["updated_at", "2023-12-03 05:09:24.288017"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 364)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 592)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.5ms
Delivered mail 656c0d844c2d1_511012e83005d@itsupport-HP-ProBook-440-G7.mail (12.0ms)
Date: Sun, 03 Dec 2023 10:39:24 +0530
From: from@example.com
To: paul.will@hane.example
Message-ID: <656c0d844c2d1_511012e83005d@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Devin Labadie DO,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=u80eiWBllXFhC29PJVrl8w">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 272ms (Views: 0.6ms | ActiveRecord: 4.3ms | Allocations: 39084)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"malvina@conroy-crooks.test", "name"=>"Elwanda Huel", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "malvina@conroy-crooks.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Elwanda Huel"], ["email", "malvina@conroy-crooks.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:09:24.563212"], ["updated_at", "2023-12-03 05:09:24.563212"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.4ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.4ms
Delivered mail 656c0d848ad99_511012e83014@itsupport-HP-ProBook-440-G7.mail (12.5ms)
Date: Sun, 03 Dec 2023 10:39:24 +0530
From: from@example.com
To: malvina@conroy-crooks.test
Message-ID: <656c0d848ad99_511012e83014@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Elwanda Huel,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=GMqxcFmXaYlD5jWDBgCiJQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 251ms (Views: 0.3ms | ActiveRecord: 2.8ms | Allocations: 8338)


  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"marva.paucek@prosacco.example", "name"=>"Evangelina Boyer DO", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "marva.paucek@prosacco.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 252ms (Views: 0.3ms | ActiveRecord: 3.0ms | Allocations: 2157)


  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"genesis_schuppe@streich.test", "name"=>"Dannie Gutmann", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "genesis_schuppe@streich.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 234ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 2090)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"bonnie_wolf@gerhold.test", "name"=>"Basil Wolff", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "bonnie_wolf@gerhold.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Basil Wolff"], ["email", "bonnie_wolf@gerhold.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:09:50.866419"], ["updated_at", "2023-12-03 05:09:50.866419"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 364)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 592)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.2ms
Delivered mail 656c0d9ed96c6_521812e826847@itsupport-HP-ProBook-440-G7.mail (13.3ms)
Date: Sun, 03 Dec 2023 10:39:50 +0530
From: from@example.com
To: bonnie_wolf@gerhold.test
Message-ID: <656c0d9ed96c6_521812e826847@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Basil Wolff,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=bKA_78UbGzItfSFiti2vBg">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 279ms (Views: 0.7ms | ActiveRecord: 4.1ms | Allocations: 39033)


  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"pierre_pfannerstill@ward.test", "name"=>"Travis Green", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "pierre_pfannerstill@ward.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Travis Green"], ["email", "pierre_pfannerstill@ward.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:09:51.146386"], ["updated_at", "2023-12-03 05:09:51.146386"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.4ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.4ms
Delivered mail 656c0d9f250d4_521812e8269ad@itsupport-HP-ProBook-440-G7.mail (10.5ms)
Date: Sun, 03 Dec 2023 10:39:51 +0530
From: from@example.com
To: pierre_pfannerstill@ward.test
Message-ID: <656c0d9f250d4_521812e8269ad@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Travis Green,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=DcVsQXnYNRbX93ysb-gg-g">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 250ms (Views: 0.3ms | ActiveRecord: 2.8ms | Allocations: 8420)


Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"pierre_pfannerstill@ward.test", "name"=>"Travis Green", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "pierre_pfannerstill@ward.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 243ms (Views: 0.8ms | ActiveRecord: 5.0ms | Allocations: 2539)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"jacinta.homenick@smitham.example", "name"=>"Vickie Mohr", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "jacinta.homenick@smitham.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 223ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 2103)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"dwight_cassin@roberts.test", "name"=>"Lourdes Sporer", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "dwight_cassin@roberts.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 209ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 2090)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"jude.larkin@funk.test", "name"=>"Kimbery Hammes", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "jude.larkin@funk.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Kimbery Hammes"], ["email", "jude.larkin@funk.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:12:34.685765"], ["updated_at", "2023-12-03 05:12:34.685765"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 364)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 592)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.2ms
Delivered mail 656c0e42ad1ae_537312e834518@itsupport-HP-ProBook-440-G7.mail (12.2ms)
Date: Sun, 03 Dec 2023 10:42:34 +0530
From: from@example.com
To: jude.larkin@funk.test
Message-ID: <656c0e42ad1ae_537312e834518@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Kimbery Hammes,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=jLQDlLkOKlczi6841xjSGA">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 273ms (Views: 0.5ms | ActiveRecord: 3.9ms | Allocations: 39096)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"katharine.murazik@borer.test", "name"=>"Ashlee Lueilwitz", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "katharine.murazik@borer.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ashlee Lueilwitz"], ["email", "katharine.murazik@borer.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:12:34.960487"], ["updated_at", "2023-12-03 05:12:34.960487"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 2.0ms
Delivered mail 656c0e42ec13b_537312e83466e@itsupport-HP-ProBook-440-G7.mail (15.5ms)
Date: Sun, 03 Dec 2023 10:42:34 +0530
From: from@example.com
To: katharine.murazik@borer.test
Message-ID: <656c0e42ec13b_537312e83466e@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Ashlee Lueilwitz,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=uMH0xGSMv82fVkMn-hv0Fw">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 259ms (Views: 0.5ms | ActiveRecord: 3.2ms | Allocations: 8353)


  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"kristofer@witting-bode.test", "name"=>"Miss Antwan McLaughlin", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "kristofer@witting-bode.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 253ms (Views: 0.3ms | ActiveRecord: 2.3ms | Allocations: 2156)


  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"elvis@beer.test", "name"=>"Andre Dach", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "elvis@beer.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 229ms (Views: 0.1ms | ActiveRecord: 2.5ms | Allocations: 2089)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"samual.christiansen@hyatt.example", "name"=>"Jeanne Herman", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "samual.christiansen@hyatt.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jeanne Herman"], ["email", "samual.christiansen@hyatt.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:13:43.444318"], ["updated_at", "2023-12-03 05:13:43.444318"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 364)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 592)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.2ms
Delivered mail 656c0e87725bf_548e12e85656a@itsupport-HP-ProBook-440-G7.mail (12.0ms)
Date: Sun, 03 Dec 2023 10:43:43 +0530
From: from@example.com
To: samual.christiansen@hyatt.example
Message-ID: <656c0e87725bf_548e12e85656a@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Jeanne Herman,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=vCFcQH9gGWcVxZTNbZFehw">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 283ms (Views: 0.6ms | ActiveRecord: 4.3ms | Allocations: 39054)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"leighann.dare@kunde.test", "name"=>"Jamey Marquardt Sr.", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "leighann.dare@kunde.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jamey Marquardt Sr."], ["email", "leighann.dare@kunde.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:13:43.719705"], ["updated_at", "2023-12-03 05:13:43.719705"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.3ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.1ms
Delivered mail 656c0e87b0cf1_548e12e8566d1@itsupport-HP-ProBook-440-G7.mail (10.4ms)
Date: Sun, 03 Dec 2023 10:43:43 +0530
From: from@example.com
To: leighann.dare@kunde.test
Message-ID: <656c0e87b0cf1_548e12e8566d1@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Jamey Marquardt Sr.,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=InVBQBIRsqu4DyAnSpRBXw">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 248ms (Views: 0.3ms | ActiveRecord: 2.5ms | Allocations: 8335)


  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"sung@lockman.example", "name"=>"Kathleen Bashirian", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "sung@lockman.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 227ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 2775)


  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"jasper@towne-conroy.test", "name"=>"Vasiliki Schroeder", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "jasper@towne-conroy.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 213ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 2092)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"denna@weber-mccullough.example", "name"=>"Charolette Goyette Sr.", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "denna@weber-mccullough.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Charolette Goyette Sr."], ["email", "denna@weber-mccullough.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:17:44.538219"], ["updated_at", "2023-12-03 05:17:44.538219"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 365)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 593)
ApplicationMailer#send_confirmation_email: processed outbound mail in 8.7ms
Delivered mail 656c0f7889bc3_573312e8-4bd@itsupport-HP-ProBook-440-G7.mail (14.6ms)
Date: Sun, 03 Dec 2023 10:47:44 +0530
From: from@example.com
To: denna@weber-mccullough.example
Message-ID: <656c0f7889bc3_573312e8-4bd@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Charolette Goyette Sr.,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=tj-3SL-bNFEjUXHuczsQRQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 280ms (Views: 0.5ms | ActiveRecord: 4.1ms | Allocations: 39091)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"dorthea@langosh.test", "name"=>"Marylouise Pouros", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "dorthea@langosh.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Marylouise Pouros"], ["email", "dorthea@langosh.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:17:44.823152"], ["updated_at", "2023-12-03 05:17:44.823152"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 2.2ms
Delivered mail 656c0f78ca88f_573312e8-361@itsupport-HP-ProBook-440-G7.mail (11.2ms)
Date: Sun, 03 Dec 2023 10:47:44 +0530
From: from@example.com
To: dorthea@langosh.test
Message-ID: <656c0f78ca88f_573312e8-361@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Marylouise Pouros,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=xzA_Jsa9gLJiRBiopSR6Gw">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 256ms (Views: 0.3ms | ActiveRecord: 2.8ms | Allocations: 8333)


  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"denver@zieme-macgyver.example", "name"=>"Annabel Cole", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "denver@zieme-macgyver.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 251ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 2156)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"leontine.considine@nader.test", "name"=>"Danial Berge", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "leontine.considine@nader.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 232ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 2090)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"token"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 154)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"earl.balistreri@jacobs.example", "name"=>"Mr. Marvin Ledner", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "earl.balistreri@jacobs.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Mr. Marvin Ledner"], ["email", "earl.balistreri@jacobs.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:18:16.775579"], ["updated_at", "2023-12-03 05:18:16.775579"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.6ms | Allocations: 365)
  Rendered layout layouts/mailer.html.erb (Duration: 1.0ms | Allocations: 593)
ApplicationMailer#send_confirmation_email: processed outbound mail in 10.0ms
Delivered mail 656c0f98c4355_584312e8-43d@itsupport-HP-ProBook-440-G7.mail (14.6ms)
Date: Sun, 03 Dec 2023 10:48:16 +0530
From: from@example.com
To: earl.balistreri@jacobs.example
Message-ID: <656c0f98c4355_584312e8-43d@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Mr. Marvin Ledner,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=7wkXZfyGOYdCyK9VIbLwZQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 307ms (Views: 0.6ms | ActiveRecord: 4.5ms | Allocations: 39037)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"priscila@watsica-kshlerin.test", "name"=>"Valeri Bode", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "priscila@watsica-kshlerin.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Valeri Bode"], ["email", "priscila@watsica-kshlerin.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:18:17.084349"], ["updated_at", "2023-12-03 05:18:17.084349"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.3ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.3ms
Delivered mail 656c0f9915db3_584312e8-3db@itsupport-HP-ProBook-440-G7.mail (10.8ms)
Date: Sun, 03 Dec 2023 10:48:17 +0530
From: from@example.com
To: priscila@watsica-kshlerin.test
Message-ID: <656c0f9915db3_584312e8-3db@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Valeri Bode,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=lA1AUjRWXE00T_NwmDwilg">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 274ms (Views: 0.3ms | ActiveRecord: 2.2ms | Allocations: 8340)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"cyril_beahan@mueller-hoeger.example", "name"=>"Randell Bashirian", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "cyril_beahan@mueller-hoeger.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 248ms (Views: 0.3ms | ActiveRecord: 2.6ms | Allocations: 2157)


  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"byron@schaefer.example", "name"=>"Sharilyn Hintz LLD", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "byron@schaefer.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 230ms (Views: 0.1ms | ActiveRecord: 2.3ms | Allocations: 2091)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"token"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 154)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"token"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 201)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ (byebug):1:in `confirm_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 17461ms (Views: 1.2ms | ActiveRecord: 2.2ms | Allocations: 39818)


  [1m[36mUser Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 2625ms (Views: 0.7ms | ActiveRecord: 1.5ms | Allocations: 18751)


  [1m[36mUser Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 1209ms (Views: 0.9ms | ActiveRecord: 2.3ms | Allocations: 19282)


  [1m[36mUser Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 1188ms (Views: 0.9ms | ActiveRecord: 1.0ms | Allocations: 19572)


  [1m[36mUser Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 3074ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 20170)


  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 1638ms (Views: 0.3ms | ActiveRecord: 3.6ms | Allocations: 45887)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Count (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ↳ (byebug):1:in `confirm_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `confirm_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `confirm_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 20117ms (Views: 2.4ms | ActiveRecord: 19.9ms | Allocations: 59377)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "lauren@hyatt-conroy.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Mirian Heidenreich"], ["email", "lauren@hyatt-conroy.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:41:39.824651"], ["updated_at", "2023-12-03 05:41:39.824651"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 1050ms (Views: 1.3ms | ActiveRecord: 1.8ms | Allocations: 41958)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "paulene@abbott.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Clarisa Medhurst"], ["email", "paulene@abbott.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:41:44.784667"], ["updated_at", "2023-12-03 05:41:44.784667"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 9669ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 42308)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "gabriel@huel.test"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Pres. Jamey Crist"], ["email", "gabriel@huel.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:42:11.570410"], ["updated_at", "2023-12-03 05:42:11.570410"]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `confirm_user'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `confirm_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ (byebug):1:in `confirm_user'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 27821ms (Views: 0.4ms | ActiveRecord: 3.0ms | Allocations: 24118)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "sheron@marquardt.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Prof. Helaine Kerluke"], ["email", "sheron@marquardt.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 05:43:08.252276"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:43:08.260831"], ["updated_at", "2023-12-03 05:43:08.260831"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 1686ms (Views: 1.1ms | ActiveRecord: 1.8ms | Allocations: 22350)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "blanca_quitzon@ziemann.example"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ms. Florinda Satterfield"], ["email", "blanca_quitzon@ziemann.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 05:43:17.516675"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:43:17.523808"], ["updated_at", "2023-12-03 05:43:17.523808"]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `confirm_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 47722ms (Views: 1.0ms | ActiveRecord: 3.2ms | Allocations: 23835)


  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "kimberly@dibbert-haag.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jacqualine Adams"], ["email", "kimberly@dibbert-haag.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 05:44:10.463246"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:44:10.471667"], ["updated_at", "2023-12-03 05:44:10.471667"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:15:in `confirm_user'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1113)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "shawnda_torp@jenkins-casper.example"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Elliot Grady JD"], ["email", "shawnda_torp@jenkins-casper.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 05:44:16.177619"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:44:16.184803"], ["updated_at", "2023-12-03 05:44:16.184803"]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:15:in `confirm_user'
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 1112)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "rosalinda@bogisich-nitzsche.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Sammy Fahey"], ["email", "rosalinda@bogisich-nitzsche.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 05:44:26.521873"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:44:26.530604"], ["updated_at", "2023-12-03 05:44:26.530604"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:15:in `confirm_user'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1113)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "betsy_dibbert@lesch-mohr.example"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Gov. Tamatha Littel"], ["email", "betsy_dibbert@lesch-mohr.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 05:44:31.629218"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:44:31.636447"], ["updated_at", "2023-12-03 05:44:31.636447"]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `confirm_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
Completed 200 OK in 12597ms (Views: 1.2ms | ActiveRecord: 2.8ms | Allocations: 25348)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "gina@howell.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Mack Jast LLD"], ["email", "gina@howell.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 05:45:02.175897"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:45:02.183294"], ["updated_at", "2023-12-03 05:45:02.183294"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:16:in `confirm_user'
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2023-12-03 05:45:05.436144"], ["id", 43]]
  ↳ app/controllers/api/registrations_controller.rb:18:in `confirm_user'
Completed 200 OK in 3249ms (Views: 0.9ms | ActiveRecord: 3.3ms | Allocations: 46690)


  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "marion@volkman.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Lucrecia Wintheiser"], ["email", "marion@volkman.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 05:46:25.552193"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:46:25.560109"], ["updated_at", "2023-12-03 05:46:25.560109"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:15:in `confirm_user'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2023-12-03 05:46:25.573325"], ["id", 44]]
  ↳ app/controllers/api/registrations_controller.rb:17:in `confirm_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1600)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:15:in `confirm_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 545)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"loraine.bartoletti@schiller-mayert.example", "name"=>"Gov. Irmgard Buckridge", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "loraine.bartoletti@schiller-mayert.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Gov. Irmgard Buckridge"], ["email", "loraine.bartoletti@schiller-mayert.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:46:40.206168"], ["updated_at", "2023-12-03 05:46:40.206168"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 365)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 593)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.6ms
Delivered mail 656c16403a686_62cc12e815560@itsupport-HP-ProBook-440-G7.mail (16.3ms)
Date: Sun, 03 Dec 2023 11:16:40 +0530
From: from@example.com
To: loraine.bartoletti@schiller-mayert.example
Message-ID: <656c16403a686_62cc12e815560@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Gov. Irmgard Buckridge,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=JJ348InNv2uzOroUixZvrQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 287ms (Views: 0.5ms | ActiveRecord: 4.1ms | Allocations: 39130)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"isaura.grimes@kertzmann.example", "name"=>"Quinn Jacobi", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "isaura.grimes@kertzmann.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Quinn Jacobi"], ["email", "isaura.grimes@kertzmann.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:46:40.496598"], ["updated_at", "2023-12-03 05:46:40.496598"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.4ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.6ms
Delivered mail 656c16407a976_62cc12e8156d9@itsupport-HP-ProBook-440-G7.mail (15.2ms)
Date: Sun, 03 Dec 2023 11:16:40 +0530
From: from@example.com
To: isaura.grimes@kertzmann.example
Message-ID: <656c16407a976_62cc12e8156d9@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Quinn Jacobi,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=oYgEM3WPNZ3_rd0JupkiEQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 256ms (Views: 0.4ms | ActiveRecord: 2.8ms | Allocations: 8411)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"jackie_cole@hills-barrows.test", "name"=>"Isaias Will", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "jackie_cole@hills-barrows.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 258ms (Views: 0.3ms | ActiveRecord: 3.1ms | Allocations: 2156)


  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"teresia@trantow.test", "name"=>"Berry Adams", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "teresia@trantow.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 230ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 2090)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "mitzie.crooks@williamson-labadie.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Merrill Harber"], ["email", "mitzie.crooks@williamson-labadie.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 05:46:41.237811"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:46:41.241391"], ["updated_at", "2023-12-03 05:46:41.241391"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:15:in `confirm_user'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2023-12-03 05:46:41.247393"], ["id", 47]]
  ↳ app/controllers/api/registrations_controller.rb:17:in `confirm_user'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1368)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:15:in `confirm_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 536)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 12ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 6049)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
Completed 404 Not Found in 38619ms (Views: 0.5ms | ActiveRecord: 8.9ms | Allocations: 63707)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
Completed 404 Not Found in 897ms (Views: 0.4ms | ActiveRecord: 10.8ms | Allocations: 30725)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
Completed 404 Not Found in 4899ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 28048)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
Completed 404 Not Found in 1373ms (Views: 1.0ms | ActiveRecord: 1.8ms | Allocations: 26797)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Sheila Bosco"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 05:55:52.751466"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:55:52.754354"], ["updated_at", "2023-12-03 05:55:52.754354"]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `sign_in'
  [1m[36mUser Count (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ↳ (byebug):1:in `sign_in'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ (byebug):1:in `sign_in'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
Completed 404 Not Found in 35401ms (Views: 0.2ms | ActiveRecord: 5.0ms | Allocations: 31889)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
Completed 404 Not Found in 1071ms (Views: 0.3ms | ActiveRecord: 5.8ms | Allocations: 34180)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mBEGIN[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
Completed 404 Not Found in 3005ms (Views: 0.9ms | ActiveRecord: 4.6ms | Allocations: 432315)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[35mBEGIN[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ (byebug):1:in `sign_in'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
Completed 404 Not Found in 18439ms (Views: 0.4ms | ActiveRecord: 5.6ms | Allocations: 47217)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Josefina Nikolaus V"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 05:57:45.498402"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:57:45.506535"], ["updated_at", "2023-12-03 05:57:45.506535"]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
Completed 404 Not Found in 3974ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 31205)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Phillis O'Keefe DDS"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 05:58:06.805992"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:58:06.813145"], ["updated_at", "2023-12-03 05:58:06.813145"]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ (byebug):1:in `sign_in'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
Completed 404 Not Found in 22939ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 33430)


  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
Completed 404 Not Found in 811ms (Views: 0.4ms | ActiveRecord: 9.0ms | Allocations: 37948)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Tamie Rolfson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 05:59:08.816287"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 05:59:08.823346"], ["updated_at", "2023-12-03 05:59:08.823346"]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 237)
  Rendered layout layouts/mailer.html.erb (Duration: 0.7ms | Allocations: 469)
ApplicationMailer#send_otp: processed outbound mail in 9.1ms
Delivered mail 656c192f84ce7_694f12e8146e@itsupport-HP-ProBook-440-G7.mail (12.8ms)
Date: Sun, 03 Dec 2023 11:29:11 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c192f84ce7_694f12e8146e@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Tamie Rolfson,<br>

<p>OTP to login to the websits is 380377. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 1809ms (Views: 0.6ms | ActiveRecord: 1.8ms | Allocations: 54517)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
Completed 404 Not Found in 1531ms (Views: 0.5ms | ActiveRecord: 9.4ms | Allocations: 59464)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Erick Ebert"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:01:08.895943"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:01:08.903717"], ["updated_at", "2023-12-03 06:01:08.903717"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 243)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 477)
ApplicationMailer#send_otp: processed outbound mail in 7.5ms
Delivered mail 656c19a685539_6b0b12e8114c2@itsupport-HP-ProBook-440-G7.mail (13.0ms)
Date: Sun, 03 Dec 2023 11:31:10 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c19a685539_6b0b12e8114c2@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Erick Ebert,<br>

<p>OTP to login to the websits is 303074. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 1643ms (Views: 0.6ms | ActiveRecord: 1.4ms | Allocations: 76264)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Msgr. Raymundo Kassulke"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:02:07.827580"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:02:07.909194"], ["updated_at", "2023-12-03 06:02:07.909194"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 238)
  Rendered layout layouts/mailer.html.erb (Duration: 0.7ms | Allocations: 470)
ApplicationMailer#send_otp: processed outbound mail in 7.7ms
Delivered mail 656c19e1a51ad_6c0812e81305e@itsupport-HP-ProBook-440-G7.mail (12.8ms)
Date: Sun, 03 Dec 2023 11:32:09 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c19e1a51ad_6c0812e81305e@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Msgr. Raymundo Kassulke,<br>

<p>OTP to login to the websits is 917314. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 1715ms (Views: 0.8ms | ActiveRecord: 2.0ms | Allocations: 57017)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Gilbert Pouros"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:02:19.253932"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:02:19.261095"], ["updated_at", "2023-12-03 06:02:19.261095"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 243)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 477)
ApplicationMailer#send_otp: processed outbound mail in 7.9ms
Delivered mail 656c19ee5e76b_6c9912e8-46b@itsupport-HP-ProBook-440-G7.mail (13.0ms)
Date: Sun, 03 Dec 2023 11:32:22 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c19ee5e76b_6c9912e8-46b@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Gilbert Pouros,<br>

<p>OTP to login to the websits is 404629. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 3125ms (Views: 0.6ms | ActiveRecord: 2.1ms | Allocations: 76742)


  [1m[36mTRANSACTION (2.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Linette Effertz Esq."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:04:51.444585"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:04:51.453314"], ["updated_at", "2023-12-03 06:04:51.453314"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 244)
  Rendered layout layouts/mailer.html.erb (Duration: 0.7ms | Allocations: 478)
ApplicationMailer#send_otp: processed outbound mail in 7.4ms
Delivered mail 656c1a8b9b4ea_6e5912e86128b@itsupport-HP-ProBook-440-G7.mail (12.9ms)
Date: Sun, 03 Dec 2023 11:34:59 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1a8b9b4ea_6e5912e86128b@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Linette Effertz Esq.,<br>

<p>OTP to login to the websits is 716500. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 8185ms (Views: 0.5ms | ActiveRecord: 2.0ms | Allocations: 78246)


  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Keri Heidenreich"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:05:08.763636"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:05:08.771493"], ["updated_at", "2023-12-03 06:05:08.771493"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 244)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 478)
ApplicationMailer#send_otp: processed outbound mail in 8.9ms
Delivered mail 656c1a95d0df5_6f0a12e83807b@itsupport-HP-ProBook-440-G7.mail (13.1ms)
Date: Sun, 03 Dec 2023 11:35:09 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1a95d0df5_6f0a12e83807b@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Keri Heidenreich,<br>

<p>OTP to login to the websits is 999311. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 1086ms (Views: 0.6ms | ActiveRecord: 0.6ms | Allocations: 78481)


  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Nicky Herzog"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:06:03.655266"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:06:03.663086"], ["updated_at", "2023-12-03 06:06:03.663086"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:7:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 243)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 477)
ApplicationMailer#send_otp: processed outbound mail in 7.6ms
Delivered mail 656c1acd351fa_6fb612e8-44a@itsupport-HP-ProBook-440-G7.mail (13.0ms)
Date: Sun, 03 Dec 2023 11:36:05 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1acd351fa_6fb612e8-44a@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Nicky Herzog,<br>

<p>OTP to login to the websits is 274390. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 1556ms (Views: 0.6ms | ActiveRecord: 1.7ms | Allocations: 78509)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Elijah Weimann"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:06:59.595608"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:06:59.603359"], ["updated_at", "2023-12-03 06:06:59.603359"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 232)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 461)
ApplicationMailer#send_otp: processed outbound mail in 7.2ms
Delivered mail 656c1b03d27db_708312e8122ea@itsupport-HP-ProBook-440-G7.mail (12.0ms)
Date: Sun, 03 Dec 2023 11:36:59 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1b03d27db_708312e8122ea@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Elijah Weimann,<br>

<p>OTP to login to the websits is 706740. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 259ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 22182)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Rodolfo O'Connell"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:07:26.198079"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:07:26.205841"], ["updated_at", "2023-12-03 06:07:26.205841"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 233)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 462)
ApplicationMailer#send_otp: processed outbound mail in 7.4ms
Delivered mail 656c1b1e70240_713d12e852597@itsupport-HP-ProBook-440-G7.mail (12.6ms)
Date: Sun, 03 Dec 2023 11:37:26 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1b1e70240_713d12e852597@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Rodolfo O&#39;Connell,<br>

<p>OTP to login to the websits is 262068. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 254ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 22193)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jerry Hills Ret."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:07:41.255971"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:07:41.263427"], ["updated_at", "2023-12-03 06:07:41.263427"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 233)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 462)
ApplicationMailer#send_otp: processed outbound mail in 7.6ms
Delivered mail 656c1b2d7f262_71ba12e839586@itsupport-HP-ProBook-440-G7.mail (12.3ms)
Date: Sun, 03 Dec 2023 11:37:41 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1b2d7f262_71ba12e839586@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Jerry Hills Ret.,<br>

<p>OTP to login to the websits is 073670. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 258ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 22193)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Violet Hoppe"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:08:00.763027"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:08:00.770376"], ["updated_at", "2023-12-03 06:08:00.770376"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 1.0ms | Allocations: 250)
  Rendered layout layouts/mailer.html.erb (Duration: 2.6ms | Allocations: 501)
ApplicationMailer#send_otp: processed outbound mail in 6435.5ms
Delivered mail 656c1b476d8e3_725f12e8489dd@itsupport-HP-ProBook-440-G7.mail (20.3ms)
Date: Sun, 03 Dec 2023 11:38:07 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1b476d8e3_725f12e8489dd@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Violet Hoppe,<br>

<p>OTP to login to the websits is 860325. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 6687ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 78770)


  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Amos Bergstrom"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:08:47.706353"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:08:47.714302"], ["updated_at", "2023-12-03 06:08:47.714302"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.6ms | Allocations: 252)
  Rendered layout layouts/mailer.html.erb (Duration: 1.2ms | Allocations: 503)
ApplicationMailer#send_otp: processed outbound mail in 1424.0ms
Delivered mail 656c1b715d93a_731112e8295d7@itsupport-HP-ProBook-440-G7.mail (19.8ms)
Date: Sun, 03 Dec 2023 11:38:49 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1b715d93a_731112e8295d7@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Amos Bergstrom,<br>

<p>OTP to login to the websits is 404044. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 1677ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 78508)


  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Gus Corkery"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:12:24.077375"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:12:24.085056"], ["updated_at", "2023-12-03 06:12:24.085056"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 1.5ms | Allocations: 252)
  Rendered layout layouts/mailer.html.erb (Duration: 2.9ms | Allocations: 503)
ApplicationMailer#send_otp: processed outbound mail in 1487.5ms
Delivered mail 656c1c49c640c_749b12e836346@itsupport-HP-ProBook-440-G7.mail (21.1ms)
Date: Sun, 03 Dec 2023 11:42:25 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1c49c640c_749b12e836346@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Gus Corkery,<br>

<p>OTP to login to the websits is 006026. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 1736ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 78496)


  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Susannah Smith"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:13:34.449296"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:13:34.456522"], ["updated_at", "2023-12-03 06:13:34.456522"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 1.0ms | Allocations: 252)
  Rendered layout layouts/mailer.html.erb (Duration: 2.2ms | Allocations: 503)
ApplicationMailer#send_otp: processed outbound mail in 1622.8ms
Delivered mail 656c1c904d723_757612e8484d4@itsupport-HP-ProBook-440-G7.mail (23.3ms)
Date: Sun, 03 Dec 2023 11:43:36 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1c904d723_757612e8484d4@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Susannah Smith,<br>

<p>OTP to login to the websits is 589525. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 1859ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 71117)


  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Noe Hills"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:14:44.935189"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:14:44.943485"], ["updated_at", "2023-12-03 06:14:44.943485"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 1.8ms | Allocations: 252)
  Rendered layout layouts/mailer.html.erb (Duration: 3.9ms | Allocations: 503)
ApplicationMailer#send_otp: processed outbound mail in 4181.6ms
Delivered mail 656c1cd95ba36_762c12e879999@itsupport-HP-ProBook-440-G7.mail (22.7ms)
Date: Sun, 03 Dec 2023 11:44:49 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1cd95ba36_762c12e879999@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Noe Hills,<br>

<p>OTP to login to the websits is 106454. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 4417ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 71116)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Miquel Greenholt"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:15:10.099445"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:15:10.107280"], ["updated_at", "2023-12-03 06:15:10.107280"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 1.5ms | Allocations: 250)
  Rendered layout layouts/mailer.html.erb (Duration: 3.3ms | Allocations: 501)
ApplicationMailer#send_otp: processed outbound mail in 5382.8ms
Delivered mail 656c1cf3b2852_76d612e81991a@itsupport-HP-ProBook-440-G7.mail (21.6ms)
Date: Sun, 03 Dec 2023 11:45:15 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1cf3b2852_76d612e81991a@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Miquel Greenholt,<br>

<p>OTP to login to the websits is 734055. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 5621ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 72090)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ha Morar I"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:15:46.243070"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:15:46.250777"], ["updated_at", "2023-12-03 06:15:46.250777"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 1.1ms | Allocations: 252)
  Rendered layout layouts/mailer.html.erb (Duration: 2.2ms | Allocations: 503)
ApplicationMailer#send_otp: processed outbound mail in 1663.7ms
Delivered mail 656c1d1424fac_777012e8964c0@itsupport-HP-ProBook-440-G7.mail (22.0ms)
Date: Sun, 03 Dec 2023 11:45:48 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1d1424fac_777012e8964c0@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Ha Morar I,<br>

<p>OTP to login to the websits is 215584. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 1911ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 79272)


  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Diedre Dickinson CPA"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:15:57.248614"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:15:57.256502"], ["updated_at", "2023-12-03 06:15:57.256502"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 1.8ms | Allocations: 10458)
  Rendered layout layouts/mailer.html.erb (Duration: 4.5ms | Allocations: 27109)
ApplicationMailer#send_otp: processed outbound mail in 15038.3ms
Delivered mail 656c1d2c854d1_77fe12e8-4e7@itsupport-HP-ProBook-440-G7.mail (39.2ms)
Date: Sun, 03 Dec 2023 11:46:12 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1d2c854d1_77fe12e8-4e7@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Diedre Dickinson CPA,<br>

<p>OTP to login to the websits is 723227. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 15314ms (Views: 1.3ms | ActiveRecord: 0.4ms | Allocations: 383084)


  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Nathaniel Howell"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:19:04.396108"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:19:04.403745"], ["updated_at", "2023-12-03 06:19:04.403745"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 233)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 462)
ApplicationMailer#send_otp: processed outbound mail in 7.0ms
Delivered mail 656c1dd89eb9d_79d512e89547c@itsupport-HP-ProBook-440-G7.mail (12.3ms)
Date: Sun, 03 Dec 2023 11:49:04 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1dd89eb9d_79d512e89547c@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Nathaniel Howell,<br>

<p>OTP to login to the websits is 039391. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 247ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 22265)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Fr. Candie Stracke"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:19:04.892683"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:19:04.897140"], ["updated_at", "2023-12-03 06:19:04.897140"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Foster Gerlach"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:19:22.414535"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:19:22.422964"], ["updated_at", "2023-12-03 06:19:22.422964"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 232)
  Rendered layout layouts/mailer.html.erb (Duration: 0.7ms | Allocations: 461)
ApplicationMailer#send_otp: processed outbound mail in 7.8ms
Delivered mail 656c1deaa9c60_7a6512e8597cc@itsupport-HP-ProBook-440-G7.mail (13.3ms)
Date: Sun, 03 Dec 2023 11:49:22 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1deaa9c60_7a6512e8597cc@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Foster Gerlach,<br>

<p>OTP to login to the websits is 511053. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 275ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 22190)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ressie King"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:19:22.946949"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:19:22.951189"], ["updated_at", "2023-12-03 06:19:22.951189"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 72]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 226ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 909)


  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Tommie Larkin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:21:21.612180"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:21:21.619956"], ["updated_at", "2023-12-03 06:21:21.619956"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 232)
  Rendered layout layouts/mailer.html.erb (Duration: 0.7ms | Allocations: 461)
ApplicationMailer#send_otp: processed outbound mail in 7.2ms
Delivered mail 656c1e61d1838_7b6512e8418b5@itsupport-HP-ProBook-440-G7.mail (13.6ms)
Date: Sun, 03 Dec 2023 11:51:21 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1e61d1838_7b6512e8418b5@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Tommie Larkin,<br>

<p>OTP to login to the websits is 846493. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 241ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 22190)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Andre Stamm"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:21:22.108467"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:21:22.113666"], ["updated_at", "2023-12-03 06:21:22.113666"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 74]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 250ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 909)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jewel Strosin VM"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:21:57.545689"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:21:57.553904"], ["updated_at", "2023-12-03 06:21:57.553904"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 233)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 462)
ApplicationMailer#send_otp: processed outbound mail in 7.1ms
Delivered mail 656c1e85c254b_7cb912e859461@itsupport-HP-ProBook-440-G7.mail (12.1ms)
Date: Sun, 03 Dec 2023 11:51:57 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1e85c254b_7cb912e859461@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Jewel Strosin VM,<br>

<p>OTP to login to the websits is 751993. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 22191)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Warner Balistreri"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:21:58.041040"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:21:58.046411"], ["updated_at", "2023-12-03 06:21:58.046411"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 76]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 243ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 910)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Rep. Tod Lakin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:23:03.234126"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:23:03.242094"], ["updated_at", "2023-12-03 06:23:03.242094"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 232)
  Rendered layout layouts/mailer.html.erb (Duration: 0.7ms | Allocations: 461)
ApplicationMailer#send_otp: processed outbound mail in 7.4ms
Delivered mail 656c1ec777402_7dd712e8-4aa@itsupport-HP-ProBook-440-G7.mail (13.2ms)
Date: Sun, 03 Dec 2023 11:53:03 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1ec777402_7dd712e8-4aa@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Rep. Tod Lakin,<br>

<p>OTP to login to the websits is 645766. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 247ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 22187)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Delsie Cummerata"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:23:03.734194"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:23:03.737947"], ["updated_at", "2023-12-03 06:23:03.737947"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 78]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 252ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 910)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Prof. Brett Reichel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:23:04.219633"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:23:04.222641"], ["updated_at", "2023-12-03 06:23:04.222641"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 200ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Eric O'Keefe"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:24:31.015796"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:24:31.023739"], ["updated_at", "2023-12-03 06:24:31.023739"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 232)
  Rendered layout layouts/mailer.html.erb (Duration: 7.9ms | Allocations: 461)
ApplicationMailer#send_otp: processed outbound mail in 15.1ms
Delivered mail 656c1f1f421fb_7eed12e8854d6@itsupport-HP-ProBook-440-G7.mail (12.5ms)
Date: Sun, 03 Dec 2023 11:54:31 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1f1f421fb_7eed12e8854d6@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Eric O&#39;Keefe,<br>

<p>OTP to login to the websits is 252797. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 248ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 22190)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Arnulfo Hane"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:24:31.515792"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:24:31.521361"], ["updated_at", "2023-12-03 06:24:31.521361"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 81]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 245ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 909)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Karoline Quigley"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:24:31.993276"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:24:31.996252"], ["updated_at", "2023-12-03 06:24:31.996252"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 197ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Kermit Mohr"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:24:32.398759"], ["updated_at", "2023-12-03 06:24:32.398759"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 587)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Victoria Moore"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:24:55.459747"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:24:55.467565"], ["updated_at", "2023-12-03 06:24:55.467565"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 232)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 461)
ApplicationMailer#send_otp: processed outbound mail in 7.1ms
Delivered mail 656c1f37ade3f_7f8112e8985dc@itsupport-HP-ProBook-440-G7.mail (12.6ms)
Date: Sun, 03 Dec 2023 11:54:55 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1f37ade3f_7f8112e8985dc@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Victoria Moore,<br>

<p>OTP to login to the websits is 458371. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 22179)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Kurtis Nicolas"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:24:55.961925"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:24:55.967017"], ["updated_at", "2023-12-03 06:24:55.967017"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 85]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 227ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 909)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Leonia Greenfelder"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:24:56.424332"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:24:56.427350"], ["updated_at", "2023-12-03 06:24:56.427350"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 207ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Dr. Alan Emard"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:24:56.865868"], ["updated_at", "2023-12-03 06:24:56.865868"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 594)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Wilford Cremin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:24:59.294741"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:24:59.302307"], ["updated_at", "2023-12-03 06:24:59.302307"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 232)
  Rendered layout layouts/mailer.html.erb (Duration: 0.7ms | Allocations: 461)
ApplicationMailer#send_otp: processed outbound mail in 8.9ms
Delivered mail 656c1f3b8a858_7feb12e86977@itsupport-HP-ProBook-440-G7.mail (13.9ms)
Date: Sun, 03 Dec 2023 11:54:59 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1f3b8a858_7feb12e86977@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Wilford Cremin,<br>

<p>OTP to login to the websits is 351401. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 267ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 22189)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Fran Beier"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:24:59.826912"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:24:59.831421"], ["updated_at", "2023-12-03 06:24:59.831421"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 89]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 229ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 909)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Melynda Larson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:25:00.284180"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:25:00.287062"], ["updated_at", "2023-12-03 06:25:00.287062"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 207ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Danelle Goodwin LLD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:25:00.721412"], ["updated_at", "2023-12-03 06:25:00.721412"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 594)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Rep. Floyd Walter"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:25:37.889369"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:25:37.897210"], ["updated_at", "2023-12-03 06:25:37.897210"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 233)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 462)
ApplicationMailer#send_otp: processed outbound mail in 7.0ms
Delivered mail 656c1f6223486_20812e8-42f@itsupport-HP-ProBook-440-G7.mail (12.2ms)
Date: Sun, 03 Dec 2023 11:55:38 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c1f6223486_20812e8-42f@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Rep. Floyd Walter,<br>

<p>OTP to login to the websits is 063634. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 248ms (Views: 0.6ms | ActiveRecord: 0.5ms | Allocations: 22191)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Harley Prohaska Jr."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:25:38.391808"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:25:38.398326"], ["updated_at", "2023-12-03 06:25:38.398326"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 93]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 250ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 910)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Loyd Auer"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:25:38.890448"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:25:38.893693"], ["updated_at", "2023-12-03 06:25:38.893693"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 204ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Lucienne Orn"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:25:39.322828"], ["updated_at", "2023-12-03 06:25:39.322828"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 594)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Nikita Rath"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:25:39.548374"], ["updated_at", "2023-12-03 06:25:39.548374"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 578)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Scotty Waelchi"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:30:45.936554"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:30:45.944411"], ["updated_at", "2023-12-03 06:30:45.944411"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Anderson Ryan"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:31:31.531114"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:31:31.538615"], ["updated_at", "2023-12-03 06:31:31.538615"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Lesley Schultz DO"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:31:44.757486"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:31:44.765142"], ["updated_at", "2023-12-03 06:31:44.765142"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Quinton Roob"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:31:57.907634"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:31:57.915098"], ["updated_at", "2023-12-03 06:31:57.915098"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Elmo Gibson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:32:10.977303"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:32:10.984676"], ["updated_at", "2023-12-03 06:32:10.984676"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"101"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Prof. Felipe Mosciski"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:32:23.995336"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:32:24.002788"], ["updated_at", "2023-12-03 06:32:24.002788"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"102"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Torrie Parker"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:33:41.822712"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:33:41.830343"], ["updated_at", "2023-12-03 06:33:41.830343"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"103"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1631)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Joan Koepp"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:33:55.086656"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:33:55.094324"], ["updated_at", "2023-12-03 06:33:55.094324"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"104"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1633)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Prof. Orlando Schamberger"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:34:11.499256"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:34:11.506888"], ["updated_at", "2023-12-03 06:34:11.506888"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"105"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Pres. Jackie Renner"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:34:31.492461"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:34:31.499917"], ["updated_at", "2023-12-03 06:34:31.499917"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"106"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Joana Zboncak CPA"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:34:31.736258"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:34:31.739164"], ["updated_at", "2023-12-03 06:34:31.739164"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"107"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 1.2ms | Allocations: 1267)


  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Eilene Oberbrunner II"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:36:23.128444"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:36:23.136250"], ["updated_at", "2023-12-03 06:36:23.136250"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"108"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Albertha Goodwin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:36:23.375459"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:36:23.378459"], ["updated_at", "2023-12-03 06:36:23.378459"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"109"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 709)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Forrest Wiegand"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:38:12.361237"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:38:12.369144"], ["updated_at", "2023-12-03 06:38:12.369144"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"110"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Kaila Kuhlman"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:38:12.610061"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:38:12.612779"], ["updated_at", "2023-12-03 06:38:12.612779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"111"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 709)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Julian Fay"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:38:12.825478"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:38:12.828477"], ["updated_at", "2023-12-03 06:38:12.828477"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"authy_enabled"=>"0", "id"=>"112"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms | Allocations: 618)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Dr. Joey Gleichner"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:38:13.042970"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:38:13.045733"], ["updated_at", "2023-12-03 06:38:13.045733"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"authy_enabled"=>"1", "id"=>"113"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 400 Bad Request in 1ms (ActiveRecord: 0.2ms | Allocations: 575)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Toby Heidenreich"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:38:35.332645"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:38:35.340244"], ["updated_at", "2023-12-03 06:38:35.340244"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"114"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Retta Ritchie"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:38:35.582744"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:38:35.585423"], ["updated_at", "2023-12-03 06:38:35.585423"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"115"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 709)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Msgr. Valentin Zboncak"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:38:35.803998"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:38:35.806855"], ["updated_at", "2023-12-03 06:38:35.806855"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jake Satterfield LLD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:38:36.023783"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:38:36.026624"], ["updated_at", "2023-12-03 06:38:36.026624"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Karan Hintz"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:39:16.203320"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:39:16.211227"], ["updated_at", "2023-12-03 06:39:16.211227"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"118"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1631)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Scarlet Kub"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:39:16.448038"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:39:16.450916"], ["updated_at", "2023-12-03 06:39:16.450916"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"119"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 709)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Sherry Gislason"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:39:16.659216"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:39:16.661983"], ["updated_at", "2023-12-03 06:39:16.661983"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"120"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 120], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 06:39:16.668394"], ["id", 120]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 3387)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ivory Fritsch"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:39:16.879918"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:39:16.882736"], ["updated_at", "2023-12-03 06:39:16.882736"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"121"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 121], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 2510)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Garland Ratke JD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:39:31.665213"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:39:31.673068"], ["updated_at", "2023-12-03 06:39:31.673068"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"122"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1634)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "The Hon. Abraham Spinka"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:39:31.923941"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:39:31.926875"], ["updated_at", "2023-12-03 06:39:31.926875"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"123"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 709)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Evelynn Balistreri"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:39:32.138069"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:39:32.141012"], ["updated_at", "2023-12-03 06:39:32.141012"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"124"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 124], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 06:39:32.147758"], ["id", 124]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 3388)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Lonny Ebert"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:39:32.361327"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:39:32.364218"], ["updated_at", "2023-12-03 06:39:32.364218"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"125"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 125], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 2510)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Eustolia Wilkinson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:39:55.990612"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:39:55.998172"], ["updated_at", "2023-12-03 06:39:55.998172"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"126"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ping Ortiz"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:39:56.232601"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:39:56.235589"], ["updated_at", "2023-12-03 06:39:56.235589"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"127"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 709)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Silva Yost"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:39:56.446691"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:39:56.449478"], ["updated_at", "2023-12-03 06:39:56.449478"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"128"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 128], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 06:39:56.456177"], ["id", 128]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 3387)


  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (3 levels) in <top (required)>'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Bradly Effertz"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:40:06.489717"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:40:06.493350"], ["updated_at", "2023-12-03 06:40:06.493350"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"129"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 129], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 2781)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jesus Rowe"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:40:31.752145"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:40:31.759940"], ["updated_at", "2023-12-03 06:40:31.759940"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"130"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1630)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Spencer Lebsack"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:40:32.005220"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:40:32.007966"], ["updated_at", "2023-12-03 06:40:32.007966"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"131"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 709)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Arnulfo Hodkiewicz"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:40:32.222553"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:40:32.225471"], ["updated_at", "2023-12-03 06:40:32.225471"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"132"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 132], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 06:40:32.232189"], ["id", 132]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 3388)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Donnie Ward"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:40:32.443947"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:40:32.446699"], ["updated_at", "2023-12-03 06:40:32.446699"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"133"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 133], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 2510)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Sam Lemke II"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:45:23.917852"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:45:23.925260"], ["updated_at", "2023-12-03 06:45:23.925260"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"134"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1633)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Domenic Hane"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:45:24.160597"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:45:24.163453"], ["updated_at", "2023-12-03 06:45:24.163453"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"135"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 709)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Lynn Turner"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:45:24.369834"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:45:24.372566"], ["updated_at", "2023-12-03 06:45:24.372566"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"136"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 136], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 06:45:24.379224"], ["id", 136]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 3387)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Heriberto Hegmann"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:45:24.583726"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:45:24.586353"], ["updated_at", "2023-12-03 06:45:24.586353"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"137"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 137], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.2ms | Allocations: 2511)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Mario Kuhlman IV"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:45:41.151727"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:45:41.159686"], ["updated_at", "2023-12-03 06:45:41.159686"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"138"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Mirna Fahey"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:45:41.411966"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:45:41.415227"], ["updated_at", "2023-12-03 06:45:41.415227"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"139"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 709)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jim Anderson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:45:41.626409"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:45:41.629399"], ["updated_at", "2023-12-03 06:45:41.629399"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"140"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 140], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 06:45:41.636127"], ["id", 140]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 3387)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Buster Stoltenberg PhD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:45:41.853345"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:45:41.856323"], ["updated_at", "2023-12-03 06:45:41.856323"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"141"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 141], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 2511)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Alanna Konopelski"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:45:42.081174"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:45:42.084085"], ["updated_at", "2023-12-03 06:45:42.084085"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"142", "user"=>{"password"=>"[FILTERED]"}}
Completed 404 Not Found in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 139)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Freda Mayert Jr."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:46:23.275549"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:46:23.283043"], ["updated_at", "2023-12-03 06:46:23.283043"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"143"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Diego Ebert VM"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:46:23.519912"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:46:23.522811"], ["updated_at", "2023-12-03 06:46:23.522811"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"144"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 709)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Agustin Terry"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:46:23.737944"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:46:23.740795"], ["updated_at", "2023-12-03 06:46:23.740795"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"145"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 145], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 06:46:23.747172"], ["id", 145]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 3387)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Matthew McKenzie"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:46:23.965944"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:46:23.968913"], ["updated_at", "2023-12-03 06:46:23.968913"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"146"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 146], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 2511)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Norman Vandervort"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:46:24.193641"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:46:24.196421"], ["updated_at", "2023-12-03 06:46:24.196421"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"147", "user"=>{"password"=>"[FILTERED]"}}
Completed 404 Not Found in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 139)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Dwayne Christiansen"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:46:39.007874"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:46:39.017291"], ["updated_at", "2023-12-03 06:46:39.017291"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"148"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
Completed 200 OK in 8290ms (Views: 0.9ms | ActiveRecord: 2.2ms | Allocations: 60223)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ray Treutel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:46:47.591016"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:46:47.594411"], ["updated_at", "2023-12-03 06:46:47.594411"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"149"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
Completed 200 OK in 4657ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 37580)


  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Nan Pfeffer"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:46:52.506886"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:46:52.509879"], ["updated_at", "2023-12-03 06:46:52.509879"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"150"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (8.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 150], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 06:46:56.636633"], ["id", 150]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 4133ms (Views: 0.2ms | ActiveRecord: 11.8ms | Allocations: 40267)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (7.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "The Hon. Abraham Cole"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:46:56.877297"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:46:56.886457"], ["updated_at", "2023-12-03 06:46:56.886457"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"151"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (7.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 151], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 2249ms (Views: 0.3ms | ActiveRecord: 10.2ms | Allocations: 39378)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Kirk Shanahan"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:46:59.372448"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:46:59.375576"], ["updated_at", "2023-12-03 06:46:59.375576"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"152", "user"=>{"password"=>"[FILTERED]"}}
Completed 404 Not Found in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 140)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Angel Pollich Esq."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:47:08.707803"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:47:08.715228"], ["updated_at", "2023-12-03 06:47:08.715228"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"153", "user"=>{"password"=>"[FILTERED]"}}
Completed 404 Not Found in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 323)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "The Hon. Clint Satterfield"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:49:18.727048"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:49:18.734859"], ["updated_at", "2023-12-03 06:49:18.734859"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Antwan O'Keefe"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:50:09.845659"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:50:09.853794"], ["updated_at", "2023-12-03 06:50:09.853794"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"155", "user"=>{"password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 155], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 216ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1472)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (3 levels) in <top (required)>'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (3 levels) in <top (required)>'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Greg Carroll"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:50:39.564749"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:50:39.571975"], ["updated_at", "2023-12-03 06:50:39.571975"]]
  ↳ (byebug):1:in `block (3 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (3 levels) in <top (required)>'
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"156", "user"=>{"password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 229ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1508)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Joselyn Prohaska"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:50:51.788620"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:50:51.796173"], ["updated_at", "2023-12-03 06:50:51.796173"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"157", "user"=>{"password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 157], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 215ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1472)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ms. Francesco Moore"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:51:04.799697"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:51:04.807412"], ["updated_at", "2023-12-03 06:51:04.807412"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"158"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1633)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ms. Viva Jones"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:51:05.048101"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:51:05.050946"], ["updated_at", "2023-12-03 06:51:05.050946"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"159"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 159], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 709)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Pete Dickinson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:51:05.262393"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:51:05.265177"], ["updated_at", "2023-12-03 06:51:05.265177"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"160"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 160], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 06:51:05.271942"], ["id", 160]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 3387)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Joshua Hayes"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:51:05.482381"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:51:05.485264"], ["updated_at", "2023-12-03 06:51:05.485264"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"161"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 161], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 2510)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Giselle Lemke"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:51:05.710025"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:51:05.713092"], ["updated_at", "2023-12-03 06:51:05.713092"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"162", "user"=>{"password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 207ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 811)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Elodia Schoen"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:52:47.085626"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:52:47.093680"], ["updated_at", "2023-12-03 06:52:47.093680"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"163"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 163], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Mitchell Klocko"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:52:47.332434"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:52:47.335469"], ["updated_at", "2023-12-03 06:52:47.335469"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"164"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 164], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 709)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Joanne Mraz"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:52:47.544423"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:52:47.547217"], ["updated_at", "2023-12-03 06:52:47.547217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"165"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 165], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 06:52:47.553845"], ["id", 165]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 3387)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Garrett Torphy"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:52:47.774723"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:52:47.778098"], ["updated_at", "2023-12-03 06:52:47.778098"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"166"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 166], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 2510)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Linn Greenholt"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:52:47.996838"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:52:47.999739"], ["updated_at", "2023-12-03 06:52:47.999739"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"167", "user"=>{"password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 209ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 811)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Daren Yost"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:52:48.439153"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:52:48.442504"], ["updated_at", "2023-12-03 06:52:48.442504"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"168", "user"=>{"password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 199ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 699)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Florencia Bednar"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:53:02.953209"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:53:02.961051"], ["updated_at", "2023-12-03 06:53:02.961051"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"169"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ezequiel Orn"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:53:03.213532"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:53:03.216512"], ["updated_at", "2023-12-03 06:53:03.216512"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"170"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 709)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Darron Olson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:53:03.425257"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:53:03.428176"], ["updated_at", "2023-12-03 06:53:03.428176"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"171"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 171], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 06:53:03.435098"], ["id", 171]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 3387)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Mr. Kelley Runte"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:53:03.643146"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:53:03.646039"], ["updated_at", "2023-12-03 06:53:03.646039"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"172"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 172], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 2511)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Virgen Hauck"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:53:03.867133"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:53:03.870081"], ["updated_at", "2023-12-03 06:53:03.870081"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"173", "user"=>{"password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 202ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 811)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Willian Carter"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:53:04.278555"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:53:04.281438"], ["updated_at", "2023-12-03 06:53:04.281438"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"174", "user"=>{"password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 198ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 699)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Rep. Nelle Marks"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:53:17.887321"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:53:17.895150"], ["updated_at", "2023-12-03 06:53:17.895150"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"175"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Garry Spencer"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:53:18.135728"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:53:18.138604"], ["updated_at", "2023-12-03 06:53:18.138604"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"176"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 707)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Napoleon Schoen"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:53:18.354241"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:53:18.357144"], ["updated_at", "2023-12-03 06:53:18.357144"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"177"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 177], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 06:53:18.363739"], ["id", 177]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 3387)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Austin Hansen"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:53:18.584903"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:53:18.587828"], ["updated_at", "2023-12-03 06:53:18.587828"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"178"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 178], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 2510)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Lavinia Jast"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:53:29.701595"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:53:29.709924"], ["updated_at", "2023-12-03 06:53:29.709924"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"179"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Trena Botsford"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:53:29.955417"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:53:29.958357"], ["updated_at", "2023-12-03 06:53:29.958357"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"180"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 709)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Gayle DuBuque"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:53:30.174004"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:53:30.177023"], ["updated_at", "2023-12-03 06:53:30.177023"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"181"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 181], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 06:53:30.184026"], ["id", 181]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 3387)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Nydia Pouros"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:53:30.399518"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:53:30.402355"], ["updated_at", "2023-12-03 06:53:30.402355"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"182"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 182], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 182], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 2510)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 182], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Wilford Barrows"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:54:12.073210"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:54:12.080462"], ["updated_at", "2023-12-03 06:54:12.080462"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"183"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 183], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Lee Kassulke IV"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:54:12.321564"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:54:12.324407"], ["updated_at", "2023-12-03 06:54:12.324407"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"184"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 184], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 709)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Celeste Boyle"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:54:12.542748"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:54:12.545799"], ["updated_at", "2023-12-03 06:54:12.545799"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"185"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 185], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 06:54:12.552786"], ["id", 185]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 3387)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Kelley Gulgowski"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:54:12.765973"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:54:12.768891"], ["updated_at", "2023-12-03 06:54:12.768891"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"186"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 186], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 2511)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Terrilyn Howe"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:54:12.996225"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:54:12.999342"], ["updated_at", "2023-12-03 06:54:12.999342"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"187", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 206ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 811)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Juliane Cruickshank III"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:54:13.416082"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:54:13.419020"], ["updated_at", "2023-12-03 06:54:13.419020"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"188", "user"=>{"password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 201ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 700)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Calvin Reinger"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:54:33.342068"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:54:33.350156"], ["updated_at", "2023-12-03 06:54:33.350156"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"189"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1635)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jay Okuneva"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:54:33.603742"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:54:33.606644"], ["updated_at", "2023-12-03 06:54:33.606644"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"190"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 707)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Gisela Armstrong"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:54:33.826398"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:54:33.829766"], ["updated_at", "2023-12-03 06:54:33.829766"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"191"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 191], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 06:54:33.837781"], ["id", 191]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 3388)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Msgr. Johnie Grimes"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:54:34.056071"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:54:34.058856"], ["updated_at", "2023-12-03 06:54:34.058856"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"192"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 192], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 2511)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Raleigh Armstrong"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:54:34.283103"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:54:34.286031"], ["updated_at", "2023-12-03 06:54:34.286031"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"193", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 200ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 811)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Eddy Heidenreich"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:54:34.693120"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:54:34.696049"], ["updated_at", "2023-12-03 06:54:34.696049"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"194", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 394ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 756)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Lani Pacocha V"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:55:25.793064"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:55:25.800923"], ["updated_at", "2023-12-03 06:55:25.800923"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"195", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 14751ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 60091)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Gregory Littel DVM"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:55:53.330141"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:55:53.337501"], ["updated_at", "2023-12-03 06:55:53.337501"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"196", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 196], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 19410ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 59703)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Gov. Emiko Klocko"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:56:12.991196"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:56:12.995095"], ["updated_at", "2023-12-03 06:56:12.995095"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"197", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 2209ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 37428)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Marion Waters"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:57:24.688075"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:57:24.695948"], ["updated_at", "2023-12-03 06:57:24.695948"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"198", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 198], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 213ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1472)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Gerardo Friesen"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:57:25.151292"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:57:25.154418"], ["updated_at", "2023-12-03 06:57:25.154418"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"199", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 199], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 416ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 760)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Juliann Lindgren"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:57:25.791991"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:57:25.795123"], ["updated_at", "2023-12-03 06:57:25.795123"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"200", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 200], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 608ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 3000)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Enrique Herman"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:57:52.497281"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:57:52.504971"], ["updated_at", "2023-12-03 06:57:52.504971"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"201", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 211ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1472)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Angelyn Turner"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:57:52.967748"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:57:52.970789"], ["updated_at", "2023-12-03 06:57:52.970789"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"202", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 407ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 760)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Miss Martin Barrows"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:57:53.587994"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:57:53.591001"], ["updated_at", "2023-12-03 06:57:53.591001"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"203", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 203], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 600ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 3000)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Janae Kovacek"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:58:16.600575"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:58:16.608418"], ["updated_at", "2023-12-03 06:58:16.608418"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"204", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 211ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1472)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Larisa Hayes"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:58:17.061133"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:58:17.064279"], ["updated_at", "2023-12-03 06:58:17.064279"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"205", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 405ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 760)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Laverne Murphy"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:58:17.681739"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:58:17.684785"], ["updated_at", "2023-12-03 06:58:17.684785"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"206", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 206], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 604ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 2999)


  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (3 levels) in <top (required)>'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (3 levels) in <top (required)>'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Amb. Jillian Larson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:58:36.003275"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:58:36.011433"], ["updated_at", "2023-12-03 06:58:36.011433"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"207", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 208ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1472)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Rev. Rudy Zemlak"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:58:36.452525"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:58:36.455673"], ["updated_at", "2023-12-03 06:58:36.455673"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"208", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 434ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 760)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Antone Bruen"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:58:37.101820"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:58:37.104730"], ["updated_at", "2023-12-03 06:58:37.104730"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"209", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 209], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 592ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 2999)


  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ernest Grady"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:59:07.451168"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:59:07.458965"], ["updated_at", "2023-12-03 06:59:07.458965"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"210", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 210], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 221ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1472)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ariane Adams LLD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:59:07.947194"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:59:07.952001"], ["updated_at", "2023-12-03 06:59:07.952001"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"211", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 211], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 455ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 760)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Deandre Klein PhD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:59:08.624871"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:59:08.627916"], ["updated_at", "2023-12-03 06:59:08.627916"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"212", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 212], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 212], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 585ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 3000)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Holley Erdman DC"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:59:46.281508"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:59:46.289209"], ["updated_at", "2023-12-03 06:59:46.289209"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"213", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 213], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 208ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1472)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Cornell O'Reilly"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:59:46.742176"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:59:46.745591"], ["updated_at", "2023-12-03 06:59:46.745591"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"214", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 214], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 409ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 760)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Sen. Kera Ebert"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:59:47.366495"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:59:47.369419"], ["updated_at", "2023-12-03 06:59:47.369419"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"215", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 215], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 215], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 597ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 2999)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Stephane Sawayn"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 06:59:48.181097"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 06:59:48.184897"], ["updated_at", "2023-12-03 06:59:48.184897"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"216", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 216], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 216], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 582ms (Views: 0.6ms | ActiveRecord: 1.9ms | Allocations: 3241)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Sherryl Wehner"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:00:05.592955"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:00:05.600639"], ["updated_at", "2023-12-03 07:00:05.600639"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"217", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 217], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 206ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1472)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Tenisha Kunde"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:00:06.054046"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:00:06.057537"], ["updated_at", "2023-12-03 07:00:06.057537"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"218", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 218], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 408ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 760)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Kimberli Mosciski"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:00:06.687115"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:00:06.690361"], ["updated_at", "2023-12-03 07:00:06.690361"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"219", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 219], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 598ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 3000)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Gov. Kelvin Herzog"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:00:07.506302"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:00:07.509385"], ["updated_at", "2023-12-03 07:00:07.509385"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"220", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 220], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 220], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 602ms (Views: 0.6ms | ActiveRecord: 1.9ms | Allocations: 3242)


  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jackqueline Rolfson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:00:45.001343"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:00:45.008685"], ["updated_at", "2023-12-03 07:00:45.008685"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"221", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 207ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1473)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jaye Marvin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:00:45.452687"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:00:45.455664"], ["updated_at", "2023-12-03 07:00:45.455664"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"222", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 397ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 760)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Talitha Kshlerin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:00:46.073062"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:00:46.075999"], ["updated_at", "2023-12-03 07:00:46.075999"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"223", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 223], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 598ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 3000)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Detra Ryan Sr."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:00:46.881041"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:00:46.884024"], ["updated_at", "2023-12-03 07:00:46.884024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"224", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 224], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 224], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 599ms (Views: 0.6ms | ActiveRecord: 1.6ms | Allocations: 3241)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Miles Kshlerin Ret."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:10.554017"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:10.561711"], ["updated_at", "2023-12-03 07:02:10.561711"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"225", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 225], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 212ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1472)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Sen. Londa Mueller"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:11.003891"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:11.006949"], ["updated_at", "2023-12-03 07:02:11.006949"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"226", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 226], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 399ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 760)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Msgr. Raul Hane"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:11.613117"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:11.616394"], ["updated_at", "2023-12-03 07:02:11.616394"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"227", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 227], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 227], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 595ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 2999)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Mignon Maggio"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:12.425955"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:12.429026"], ["updated_at", "2023-12-03 07:02:12.429026"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"228", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 228], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 228], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 600ms (Views: 0.6ms | ActiveRecord: 1.7ms | Allocations: 3241)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jermaine Nikolaus"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:13.242666"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:13.245646"], ["updated_at", "2023-12-03 07:02:13.245646"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"229", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 229], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 229], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-03 07:02:13.856458"], ["id", 229]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 200 OK in 609ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 3501)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Roselee Weber"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:27.518660"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:27.526474"], ["updated_at", "2023-12-03 07:02:27.526474"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 232)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 461)
ApplicationMailer#send_otp: processed outbound mail in 7.0ms
Delivered mail 656c2803be6f4_1a3e12e8-4bb@itsupport-HP-ProBook-440-G7.mail (23.5ms)
Date: Sun, 03 Dec 2023 12:32:27 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c2803be6f4_1a3e12e8-4bb@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Roselee Weber,<br>

<p>OTP to login to the websits is 328336. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 266ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 22189)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Kenneth Maggio"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:28.038720"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:28.044601"], ["updated_at", "2023-12-03 07:02:28.044601"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 231]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 235ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 908)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Felipe Huels"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:28.502939"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:28.506181"], ["updated_at", "2023-12-03 07:02:28.506181"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 201ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Devon Tremblay"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:28.916891"], ["updated_at", "2023-12-03 07:02:28.916891"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 594)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Gov. Daniel Wunsch"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:29.129909"], ["updated_at", "2023-12-03 07:02:29.129909"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 578)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Frank Anderson DO"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:29.357465"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:29.361540"], ["updated_at", "2023-12-03 07:02:29.361540"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"235"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 235], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 910)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Twyla Leffler DDS"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:29.605218"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:29.608109"], ["updated_at", "2023-12-03 07:02:29.608109"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"236"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 236], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 695)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Tyron Greenholt CPA"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:29.841901"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:29.844943"], ["updated_at", "2023-12-03 07:02:29.844943"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"237"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 237], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 237], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 07:02:29.852527"], ["id", 237]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.3ms | Allocations: 3251)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 237], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Earnest Hilll"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:30.086816"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:30.097741"], ["updated_at", "2023-12-03 07:02:30.097741"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"238"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 238], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 238], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 2506)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 238], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Kirk Effertz"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:30.358295"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:30.361385"], ["updated_at", "2023-12-03 07:02:30.361385"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"239", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 239], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 208ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 799)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Troy Lemke"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:30.778195"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:30.782374"], ["updated_at", "2023-12-03 07:02:30.782374"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"240", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 240], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 390ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 752)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Aretha Okuneva Esq."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:31.381500"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:31.384307"], ["updated_at", "2023-12-03 07:02:31.384307"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"241", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 241], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 241], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 631ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 2889)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Malcom Senger CPA"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:32.251839"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:32.256390"], ["updated_at", "2023-12-03 07:02:32.256390"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"242", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 242], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 242], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 664ms (Views: 0.8ms | ActiveRecord: 2.5ms | Allocations: 3238)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Samual Wunsch"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:02:33.153490"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:02:33.156960"], ["updated_at", "2023-12-03 07:02:33.156960"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"243", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 243], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 243], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-03 07:02:33.795375"], ["id", 243]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 200 OK in 636ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 3343)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "The Hon. Carylon Kemmer"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:04:40.459837"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:04:40.467810"], ["updated_at", "2023-12-03 07:04:40.467810"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 233)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 462)
ApplicationMailer#send_otp: processed outbound mail in 7.2ms
Delivered mail 656c2888b13f2_1b9312e89064b@itsupport-HP-ProBook-440-G7.mail (12.5ms)
Date: Sun, 03 Dec 2023 12:34:40 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c2888b13f2_1b9312e89064b@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi The Hon. Carylon Kemmer,<br>

<p>OTP to login to the websits is 150497. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 258ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 22193)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Emmitt Keebler"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:04:40.976570"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:04:40.981187"], ["updated_at", "2023-12-03 07:04:40.981187"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 245]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 237ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 908)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Mrs. Neva Bailey"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:04:41.444585"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:04:41.448347"], ["updated_at", "2023-12-03 07:04:41.448347"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 210ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Werner Quigley"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:04:41.875097"], ["updated_at", "2023-12-03 07:04:41.875097"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 594)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Amb. Woodrow Tillman"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:04:42.087131"], ["updated_at", "2023-12-03 07:04:42.087131"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 578)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Douglass Botsford"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:04:42.304310"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:04:42.307248"], ["updated_at", "2023-12-03 07:04:42.307248"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"249"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 249], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 910)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Myong Johns"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:04:42.524216"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:04:42.527167"], ["updated_at", "2023-12-03 07:04:42.527167"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"250"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 250], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 702)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Thuy Orn"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:04:42.735539"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:04:42.738393"], ["updated_at", "2023-12-03 07:04:42.738393"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"251"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 251], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 251], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 07:04:42.745007"], ["id", 251]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 3250)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 251], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Coleman Schultz"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:04:42.951868"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:04:42.960428"], ["updated_at", "2023-12-03 07:04:42.960428"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"252"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 252], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 252], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 2506)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 252], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Miss Trey Oberbrunner"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:04:43.173726"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:04:43.176969"], ["updated_at", "2023-12-03 07:04:43.176969"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"253", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 253], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 199ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 799)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Loreta Schowalter"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:04:43.584376"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:04:43.587311"], ["updated_at", "2023-12-03 07:04:43.587311"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"254", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 254], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 386ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 752)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Sherwood Bailey"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:04:44.178885"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:04:44.181861"], ["updated_at", "2023-12-03 07:04:44.181861"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"255", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 255], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 255], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 584ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 2888)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Parker Hauck"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:04:44.975284"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:04:44.978157"], ["updated_at", "2023-12-03 07:04:44.978157"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"256", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 256], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 256], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 600ms (Views: 0.6ms | ActiveRecord: 1.7ms | Allocations: 3237)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Breanne Rath"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:04:45.784711"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:04:45.787520"], ["updated_at", "2023-12-03 07:04:45.787520"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"257", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 257], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 257], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-03 07:04:46.376420"], ["id", 257]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 200 OK in 587ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 3343)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Hugh Dooley DDS"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:06:24.512750"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:06:24.520717"], ["updated_at", "2023-12-03 07:06:24.520717"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 232)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 461)
ApplicationMailer#send_otp: processed outbound mail in 7.3ms
Delivered mail 656c28f0be0ba_1ca512e8859f2@itsupport-HP-ProBook-440-G7.mail (12.5ms)
Date: Sun, 03 Dec 2023 12:36:24 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c28f0be0ba_1ca512e8859f2@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Hugh Dooley DDS,<br>

<p>OTP to login to the websits is 364538. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 258ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 22192)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Von Wiza"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:06:25.022450"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:06:25.027314"], ["updated_at", "2023-12-03 07:06:25.027314"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 259]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 236ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 908)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Kandra Conn"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:06:25.487944"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:06:25.491186"], ["updated_at", "2023-12-03 07:06:25.491186"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 201ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Garrett Strosin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:06:25.908320"], ["updated_at", "2023-12-03 07:06:25.908320"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 594)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Earlene Daniel"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:06:26.123937"], ["updated_at", "2023-12-03 07:06:26.123937"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 578)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Gov. Josue Tremblay"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:06:26.338516"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:06:26.341808"], ["updated_at", "2023-12-03 07:06:26.341808"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"263"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 263], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 910)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Columbus Sauer V"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:06:26.563345"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:06:26.566205"], ["updated_at", "2023-12-03 07:06:26.566205"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"264"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 264], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 698)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Cyrus Langworth"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:06:26.780205"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:06:26.782952"], ["updated_at", "2023-12-03 07:06:26.782952"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"265"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 265], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 265], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 07:06:26.789717"], ["id", 265]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 3250)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 265], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jannie Frami"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:06:27.006090"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:06:27.014217"], ["updated_at", "2023-12-03 07:06:27.014217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"266"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 266], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 266], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 2506)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 266], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Sang Nienow PhD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:06:27.245169"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:06:27.248265"], ["updated_at", "2023-12-03 07:06:27.248265"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"267", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 267], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 214ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 799)


  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Johnathan Labadie"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:06:27.686239"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:06:27.690099"], ["updated_at", "2023-12-03 07:06:27.690099"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"268", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 268], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 415ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 752)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Rep. Kati Kutch"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:06:28.313847"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:06:28.316697"], ["updated_at", "2023-12-03 07:06:28.316697"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"269", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 269], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 269], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 599ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 2888)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Leilani Towne"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:06:29.130766"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:06:29.133574"], ["updated_at", "2023-12-03 07:06:29.133574"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"270", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 270], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 270], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 603ms (Views: 0.6ms | ActiveRecord: 1.6ms | Allocations: 3237)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Dierdre Thompson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:06:29.950373"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:06:29.953550"], ["updated_at", "2023-12-03 07:06:29.953550"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"271", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 271], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 271], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-03 07:06:30.577668"], ["id", 271]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 200 OK in 622ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 3344)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Melaine Stanton"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:15.929219"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:15.936915"], ["updated_at", "2023-12-03 07:08:15.936915"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 232)
  Rendered layout layouts/mailer.html.erb (Duration: 0.7ms | Allocations: 461)
ApplicationMailer#send_otp: processed outbound mail in 8.4ms
Delivered mail 656c29602ed68_1e2912e83939@itsupport-HP-ProBook-440-G7.mail (15.5ms)
Date: Sun, 03 Dec 2023 12:38:16 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c29602ed68_1e2912e83939@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Melaine Stanton,<br>

<p>OTP to login to the websits is 987287. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 257ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 22190)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "John Jast VM"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:16.454300"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:16.462057"], ["updated_at", "2023-12-03 07:08:16.462057"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 273]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 246ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 908)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "The Hon. Wilfred Kutch"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:16.928273"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:16.931552"], ["updated_at", "2023-12-03 07:08:16.931552"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 201ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Juan Stamm"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:17.346508"], ["updated_at", "2023-12-03 07:08:17.346508"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 594)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Rex Hackett"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:17.557971"], ["updated_at", "2023-12-03 07:08:17.557971"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 578)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Agnes Runte"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:17.782114"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:17.785051"], ["updated_at", "2023-12-03 07:08:17.785051"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"277"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 277], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 910)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Markita Mann"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:18.001079"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:18.003825"], ["updated_at", "2023-12-03 07:08:18.003825"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"278"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 278], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 698)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Marylyn Bogan"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:18.208586"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:18.228377"], ["updated_at", "2023-12-03 07:08:18.228377"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"279"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 279], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 07:08:18.236711"], ["id", 279]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 3250)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "John Schinner"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:18.460251"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:18.464749"], ["updated_at", "2023-12-03 07:08:18.464749"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"280"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 280], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 280], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 2506)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 280], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Kaci Paucek"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:18.697746"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:18.700607"], ["updated_at", "2023-12-03 07:08:18.700607"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"281", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 281], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 205ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 799)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Arlie Macejkovic"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:19.126299"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:19.129888"], ["updated_at", "2023-12-03 07:08:19.129888"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"282", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 282], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 393ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 752)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Margert Berge"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:19.732973"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:19.736428"], ["updated_at", "2023-12-03 07:08:19.736428"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"283", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 283], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 283], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 626ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 2888)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Cleopatra Sporer"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:20.583777"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:20.587418"], ["updated_at", "2023-12-03 07:08:20.587418"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"284", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 284], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 284], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 608ms (Views: 0.6ms | ActiveRecord: 1.8ms | Allocations: 3238)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Larry Halvorson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:21.407568"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:21.410561"], ["updated_at", "2023-12-03 07:08:21.410561"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"285", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 285], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 285], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-03 07:08:22.009895"], ["id", 285]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 200 OK in 595ms (Views: 0.1ms | ActiveRecord: 2.7ms | Allocations: 3343)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Thelma Reilly"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:25.228782"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:25.236494"], ["updated_at", "2023-12-03 07:08:25.236494"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 232)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 461)
ApplicationMailer#send_otp: processed outbound mail in 7.3ms
Delivered mail 656c2969799c6_1eec12e8-457@itsupport-HP-ProBook-440-G7.mail (20.6ms)
Date: Sun, 03 Dec 2023 12:38:25 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c2969799c6_1eec12e8-457@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Thelma Reilly,<br>

<p>OTP to login to the websits is 664246. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 271ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 22191)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Vernia Kassulke"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:25.751881"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:25.757254"], ["updated_at", "2023-12-03 07:08:25.757254"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 287]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 226ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 908)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Mr. Neida Johnson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:26.214401"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:26.217593"], ["updated_at", "2023-12-03 07:08:26.217593"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 220ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Maisha Halvorson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:26.663600"], ["updated_at", "2023-12-03 07:08:26.663600"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 594)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Temeka Lubowitz"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:26.887784"], ["updated_at", "2023-12-03 07:08:26.887784"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 578)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "The Hon. Alan Mayer"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:27.115064"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:27.118100"], ["updated_at", "2023-12-03 07:08:27.118100"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"291"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 910)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Edgar Wintheiser"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:27.337477"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:27.340366"], ["updated_at", "2023-12-03 07:08:27.340366"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"292"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 702)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ian Jakubowski"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:27.551669"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:27.554734"], ["updated_at", "2023-12-03 07:08:27.554734"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"293"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 293], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 293], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 07:08:27.562281"], ["id", 293]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.2ms | Allocations: 3250)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 293], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Elwood Crona"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:27.775165"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:27.783829"], ["updated_at", "2023-12-03 07:08:27.783829"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"294"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 294], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 294], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 2506)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 294], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Donte Ondricka"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:28.010251"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:28.013248"], ["updated_at", "2023-12-03 07:08:28.013248"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"295", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 295], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 214ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 799)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ginette Effertz"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:28.439608"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:28.442698"], ["updated_at", "2023-12-03 07:08:28.442698"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"296", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 296], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 395ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 752)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Moon Wisozk III"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:29.048131"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:29.051620"], ["updated_at", "2023-12-03 07:08:29.051620"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"297", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 297], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 297], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 608ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 2888)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Guy Kerluke"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:29.883884"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:29.886796"], ["updated_at", "2023-12-03 07:08:29.886796"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"298", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 298], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 607ms (Views: 0.6ms | ActiveRecord: 1.8ms | Allocations: 3237)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Mrs. Lashell Goldner"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:08:30.706430"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:08:30.709377"], ["updated_at", "2023-12-03 07:08:30.709377"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"299", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 299], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 299], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-03 07:08:31.348855"], ["id", 299]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 200 OK in 638ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 3344)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Sen. Huey Hansen"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:09:48.777605"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:09:48.785540"], ["updated_at", "2023-12-03 07:09:48.785540"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 233)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 462)
ApplicationMailer#send_otp: processed outbound mail in 7.1ms
Delivered mail 656c29bdc825_201f12e8308e0@itsupport-HP-ProBook-440-G7.mail (12.7ms)
Date: Sun, 03 Dec 2023 12:39:49 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c29bdc825_201f12e8308e0@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Sen. Huey Hansen,<br>

<p>OTP to login to the websits is 584636. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 266ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 22191)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jena Lind"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:09:49.296804"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:09:49.300678"], ["updated_at", "2023-12-03 07:09:49.300678"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 301]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 225ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 908)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Guillermo Effertz"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:09:49.746627"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:09:49.749779"], ["updated_at", "2023-12-03 07:09:49.749779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 210ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Gail Pouros"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:09:50.178289"], ["updated_at", "2023-12-03 07:09:50.178289"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 594)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Brunilda Nader V"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:09:50.396272"], ["updated_at", "2023-12-03 07:09:50.396272"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 578)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ms. Candy McGlynn"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:09:50.609560"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:09:50.612581"], ["updated_at", "2023-12-03 07:09:50.612581"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"305"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 305], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 910)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Lan Grimes II"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:09:50.828284"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:09:50.831204"], ["updated_at", "2023-12-03 07:09:50.831204"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"306"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 306], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 702)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ross Leffler"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:09:51.053974"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:09:51.056964"], ["updated_at", "2023-12-03 07:09:51.056964"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"307"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 307], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 307], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 07:09:51.064049"], ["id", 307]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 3250)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 307], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Carson Gerhold"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:09:51.287663"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:09:51.296228"], ["updated_at", "2023-12-03 07:09:51.296228"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"308"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 308], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 308], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 2506)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 308], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jordon O'Reilly"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:09:51.519016"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:09:51.522069"], ["updated_at", "2023-12-03 07:09:51.522069"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"309", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 309], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 208ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 799)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Lu Pacocha"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:09:51.958190"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:09:51.960979"], ["updated_at", "2023-12-03 07:09:51.960979"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"310", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 310], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 406ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 752)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jackie Bernhard"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:09:52.577602"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:09:52.580776"], ["updated_at", "2023-12-03 07:09:52.580776"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"311", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 311], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 311], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 590ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 2888)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Frances Walter"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:09:53.383754"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:09:53.387018"], ["updated_at", "2023-12-03 07:09:53.387018"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"312", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 312], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 312], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 624ms (Views: 0.7ms | ActiveRecord: 1.8ms | Allocations: 3237)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Micha Franecki"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:09:54.234432"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:09:54.238002"], ["updated_at", "2023-12-03 07:09:54.238002"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"313", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 313], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 313], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-03 07:09:54.851804"], ["id", 313]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 200 OK in 612ms (Views: 0.1ms | ActiveRecord: 2.2ms | Allocations: 3343)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ewa Gutmann"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:10:40.667033"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:10:40.674904"], ["updated_at", "2023-12-03 07:10:40.674904"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 232)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 461)
ApplicationMailer#send_otp: processed outbound mail in 7.2ms
Delivered mail 656c29f0e1c0e_20dd12e8517f3@itsupport-HP-ProBook-440-G7.mail (12.1ms)
Date: Sun, 03 Dec 2023 12:40:40 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c29f0e1c0e_20dd12e8517f3@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Ewa Gutmann,<br>

<p>OTP to login to the websits is 159312. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 250ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 22190)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Dennis Breitenberg"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:10:41.172461"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:10:41.176568"], ["updated_at", "2023-12-03 07:10:41.176568"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 315]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 237ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 909)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Amb. Adam Rice"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:10:41.637276"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:10:41.640542"], ["updated_at", "2023-12-03 07:10:41.640542"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 204ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Shelba Lakin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:10:42.057422"], ["updated_at", "2023-12-03 07:10:42.057422"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 594)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Columbus Weissnat"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:10:42.290145"], ["updated_at", "2023-12-03 07:10:42.290145"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 578)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Ira Fay III"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:10:42.505531"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:10:42.508603"], ["updated_at", "2023-12-03 07:10:42.508603"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"319"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 319], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 910)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Denny Gusikowski"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:10:42.723996"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:10:42.726740"], ["updated_at", "2023-12-03 07:10:42.726740"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"320"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 320], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 702)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Treena Balistreri"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:10:42.953630"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:10:42.973285"], ["updated_at", "2023-12-03 07:10:42.973285"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"321"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 321], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 321], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 07:10:42.984026"], ["id", 321]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 2.6ms | Allocations: 3251)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 321], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Manuel Mitchell III"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:10:43.206624"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:10:43.210605"], ["updated_at", "2023-12-03 07:10:43.210605"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"322"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 322], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 2507)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Maricruz Swift"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:10:43.450105"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:10:43.453119"], ["updated_at", "2023-12-03 07:10:43.453119"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"323", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 217ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 799)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Damon McGlynn"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:10:43.892432"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:10:43.896143"], ["updated_at", "2023-12-03 07:10:43.896143"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"324", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 324], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 428ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 752)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Gretchen Swaniawski"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:10:44.561861"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:10:44.564999"], ["updated_at", "2023-12-03 07:10:44.564999"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"325", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 325], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 325], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 688ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2889)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Flo Hamill"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:10:45.485267"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:10:45.488721"], ["updated_at", "2023-12-03 07:10:45.488721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"326", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 326], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 326], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 651ms (Views: 0.8ms | ActiveRecord: 1.5ms | Allocations: 3237)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Kareem Flatley"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:10:46.369806"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:10:46.373114"], ["updated_at", "2023-12-03 07:10:46.373114"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"327", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 327], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 327], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-03 07:10:47.043728"], ["id", 327]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 200 OK in 666ms (Views: 0.1ms | ActiveRecord: 3.0ms | Allocations: 3343)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Josiah McCullough"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:11:11.374082"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:11.382825"], ["updated_at", "2023-12-03 07:11:11.382825"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 233)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 462)
ApplicationMailer#send_otp: processed outbound mail in 7.1ms
Delivered mail 656c2a0f9c572_217712e834bc@itsupport-HP-ProBook-440-G7.mail (12.7ms)
Date: Sun, 03 Dec 2023 12:41:11 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c2a0f9c572_217712e834bc@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Josiah McCullough,<br>

<p>OTP to login to the websits is 704536. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 259ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 22193)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Marry Ward JD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:11:11.891784"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:11.896959"], ["updated_at", "2023-12-03 07:11:11.896959"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 329]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 235ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 908)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Scottie Deckow"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:11:12.348724"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:12.351942"], ["updated_at", "2023-12-03 07:11:12.351942"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 203ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Malik Morissette DC"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:12.777246"], ["updated_at", "2023-12-03 07:11:12.777246"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 594)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Rueben Ledner"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:13.011477"], ["updated_at", "2023-12-03 07:11:13.011477"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 578)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Viola Barton"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:11:13.235926"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:13.238890"], ["updated_at", "2023-12-03 07:11:13.238890"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"333"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 333], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 910)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Cristobal Pagac"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:11:13.449708"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:13.452399"], ["updated_at", "2023-12-03 07:11:13.452399"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"334"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 334], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 702)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jacqualine Herman"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:11:13.672689"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:13.675771"], ["updated_at", "2023-12-03 07:11:13.675771"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"335"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 335], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 335], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 07:11:13.684593"], ["id", 335]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.8ms | Allocations: 3251)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 335], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Truman Brekke"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:11:13.907601"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:13.916478"], ["updated_at", "2023-12-03 07:11:13.916478"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"336"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 336], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:65:in `set_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 336], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:55:in `update'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.3ms | Allocations: 2506)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 336], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Nathaniel Ward CPA"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:11:14.158261"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:14.161826"], ["updated_at", "2023-12-03 07:11:14.161826"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"337", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 337], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 206ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 799)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Prof. Heidy Barrows"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:11:14.584458"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:14.588609"], ["updated_at", "2023-12-03 07:11:14.588609"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"338", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 338], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 413ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 752)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Reinaldo O'Connell"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:11:15.216446"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:15.219816"], ["updated_at", "2023-12-03 07:11:15.219816"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"339", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 339], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 339], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 626ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 2889)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Msgr. Max Murray"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:11:16.055539"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:16.058346"], ["updated_at", "2023-12-03 07:11:16.058346"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"340", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 340], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 340], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 422 Unprocessable Entity in 585ms (Views: 0.6ms | ActiveRecord: 1.7ms | Allocations: 3238)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Soraya Dickens"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:11:16.847021"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:16.849928"], ["updated_at", "2023-12-03 07:11:16.849928"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"341", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 341], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 341], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-03 07:11:17.515891"], ["id", 341]]
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:43:in `change_password'
Completed 200 OK in 666ms (Views: 0.2ms | ActiveRecord: 3.7ms | Allocations: 3343)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"marion_ryan@gulgowski-hettinger.example", "name"=>"Pres. Gerardo Ritchie", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "marion_ryan@gulgowski-hettinger.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Pres. Gerardo Ritchie"], ["email", "marion_ryan@gulgowski-hettinger.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:44.657828"], ["updated_at", "2023-12-03 07:11:44.657828"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.6ms | Allocations: 365)
  Rendered layout layouts/mailer.html.erb (Duration: 1.0ms | Allocations: 593)
ApplicationMailer#send_confirmation_email: processed outbound mail in 8.8ms
Delivered mail 656c2a30a7017_221412e85647f@itsupport-HP-ProBook-440-G7.mail (12.8ms)
Date: Sun, 03 Dec 2023 12:41:44 +0530
From: from@example.com
To: marion_ryan@gulgowski-hettinger.example
Message-ID: <656c2a30a7017_221412e85647f@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Pres. Gerardo Ritchie,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=inJX_TEN1G6FoSAHDwjBYg">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 287ms (Views: 0.5ms | ActiveRecord: 4.4ms | Allocations: 39110)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"christoper.johnson@stoltenberg-toy.test", "name"=>"Harlan Shields", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "christoper.johnson@stoltenberg-toy.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Harlan Shields"], ["email", "christoper.johnson@stoltenberg-toy.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:44.958801"], ["updated_at", "2023-12-03 07:11:44.958801"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.3ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.3ms
Delivered mail 656c2a30eb6ca_221412e8565bf@itsupport-HP-ProBook-440-G7.mail (9.1ms)
Date: Sun, 03 Dec 2023 12:41:44 +0530
From: from@example.com
To: christoper.johnson@stoltenberg-toy.test
Message-ID: <656c2a30eb6ca_221412e8565bf@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Harlan Shields,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=496eVGTScT6zzwP6Z9bUnQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 271ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 8360)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"hollis@upton-macgyver.example", "name"=>"Julia Mohr IV", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "hollis@upton-macgyver.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 279ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 2156)


  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"cary.rolfson@schiller.example", "name"=>"Mr. Elly Turner", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "cary.rolfson@schiller.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 249ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 2090)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "jean.schulist@hessel-hermiston.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Delbert Price"], ["email", "jean.schulist@hessel-hermiston.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:11:45.742376"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:45.746001"], ["updated_at", "2023-12-03 07:11:45.746001"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:15:in `confirm_user'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2023-12-03 07:11:45.752425"], ["id", 344]]
  ↳ app/controllers/api/registrations_controller.rb:17:in `confirm_user'
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.0ms | Allocations: 1368)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:15:in `confirm_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 536)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"edmond@lubowitz.example", "name"=>"Javier Flatley", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "edmond@lubowitz.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Javier Flatley"], ["email", "edmond@lubowitz.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:56.552748"], ["updated_at", "2023-12-03 07:11:56.552748"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 365)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 593)
ApplicationMailer#send_confirmation_email: processed outbound mail in 8.3ms
Delivered mail 656c2a3c8d088_22fb12e8174b@itsupport-HP-ProBook-440-G7.mail (11.9ms)
Date: Sun, 03 Dec 2023 12:41:56 +0530
From: from@example.com
To: edmond@lubowitz.example
Message-ID: <656c2a3c8d088_22fb12e8174b@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Javier Flatley,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=tfMIy2ZaguCQrmwk9J1weQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 288ms (Views: 0.5ms | ActiveRecord: 4.5ms | Allocations: 39025)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"curt@kshlerin-waelchi.example", "name"=>"Nigel Rowe", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "curt@kshlerin-waelchi.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Nigel Rowe"], ["email", "curt@kshlerin-waelchi.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:56.832489"], ["updated_at", "2023-12-03 07:11:56.832489"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.4ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 1.3ms
Delivered mail 656c2a3ccc558_22fb12e8187b@itsupport-HP-ProBook-440-G7.mail (11.3ms)
Date: Sun, 03 Dec 2023 12:41:56 +0530
From: from@example.com
To: curt@kshlerin-waelchi.example
Message-ID: <656c2a3ccc558_22fb12e8187b@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Nigel Rowe,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=sGO4jNdRri_HJ7Y_GiHZAA">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 252ms (Views: 0.3ms | ActiveRecord: 2.7ms | Allocations: 8408)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"malena@heaney.test", "name"=>"Jarvis Kub", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "malena@heaney.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 249ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 2156)


  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"ariel_kreiger@kassulke.test", "name"=>"Jeremy Baumbach", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "ariel_kreiger@kassulke.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 230ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 2090)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "sook.luettgen@halvorson.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Weldon Kautzer"], ["email", "sook.luettgen@halvorson.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:11:57.558419"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:11:57.561411"], ["updated_at", "2023-12-03 07:11:57.561411"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:15:in `confirm_user'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2023-12-03 07:11:57.566647"], ["id", 347]]
  ↳ app/controllers/api/registrations_controller.rb:17:in `confirm_user'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 1368)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:15:in `confirm_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 536)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"ismael.hilpert@dach.test", "name"=>"Rex Lind MD", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "ismael.hilpert@dach.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Rex Lind MD"], ["email", "ismael.hilpert@dach.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:13:41.764444"], ["updated_at", "2023-12-03 07:13:41.764444"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.6ms | Allocations: 365)
  Rendered layout layouts/mailer.html.erb (Duration: 1.1ms | Allocations: 593)
ApplicationMailer#send_confirmation_email: processed outbound mail in 9.0ms
Delivered mail 656c2aa5c13f0_249712e89855c@itsupport-HP-ProBook-440-G7.mail (25.8ms)
Date: Sun, 03 Dec 2023 12:43:41 +0530
From: from@example.com
To: ismael.hilpert@dach.test
Message-ID: <656c2aa5c13f0_249712e89855c@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Rex Lind MD,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=247nWV39V523bzeUXgUpzQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 301ms (Views: 0.6ms | ActiveRecord: 4.9ms | Allocations: 39097)


  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"walton@keeling.test", "name"=>"Mia Homenick", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "walton@keeling.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Mia Homenick"], ["email", "walton@keeling.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:13:42.063787"], ["updated_at", "2023-12-03 07:13:42.063787"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.5ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 2.4ms
Delivered mail 656c2aa611dae_249712e898679@itsupport-HP-ProBook-440-G7.mail (10.6ms)
Date: Sun, 03 Dec 2023 12:43:42 +0530
From: from@example.com
To: walton@keeling.test
Message-ID: <656c2aa611dae_249712e898679@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Mia Homenick,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=RsyXa4Uy9D8ryGxK3S5Yaw">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 259ms (Views: 0.3ms | ActiveRecord: 4.7ms | Allocations: 8333)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"joanie_emard@denesik.test", "name"=>"Cynthia Robel VM", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "joanie_emard@denesik.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 257ms (Views: 0.3ms | ActiveRecord: 2.3ms | Allocations: 2157)


  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"yajaira@grant.example", "name"=>"Joselyn Hettinger", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "yajaira@grant.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 245ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 2091)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "shelly_collins@sipes-raynor.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Marilynn Batz"], ["email", "shelly_collins@sipes-raynor.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:13:42.823850"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:13:42.827273"], ["updated_at", "2023-12-03 07:13:42.827273"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:15:in `confirm_user'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2023-12-03 07:13:42.832743"], ["id", 350]]
  ↳ app/controllers/api/registrations_controller.rb:17:in `confirm_user'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1368)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:15:in `confirm_user'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 536)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo@domain.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo@domain.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo@domain.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "eli@hilll.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Arica Yost"], ["email", "eli@hilll.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:24:03.494916"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:24:03.497934"], ["updated_at", "2023-12-03 07:24:03.497934"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo@domain.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "eli.trantow@ryan.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Kirby Bartoletti Ret."], ["email", "eli.trantow@ryan.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:25:00.664364"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:25:00.667350"], ["updated_at", "2023-12-03 07:25:00.667350"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo@domain.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "celestine.fritsch@murray.example"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Courtney Yost PhD"], ["email", "celestine.fritsch@murray.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:25:22.369862"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:25:22.373331"], ["updated_at", "2023-12-03 07:25:22.373331"]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo@domain.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "kristofer@johnson.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jacob Lubowitz"], ["email", "kristofer@johnson.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:25:45.900699"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:25:45.903700"], ["updated_at", "2023-12-03 07:25:45.903700"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo@domain.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "shantae@hackett.test"], ["LIMIT", 1]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Arnulfo Rodriguez"], ["email", "shantae@hackett.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:26:26.813768"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:26:26.817351"], ["updated_at", "2023-12-03 07:26:26.817351"]]
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ (byebug):1:in `block (4 levels) in <top (required)>'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo@domain.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "rickey@bauch.test"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Danyell Hickle VM"], ["email", "rickey@bauch.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:27:27.312109"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:27:27.315718"], ["updated_at", "2023-12-03 07:27:27.315718"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Gretta Reilly PhD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:30:37.329762"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:30:37.338063"], ["updated_at", "2023-12-03 07:30:37.338063"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 233)
  Rendered layout layouts/mailer.html.erb (Duration: 0.7ms | Allocations: 462)
ApplicationMailer#send_otp: processed outbound mail in 7.5ms
Delivered mail 656c2e9d8dbdd_2e0712fc60875@itsupport-HP-ProBook-440-G7.mail (12.9ms)
Date: Sun, 03 Dec 2023 13:00:37 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c2e9d8dbdd_2e0712fc60875@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Gretta Reilly PhD,<br>

<p>OTP to login to the websits is 289523. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 86418ms (Views: 1.3ms | ActiveRecord: 0.4ms | Allocations: 80123)


  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Mr. Ladonna Franecki"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:04.021291"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:04.025126"], ["updated_at", "2023-12-03 07:32:04.025126"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 358]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 209ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1080)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Bertram Russel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:04.448935"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:04.452235"], ["updated_at", "2023-12-03 07:32:04.452235"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 202ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Millard Huel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:04.873543"], ["updated_at", "2023-12-03 07:32:04.873543"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 594)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Howard Yost"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:05.106079"], ["updated_at", "2023-12-03 07:32:05.106079"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 578)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Rozella Wilderman Ret."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:05.339197"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:05.342980"], ["updated_at", "2023-12-03 07:32:05.342980"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"362"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 362], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:67:in `set_user'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 971)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Bryant Pouros"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:05.558216"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:05.561277"], ["updated_at", "2023-12-03 07:32:05.561277"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"363"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 363], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:67:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 702)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Fr. Tonie Prosacco"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:05.777406"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:05.780566"], ["updated_at", "2023-12-03 07:32:05.780566"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"364"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 364], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:67:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:57:in `update'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 364], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:57:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 07:32:05.788668"], ["id", 364]]
  ↳ app/controllers/api/users_controller.rb:57:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:57:in `update'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.5ms | Allocations: 3245)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 364], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Brad Gottlieb DO"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:06.010670"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:06.014554"], ["updated_at", "2023-12-03 07:32:06.014554"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"365"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 365], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:67:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:57:in `update'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 365], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:57:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:57:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 2507)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 365], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Shaunna Effertz"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:06.235324"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:06.238850"], ["updated_at", "2023-12-03 07:32:06.238850"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"366", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 366], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 201ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 803)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Suzie Kohler III"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:06.645884"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:06.650703"], ["updated_at", "2023-12-03 07:32:06.650703"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"367", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 367], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 408ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 752)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Tommy Stoltenberg"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:07.268588"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:07.274083"], ["updated_at", "2023-12-03 07:32:07.274083"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"368", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 368], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:45:in `change_password'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 368], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:45:in `change_password'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:45:in `change_password'
Completed 422 Unprocessable Entity in 607ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 2890)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Leon Kerluke"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:08.103548"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:08.106781"], ["updated_at", "2023-12-03 07:32:08.106781"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"369", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 369], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:45:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 369], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:45:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:45:in `change_password'
Completed 422 Unprocessable Entity in 593ms (Views: 0.6ms | ActiveRecord: 1.7ms | Allocations: 3253)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Jamila McGlynn IV"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:08.920970"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:08.924009"], ["updated_at", "2023-12-03 07:32:08.924009"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"370", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 370], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:45:in `change_password'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 370], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:45:in `change_password'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-03 07:32:09.531987"], ["id", 370]]
  ↳ app/controllers/api/users_controller.rb:45:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:45:in `change_password'
Completed 200 OK in 606ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 3344)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Lora Jacobson DDS"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:13.097831"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:13.105627"], ["updated_at", "2023-12-03 07:32:13.105627"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 233)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 462)
ApplicationMailer#send_otp: processed outbound mail in 7.5ms
Delivered mail 656c2efd54fec_2efa12fc813e2@itsupport-HP-ProBook-440-G7.mail (13.2ms)
Date: Sun, 03 Dec 2023 13:02:13 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c2efd54fec_2efa12fc813e2@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Lora Jacobson DDS,<br>

<p>OTP to login to the websits is 131278. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 22269)


  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Truman Medhurst"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:13.606156"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:13.613059"], ["updated_at", "2023-12-03 07:32:13.613059"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 372]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 247ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 908)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Dr. Kenton Wiegand"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:14.077571"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:14.081067"], ["updated_at", "2023-12-03 07:32:14.081067"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 203ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Bobbie Heaney DDS"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:14.503061"], ["updated_at", "2023-12-03 07:32:14.503061"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 594)


  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Kirby Schultz V"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:14.723634"], ["updated_at", "2023-12-03 07:32:14.723634"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 578)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Shaun Welch VM"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:14.936023"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:14.938768"], ["updated_at", "2023-12-03 07:32:14.938768"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"376"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 376], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 910)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "James King DC"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:15.158402"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:15.161265"], ["updated_at", "2023-12-03 07:32:15.161265"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"377"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 377], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 702)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Pres. Tiffany Breitenberg"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:15.369906"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:15.372733"], ["updated_at", "2023-12-03 07:32:15.372733"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"378"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 378], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 378], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 07:32:15.395718"], ["id", 378]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 3239)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 378], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Msgr. Margarito Bednar"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:15.600660"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:15.603645"], ["updated_at", "2023-12-03 07:32:15.603645"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"379"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 379], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 379], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 2507)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 379], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Mr. Earl Koelpin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:15.833665"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:15.837443"], ["updated_at", "2023-12-03 07:32:15.837443"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"380", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 380], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 203ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 799)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Edra Will"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:16.244378"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:16.247624"], ["updated_at", "2023-12-03 07:32:16.247624"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"381", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 381], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 384ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 752)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Waltraud Harber"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:16.833990"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:16.836795"], ["updated_at", "2023-12-03 07:32:16.836795"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"382", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 382], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 382], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
Completed 422 Unprocessable Entity in 596ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 2887)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Valorie Tillman"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:17.635253"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:17.638944"], ["updated_at", "2023-12-03 07:32:17.638944"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"383", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 383], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 383], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
Completed 422 Unprocessable Entity in 591ms (Views: 0.6ms | ActiveRecord: 2.1ms | Allocations: 3237)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Msgr. Florentina Tromp"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:32:18.439043"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:32:18.441941"], ["updated_at", "2023-12-03 07:32:18.441941"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"384", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 384], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 384], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-03 07:32:19.044493"], ["id", 384]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
Completed 200 OK in 603ms (Views: 0.1ms | ActiveRecord: 2.2ms | Allocations: 3344)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Willard Metz VM"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:33:59.497864"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:33:59.510089"], ["updated_at", "2023-12-03 07:33:59.510089"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.4ms | Allocations: 232)
  Rendered layout layouts/mailer.html.erb (Duration: 0.7ms | Allocations: 461)
ApplicationMailer#send_otp: processed outbound mail in 8.4ms
Delivered mail 656c2f67b84a4_306112fc932ab@itsupport-HP-ProBook-440-G7.mail (12.5ms)
Date: Sun, 03 Dec 2023 13:03:59 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c2f67b84a4_306112fc932ab@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Willard Metz VM,<br>

<p>OTP to login to the websits is 286873. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 22272)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Briana Hills"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:33:59.999686"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:34:00.005286"], ["updated_at", "2023-12-03 07:34:00.005286"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 386]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 238ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 908)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Edmond Thompson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:34:00.466637"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:34:00.469781"], ["updated_at", "2023-12-03 07:34:00.469781"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 207ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 654)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Salena Johnston Esq."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:34:00.885714"], ["updated_at", "2023-12-03 07:34:00.885714"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 594)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Refugio Dibbert"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:34:01.098439"], ["updated_at", "2023-12-03 07:34:01.098439"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 578)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Amb. Jazmin Dare"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:34:01.307019"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:34:01.310390"], ["updated_at", "2023-12-03 07:34:01.310390"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"390"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 390], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 910)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Anthony Halvorson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:34:01.521130"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:34:01.524156"], ["updated_at", "2023-12-03 07:34:01.524156"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"391"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 391], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 702)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Lashell Huel"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:34:01.732560"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:34:01.735384"], ["updated_at", "2023-12-03 07:34:01.735384"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"392"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 392], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 392], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 07:34:01.758718"], ["id", 392]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 3238)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 392], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Winford Franecki V"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:34:01.971104"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:34:01.974227"], ["updated_at", "2023-12-03 07:34:01.974227"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"393"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 393], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 393], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 1.7ms | Allocations: 2507)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 393], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Molly Kozey CPA"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:34:02.188106"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:34:02.191392"], ["updated_at", "2023-12-03 07:34:02.191392"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"394", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 394], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 206ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 799)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Sandra Harber"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:34:02.601547"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:34:02.605155"], ["updated_at", "2023-12-03 07:34:02.605155"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"395", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 395], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 419ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 752)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Heide Daugherty"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:34:03.226890"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:34:03.230548"], ["updated_at", "2023-12-03 07:34:03.230548"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"396", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 396], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 396], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
Completed 422 Unprocessable Entity in 589ms (Views: 0.1ms | ActiveRecord: 1.9ms | Allocations: 2888)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Timmy Ebert"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:34:04.033246"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:34:04.036170"], ["updated_at", "2023-12-03 07:34:04.036170"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"397", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 397], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 397], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
Completed 422 Unprocessable Entity in 585ms (Views: 0.6ms | ActiveRecord: 1.9ms | Allocations: 3237)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "Tenisha O'Conner"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:34:04.824532"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["created_at", "2023-12-03 07:34:04.827269"], ["updated_at", "2023-12-03 07:34:04.827269"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"398", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 398], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 398], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-03 07:34:05.417444"], ["id", 398]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
Completed 200 OK in 591ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 3344)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (7.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20231201120434'[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "confirm_token" character varying, "confirmed_at" timestamp(6), "otp_secret_key" character varying, "authy_enabled" boolean DEFAULT TRUE, "qr_secret" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201120434') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4451359760670758670)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Erik Koelpin"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:39:34.743284"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:39:34.751322"], ["updated_at", "2023-12-03 07:39:34.751322"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 233)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 462)
ApplicationMailer#send_otp: processed outbound mail in 7.1ms
Delivered mail 656c30b6f0728_32b512fc32262@itsupport-HP-ProBook-440-G7.mail (12.5ms)
Date: Sun, 03 Dec 2023 13:09:34 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c30b6f0728_32b512fc32262@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Erik Koelpin,<br>

<p>OTP to login to the websits is 537204. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 235ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 22275)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Kiyoko Paucek"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:39:35.235290"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:39:35.243147"], ["updated_at", "2023-12-03 07:39:35.243147"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 2]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 239ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 910)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Antone Langworth"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:39:35.698265"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:39:35.701159"], ["updated_at", "2023-12-03 07:39:35.701159"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 204ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 657)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Mason Hilll"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:39:36.140517"], ["updated_at", "2023-12-03 07:39:36.140517"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 597)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Lakiesha Feil"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:39:36.352091"], ["updated_at", "2023-12-03 07:39:36.352091"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 580)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Digna Watsica JD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:39:36.563942"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:39:36.566962"], ["updated_at", "2023-12-03 07:39:36.566962"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 912)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "The Hon. Seymour Bruen"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:39:36.773589"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:39:36.776445"], ["updated_at", "2023-12-03 07:39:36.776445"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 705)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ofelia Dietrich"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:39:37.022684"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:39:37.025715"], ["updated_at", "2023-12-03 07:39:37.025715"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 07:39:37.049510"], ["id", 8]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 3251)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Sen. Valeri Braun"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:39:37.262325"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:39:37.265193"], ["updated_at", "2023-12-03 07:39:37.265193"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2520)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Eldon Johnson"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:39:37.481421"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:39:37.484621"], ["updated_at", "2023-12-03 07:39:37.484621"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"10"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2023-12-03 07:39:37.491318"], ["id", 10]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 3107)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ike Welch"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:39:37.698419"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:39:37.701368"], ["updated_at", "2023-12-03 07:39:37.701368"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"11", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 200ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 801)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Kerry Bartell"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:39:38.106985"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:39:38.110343"], ["updated_at", "2023-12-03 07:39:38.110343"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"12", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 394ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 755)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Otis Kovacek DC"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:39:38.718593"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:39:38.721727"], ["updated_at", "2023-12-03 07:39:38.721727"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"13", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
Completed 422 Unprocessable Entity in 606ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 2891)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ebony Roberts"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:39:39.544754"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:39:39.547686"], ["updated_at", "2023-12-03 07:39:39.547686"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"14", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
Completed 422 Unprocessable Entity in 599ms (Views: 0.6ms | ActiveRecord: 1.9ms | Allocations: 3240)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Sadie Ruecker"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:39:40.355722"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:39:40.359848"], ["updated_at", "2023-12-03 07:39:40.359848"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"15", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-03 07:39:40.960799"], ["id", 15]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
Completed 200 OK in 599ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 3350)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo@domain.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "kattie@cole.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Brett Schroeder"], ["email", "kattie@cole.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:41:34.162534"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:34.165752"], ["updated_at", "2023-12-03 07:41:34.165752"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Gov. Mazie Orn"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:41:41.593352"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:41.600501"], ["updated_at", "2023-12-03 07:41:41.600501"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_otp.html.erb within layouts/mailer
  Rendered application_mailer/send_otp.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 233)
  Rendered layout layouts/mailer.html.erb (Duration: 0.6ms | Allocations: 462)
ApplicationMailer#send_otp: processed outbound mail in 8.3ms
Delivered mail 656c3135cc61b_343612fc7508b@itsupport-HP-ProBook-440-G7.mail (12.3ms)
Date: Sun, 03 Dec 2023 13:11:41 +0530
From: from@example.com
To: tester@test.com
Message-ID: <656c3135cc61b_343612fc7508b@itsupport-HP-ProBook-440-G7.mail>
Subject: One Time Password to login
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Gov. Mazie Orn,<br>

<p>OTP to login to the websits is 882230. Please do not share this with anyone. The OTP expites in 60 seconds.</p>
  </body>
</html>

Completed 200 OK in 239ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 22275)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Gov. Dominique Weissnat"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:41:42.085728"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:42.089901"], ["updated_at", "2023-12-03 07:41:42.089901"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1 WHERE "users"."id" = $2[0m  [["authy_enabled", false], ["id", 18]]
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 200 OK in 241ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 913)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Georgie Abbott"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:41:42.560291"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:42.563763"], ["updated_at", "2023-12-03 07:41:42.563763"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 223ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 657)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Vito Cruickshank"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:43.020579"], ["updated_at", "2023-12-03 07:41:43.020579"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 597)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester1@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Long Raynor I"], ["email", "tester1@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:43.243625"], ["updated_at", "2023-12-03 07:41:43.243625"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#sign_in as HTML
  Parameters: {"user"=>{"email"=>"tester@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:6:in `sign_in'
Completed 404 Not Found in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 580)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Amb. Cyrstal Dach"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:41:43.468098"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:43.471875"], ["updated_at", "2023-12-03 07:41:43.471875"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 910)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Luis Herzog II"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:41:43.703177"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:43.706375"], ["updated_at", "2023-12-03 07:41:43.706375"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#verify_token as HTML
  Parameters: {"otp"=>"[FILTERED]", "id"=>"23"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 701)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Eric Feeney"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:41:43.919731"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:43.922609"], ["updated_at", "2023-12-03 07:41:43.922609"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"0"}, "id"=>"24"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 24], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "authy_enabled" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["authy_enabled", false], ["updated_at", "2023-12-03 07:41:43.946343"], ["id", 24]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.0ms | Allocations: 3251)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Gilbert Hansen Ret."], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:41:44.166003"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:44.169327"], ["updated_at", "2023-12-03 07:41:44.169327"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1"}, "id"=>"25"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 25], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 2520)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Wm Osinski"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:41:44.393205"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:44.396751"], ["updated_at", "2023-12-03 07:41:44.396751"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#update as HTML
  Parameters: {"user"=>{"authy_enabled"=>"1", "qr_secret"=>"[FILTERED]"}, "id"=>"26"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:66:in `set_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "qr_secret" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["qr_secret", "[FILTERED]"], ["updated_at", "2023-12-03 07:41:44.409635"], ["id", 26]]
  ↳ app/controllers/api/users_controller.rb:56:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:56:in `update'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 3.9ms | Allocations: 3107)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Terrilyn Harris"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:41:44.654815"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:44.657680"], ["updated_at", "2023-12-03 07:41:44.657680"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"27", "user"=>{"current_password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 221ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 801)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Margrett Predovic"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:41:45.111774"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:45.116154"], ["updated_at", "2023-12-03 07:41:45.116154"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"28", "user"=>{"current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
Completed 200 OK in 476ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 755)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Erasmo Mueller"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:41:45.816773"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:45.820023"], ["updated_at", "2023-12-03 07:41:45.820023"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"29", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
Completed 422 Unprocessable Entity in 671ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 2891)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Marguerita Hickle"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:41:46.716122"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:46.719734"], ["updated_at", "2023-12-03 07:41:46.719734"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"30", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
Completed 422 Unprocessable Entity in 693ms (Views: 1.4ms | ActiveRecord: 2.0ms | Allocations: 3241)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tester@test.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Iris Ortiz MD"], ["email", "tester@test.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:41:47.656241"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:47.661858"], ["updated_at", "2023-12-03 07:41:47.661858"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::UsersController#change_password as HTML
  Parameters: {"id"=>"31", "user"=>{"confirm_password"=>"[FILTERED]", "current_password"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "tester@test.com"], ["id", 31], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-12-03 07:41:48.386852"], ["id", 31]]
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/users_controller.rb:44:in `change_password'
Completed 200 OK in 720ms (Views: 0.1ms | ActiveRecord: 2.3ms | Allocations: 3350)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"mohamed@beer.test", "name"=>"Voncile Friesen", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "mohamed@beer.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Voncile Friesen"], ["email", "mohamed@beer.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:54.542269"], ["updated_at", "2023-12-03 07:41:54.542269"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.5ms | Allocations: 364)
  Rendered layout layouts/mailer.html.erb (Duration: 0.8ms | Allocations: 592)
ApplicationMailer#send_confirmation_email: processed outbound mail in 7.2ms
Delivered mail 656c31428a2bc_34bb12fc-4f2@itsupport-HP-ProBook-440-G7.mail (12.5ms)
Date: Sun, 03 Dec 2023 13:11:54 +0530
From: from@example.com
To: mohamed@beer.test
Message-ID: <656c31428a2bc_34bb12fc-4f2@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Voncile Friesen,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=LOVg3opcDrrUgp4PzyIVeQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 267ms (Views: 0.5ms | ActiveRecord: 4.2ms | Allocations: 40220)


  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"maddie.goodwin@wuckert.test", "name"=>"Marco Wolff", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "maddie.goodwin@wuckert.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Marco Wolff"], ["email", "maddie.goodwin@wuckert.test"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:54.817695"], ["updated_at", "2023-12-03 07:41:54.817695"]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  Rendering layout layouts/mailer.html.erb
  Rendering application_mailer/send_confirmation_email.html.erb within layouts/mailer
  Rendered application_mailer/send_confirmation_email.html.erb within layouts/mailer (Duration: 0.3ms | Allocations: 58)
  Rendered layout layouts/mailer.html.erb (Duration: 0.5ms | Allocations: 124)
ApplicationMailer#send_confirmation_email: processed outbound mail in 2.9ms
Delivered mail 656c3142c976d_34bb12fc-322@itsupport-HP-ProBook-440-G7.mail (17.6ms)
Date: Sun, 03 Dec 2023 13:11:54 +0530
From: from@example.com
To: maddie.goodwin@wuckert.test
Message-ID: <656c3142c976d_34bb12fc-322@itsupport-HP-ProBook-440-G7.mail>
Subject: Regstration Confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Hi Marco Wolff,<br>

Thanks for registering! To confirm your registration click the URL below.<br>
<a href="http://localhost:3000/api/registrations/confirm_user?token=ZnuPj0a58LGeURojjLn_uQ">click here to confirm</a>
  </body>
</html>

Completed 200 OK in 258ms (Views: 0.4ms | ActiveRecord: 2.6ms | Allocations: 8423)


  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"jc@kozey-kemmer.example", "name"=>"Don Dooley", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "jc@kozey-kemmer.example"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 244ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 2157)


  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#create as HTML
  Parameters: {"user"=>{"confirm_password"=>"[FILTERED]", "email"=>"efrain@casper.test", "name"=>"Pres. Hal Roberts", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "efrain@casper.test"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  ↳ app/controllers/api/registrations_controller.rb:6:in `create'
Completed 422 Unprocessable Entity in 227ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 2092)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "tabetha@block.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Columbus Ebert PhD"], ["email", "tabetha@block.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:41:55.541204"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:41:55.544294"], ["updated_at", "2023-12-03 07:41:55.544294"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:15:in `confirm_user'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "confirmed_at" = $1 WHERE "users"."id" = $2[0m  [["confirmed_at", "2023-12-03 07:41:55.549565"], ["id", 34]]
  ↳ app/controllers/api/registrations_controller.rb:17:in `confirm_user'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1371)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by Api::RegistrationsController#confirm_user as HTML
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."confirm_token" = $1 LIMIT $2[0m  [["confirm_token", "[FILTERED]"], ["LIMIT", 1]]
  ↳ app/controllers/api/registrations_controller.rb:15:in `confirm_user'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 538)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo@domain.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "graham_schowalter@dietrich.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Amb. Marcus Stoltenberg"], ["email", "graham_schowalter@dietrich.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:42:05.996598"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:42:05.999771"], ["updated_at", "2023-12-03 07:42:05.999771"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo@domain.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "cammy@halvorson.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Faviola Hills PhD"], ["email", "cammy@halvorson.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:43:39.521644"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:43:39.524754"], ["updated_at", "2023-12-03 07:43:39.524754"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "elton@mills.example"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Andres Waters III"], ["email", "elton@mills.example"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2023-12-02 07:43:39.729472"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2023-12-03 07:43:39.732289"], ["updated_at", "2023-12-03 07:43:39.732289"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (287.9ms)[0m  [1m[35mCREATE DATABASE "demo_authy_app_dev" ENCODING = 'unicode'[0m
  [1m[35m (271.1ms)[0m  [1m[35mCREATE DATABASE "demo_authy_app_test" ENCODING = 'unicode'[0m
  [1m[35m (24.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6967493268123165120)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-01-24 09:48:18.453079', '2024-01-24 09:48:18.453093') RETURNING "key"[0m
Migrating to CreateUsers (20231201120434)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (22.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "confirm_token" character varying, "confirmed_at" timestamp(6), "otp_secret_key" character varying, "authy_enabled" boolean DEFAULT TRUE, "qr_secret" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20231201120434') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(6967493268123165120)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "demo@testing.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Demo"], ["email", "demo@testing.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", nil], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:33:40.435624"], ["updated_at", "2024-01-24 10:33:40.435624"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testing@demo.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "password_digest", "confirm_token", "confirmed_at", "otp_secret_key", "authy_enabled", "qr_secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "demo"], ["email", "testing@demo.com"], ["password_digest", "[FILTERED]"], ["confirm_token", "[FILTERED]"], ["confirmed_at", "2024-01-23 00:00:00"], ["otp_secret_key", "[FILTERED]"], ["authy_enabled", true], ["qr_secret", "[FILTERED]"], ["created_at", "2024-01-24 10:36:22.733286"], ["updated_at", "2024-01-24 10:36:22.733286"]]
  [1m[36mTRANSACTION (15.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "testing@demo.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
